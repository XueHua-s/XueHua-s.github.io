import{j as r}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.vDeobAm6.js";import{u as c}from"./index.D8A-VS5Y.js";import{d as i,c as o}from"./ui.B4yy_69F.js";import{a as l}from"./utils.09jiQjc0.js";import{C as m}from"./menuButtons.U3WPvQZg.js";import"./_commonjsHelpers.CqkleIqs.js";import"./index.BSdFiPHn.js";import"./proxy.DzZABkkb.js";function j({children:d}){const e=c(i),a=t.useRef(null);return t.useEffect(()=>{const n=f=>{f.key==="Escape"&&i.get()&&o()},s=()=>{o()};return document.addEventListener("keydown",n),document.addEventListener("astro:before-preparation",s),()=>{document.removeEventListener("keydown",n),document.removeEventListener("astro:before-preparation",s)}},[]),t.useEffect(()=>(document.body.style.overflow=e?"hidden":"",()=>{document.body.style.overflow=""}),[e]),t.useEffect(()=>{e&&a.current?.focus()},[e]),r.jsxs(r.Fragment,{children:[r.jsx("div",{id:"drawer-overlay",className:l("fixed inset-0 z-[60] bg-black/50",!e&&"hidden"),role:"presentation","aria-hidden":!e,onClick:o}),r.jsx("div",{id:"mobile-drawer",className:l("bg-gradient-start tablet:flex fixed inset-y-0 left-0 z-[70] hidden h-screen w-[70vw] min-w-64 transform px-4 pt-6 shadow-lg backdrop-blur-sm transition-transform duration-300 md:px-0",e?"translate-x-0":"-translate-x-full"),role:"dialog","aria-label":"导航菜单","aria-modal":"true",children:r.jsxs("div",{className:"flex h-full w-full flex-col overflow-auto",children:[r.jsx("div",{className:"flex justify-end pb-2 pr-4",children:r.jsx(m,{className:"flex",id:"close-drawer",buttonRef:a})}),d]})})]})}export{j as default};
