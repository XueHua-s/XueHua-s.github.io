import{j as o}from"./jsx-runtime.D_zvdyIk.js";import{E as g}from"./react-error-boundary.esm.D0Hl9p49.js";import{G as j,a as y}from"./index.BPgbzMI-.js";import{r as a,b as E}from"./index.vDeobAm6.js";import{c as k}from"./index.CDeUW-aT.js";import{a as C}from"./utils.09jiQjc0.js";function b(e){return j({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"},child:[]}]})(e)}function h(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function N(...e){return r=>{let n=!1;const i=e.map(t=>{const s=h(t,r);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let t=0;t<i.length;t++){const s=i[t];typeof s=="function"?s():h(e[t],null)}}}}var R=Symbol.for("react.lazy"),p=E[" use ".trim().toString()];function z(e){return typeof e=="object"&&e!==null&&"then"in e}function v(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===R&&"_payload"in e&&z(e._payload)}function w(e){const r=_(e),n=a.forwardRef((i,t)=>{let{children:s,...l}=i;v(s)&&typeof p=="function"&&(s=p(s._payload));const c=a.Children.toArray(s),d=c.find(I);if(d){const u=d.props.children,f=c.map(x=>x===d?a.Children.count(u)>1?a.Children.only(null):a.isValidElement(u)?u.props.children:null:x);return o.jsx(r,{...l,ref:t,children:a.isValidElement(u)?a.cloneElement(u,void 0,f):null})}return o.jsx(r,{...l,ref:t,children:s})});return n.displayName=`${e}.Slot`,n}var S=w("Slot");function _(e){const r=a.forwardRef((n,i)=>{let{children:t,...s}=n;if(v(t)&&typeof p=="function"&&(t=p(t._payload)),a.isValidElement(t)){const l=B(t),c=A(s,t.props);return t.type!==a.Fragment&&(c.ref=i?N(i,l):l),a.cloneElement(t,c)}return a.Children.count(t)>1?a.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var V=Symbol("radix.slottable");function I(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V}function A(e,r){const n={...r};for(const i in r){const t=e[i],s=r[i];/^on[A-Z]/.test(i)?t&&s?n[i]=(...c)=>{const d=s(...c);return t(...c),d}:t&&(n[i]=t):i==="style"?n[i]={...t,...s}:i==="className"&&(n[i]=[t,s].filter(Boolean).join(" "))}return{...e,...n}}function B(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const P=k("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-background/70",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline","gradient-shoka":"bg-gradient-shoka-button text-primary-foreground"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=a.forwardRef(({className:e,variant:r,size:n,asChild:i=!1,...t},s)=>{const l=i?S:"button";return o.jsx(l,{className:C(P({variant:r,size:n,className:e})),ref:s,...t})});m.displayName="Button";const $=({error:e,resetErrorBoundary:r,title:n="Oops, something went wrong!",showDetails:i=!1,actions:t})=>{const s=e instanceof Error?e.message:String(e);return e instanceof Error&&e.stack,o.jsxs("div",{className:"flex w-full flex-col items-center gap-4 rounded-lg border border-red-200 bg-red-50 p-6 dark:border-red-900/50 dark:bg-red-950/20",children:[o.jsxs("div",{className:"flex-center gap-2 text-lg font-medium text-red-700 dark:text-red-400",children:[o.jsx("svg",{className:"size-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n]}),i&&s&&o.jsxs("div",{className:"w-full rounded-md bg-red-100 p-3 font-mono text-sm text-red-800 dark:bg-red-900/30 dark:text-red-300",children:[o.jsxs("p",{className:"font-semibold",children:["Error: ",s]}),!1]}),o.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3",children:t??o.jsxs(o.Fragment,{children:[o.jsxs(m,{variant:"outline",size:"sm",onClick:r,className:"gap-1.5",children:[o.jsx(y,{className:"size-4"}),"Try Again"]}),o.jsxs("a",{href:"https://github.com/cosZone/astro-koharu/issues/new",target:"_blank",rel:"noreferrer",className:"flex-center gap-1.5 text-sm text-blue-600 transition-colors hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(b,{className:"size-4"}),"Report Issue"]})]})})]})},W=({error:e,resetErrorBoundary:r})=>{const n=e instanceof Error?e.message:String(e);return o.jsxs("div",{className:"flex-center-y gap-2 text-lg text-red-600 dark:text-red-400",children:[o.jsxs("span",{children:["Error",n?`: ${n}`:""]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[o.jsxs(m,{variant:"outline",size:"sm",onClick:r,className:"gap-1.5",children:[o.jsx(y,{className:"size-4"}),"Try Again"]}),o.jsx("a",{href:"https://github.com/cosZone/astro-koharu/issues/new",target:"_blank",rel:"noreferrer",children:o.jsxs(m,{variant:"outline",size:"sm",onClick:r,className:"gap-1.5",children:[o.jsx(b,{className:"size-4"}),"Report Issue"]})})]})]})},Z=({children:e,fallback:r,fallbackRender:n,FallbackComponent:i,onError:t,onReset:s,resetKeys:l})=>{const d={onError:(u,f)=>{console.error("[ErrorBoundary]",u,f),t?.(u,f)},onReset:s,resetKeys:l};return r!==void 0?o.jsx(g,{...d,fallback:r,children:e}):n!==void 0?o.jsx(g,{...d,fallbackRender:n,children:e}):o.jsx(g,{...d,FallbackComponent:i??$,children:e})};export{Z as E,W as I,$ as a};
