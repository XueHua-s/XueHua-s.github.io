import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{a as m,h as E}from"./app.t92eDNBF.js";import{c as r}from"./utils.BEHD0UYf.js";import{R as f,r as u}from"./index.vDeobAm6.js";import{u as I}from"./use-reduced-motion.G-muIoyJ.js";import{m as p}from"./proxy.DepoKxzr.js";import{A as C}from"./index.CvmSC7dN.js";import{e as O,f as H,g as _}from"./index.DLeqLTl-.js";import"./index.BSdFiPHn.js";import"./_commonjsHelpers.CqkleIqs.js";const h=({options:o,defaultValue:l,onChange:a,className:d,id:S,indicateClass:w,itemClass:v,value:i})=>{const[R,j]=u.useState(()=>i??l??o[0]?.value??""),e=I(),N=u.useCallback(t=>{i===void 0&&j(t),a?.(t)},[a,i]),x=i??R,k=u.useCallback(t=>x===t,[x]);return s.jsx("div",{className:r("bg-muted flex w-fit cursor-pointer rounded-sm p-1 text-xs font-semibold backdrop-blur-lg select-none",d),children:o.map(t=>{if(!t)return null;const{label:g,value:c,icon:b}=t,n=k(c);return s.jsxs(p.div,{className:r("flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs",{"text-primary-foreground":n},{"opacity-50":!n},v),onClick:()=>N(c),layout:!e,transition:e?{duration:0}:{type:"spring",stiffness:400,damping:30},children:[b&&s.jsx("span",{className:"flex-center shrink-0",children:f.createElement(b,{className:"w-4 h-4"})}),s.jsx(C,{initial:!1,mode:"wait",children:n&&g&&s.jsx(p.span,{initial:e?void 0:{width:0,opacity:0},animate:{width:"auto",opacity:1},exit:e?void 0:{width:0,opacity:0},transition:e?{duration:0}:{width:{duration:.2,ease:"easeInOut"},opacity:{duration:.15,ease:"easeInOut"}},className:"overflow-hidden whitespace-nowrap",children:g})}),n&&s.jsx(p.div,{layoutId:`segmented_selected_bg_${S??"default"}`,className:r("bg-gradient-shoka-button absolute inset-0 -z-10 rounded-sm",w),transition:e?{duration:0}:{type:"spring",stiffness:400,damping:30},style:{willChange:e?"auto":"transform"}})]},c)})})};f.memo(h);const y=({className:o,...l})=>{const a=[{label:"站点概览",value:m.INFO,icon:O},{label:"文章目录",value:m.DIRECTORY,icon:H},{label:"系列文章",value:m.SERIES,icon:_}];return s.jsx(h,{...l,options:a,className:r("flex w-fit cursor-pointer rounded-sm bg-black/8 p-1 text-xs font-semibold backdrop-blur-lg select-none",o),onChange:d=>E.set(d)})};y.displayName="HomeSiderSegmented";const Y=f.memo(y);export{Y as default};
