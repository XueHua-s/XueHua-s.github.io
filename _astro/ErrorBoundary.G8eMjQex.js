import{j as i}from"./jsx-runtime.D_zvdyIk.js";import{E as h}from"./react-error-boundary.esm.D0Hl9p49.js";import{G as V,h as N}from"./index.DLeqLTl-.js";import{r as l,b as w}from"./index.vDeobAm6.js";import{a as S,c as _}from"./utils.BEHD0UYf.js";function k(e){return V({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"},child:[]}]})(e)}function b(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function A(...e){return t=>{let r=!1;const o=e.map(n=>{const s=b(n,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let n=0;n<o.length;n++){const s=o[n];typeof s=="function"?s():b(e[n],null)}}}}var I=Symbol.for("react.lazy"),v=w[" use ".trim().toString()];function O(e){return typeof e=="object"&&e!==null&&"then"in e}function C(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===I&&"_payload"in e&&O(e._payload)}function P(e){const t=B(e),r=l.forwardRef((o,n)=>{let{children:s,...c}=o;C(s)&&typeof v=="function"&&(s=v(s._payload));const d=l.Children.toArray(s),u=d.find(L);if(u){const a=u.props.children,f=d.map(m=>m===u?l.Children.count(a)>1?l.Children.only(null):l.isValidElement(a)?a.props.children:null:m);return i.jsx(t,{...c,ref:n,children:l.isValidElement(a)?l.cloneElement(a,void 0,f):null})}return i.jsx(t,{...c,ref:n,children:s})});return r.displayName=`${e}.Slot`,r}var $=P("Slot");function B(e){const t=l.forwardRef((r,o)=>{let{children:n,...s}=r;if(C(n)&&typeof v=="function"&&(n=v(n._payload)),l.isValidElement(n)){const c=M(n),d=F(s,n.props);return n.type!==l.Fragment&&(d.ref=o?A(o,c):c),l.cloneElement(n,d)}return l.Children.count(n)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var T=Symbol("radix.slottable");function L(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===T}function F(e,t){const r={...t};for(const o in t){const n=e[o],s=t[o];/^on[A-Z]/.test(o)?n&&s?r[o]=(...d)=>{const u=s(...d);return n(...d),u}:n&&(r[o]=n):o==="style"?r[o]={...n,...s}:o==="className"&&(r[o]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}function M(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const j=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,E=S,W=(e,t)=>r=>{var o;if(t?.variants==null)return E(e,r?.class,r?.className);const{variants:n,defaultVariants:s}=t,c=Object.keys(n).map(a=>{const f=r?.[a],m=s?.[a];if(f===null)return null;const p=j(f)||j(m);return n[a][p]}),d=r&&Object.entries(r).reduce((a,f)=>{let[m,p]=f;return p===void 0||(a[m]=p),a},{}),u=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((a,f)=>{let{class:m,className:p,...R}=f;return Object.entries(R).every(z=>{let[y,x]=z;return Array.isArray(x)?x.includes({...s,...d}[y]):{...s,...d}[y]===x})?[...a,m,p]:a},[]);return E(e,c,u,r?.class,r?.className)},H=W("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-background/70",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline","gradient-shoka":"bg-gradient-shoka-button text-primary-foreground"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=l.forwardRef(({className:e,variant:t,size:r,asChild:o=!1,...n},s)=>{const c=o?$:"button";return i.jsx(c,{className:_(H({variant:t,size:r,className:e})),ref:s,...n})});g.displayName="Button";const Z=({error:e,resetErrorBoundary:t,title:r="Oops, something went wrong!",showDetails:o=!1,actions:n})=>{const s=e instanceof Error?e.message:String(e);return e instanceof Error&&e.stack,i.jsxs("div",{className:"flex w-full flex-col items-center gap-4 rounded-lg border border-red-200 bg-red-50 p-6 dark:border-red-900/50 dark:bg-red-950/20",children:[i.jsxs("div",{className:"flex-center gap-2 text-lg font-medium text-red-700 dark:text-red-400",children:[i.jsx("svg",{className:"size-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r]}),o&&s&&i.jsxs("div",{className:"w-full rounded-md bg-red-100 p-3 font-mono text-sm text-red-800 dark:bg-red-900/30 dark:text-red-300",children:[i.jsxs("p",{className:"font-semibold",children:["Error: ",s]}),!1]}),i.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3",children:n??i.jsxs(i.Fragment,{children:[i.jsxs(g,{variant:"outline",size:"sm",onClick:t,className:"gap-1.5",children:[i.jsx(N,{className:"size-4"}),"Try Again"]}),i.jsxs("a",{href:"https://github.com/cosZone/astro-koharu/issues/new",target:"_blank",rel:"noreferrer",className:"flex-center gap-1.5 text-sm text-blue-600 transition-colors hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[i.jsx(k,{className:"size-4"}),"Report Issue"]})]})})]})},q=({error:e,resetErrorBoundary:t})=>{const r=e instanceof Error?e.message:String(e);return i.jsxs("div",{className:"flex-center-y gap-2 text-lg text-red-600 dark:text-red-400",children:[i.jsxs("span",{children:["Error",r?`: ${r}`:""]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[i.jsxs(g,{variant:"outline",size:"sm",onClick:t,className:"gap-1.5",children:[i.jsx(N,{className:"size-4"}),"Try Again"]}),i.jsx("a",{href:"https://github.com/cosZone/astro-koharu/issues/new",target:"_blank",rel:"noreferrer",children:i.jsxs(g,{variant:"outline",size:"sm",onClick:t,className:"gap-1.5",children:[i.jsx(k,{className:"size-4"}),"Report Issue"]})})]})]})},J=({children:e,fallback:t,fallbackRender:r,FallbackComponent:o,onError:n,onReset:s,resetKeys:c})=>{const u={onError:(a,f)=>{console.error("[ErrorBoundary]",a,f),n?.(a,f)},onReset:s,resetKeys:c};return t!==void 0?i.jsx(h,{...u,fallback:t,children:e}):r!==void 0?i.jsx(h,{...u,fallbackRender:r,children:e}):i.jsx(h,{...u,FallbackComponent:o??Z,children:e})};export{J as E,q as I,Z as a};
