/* empty css                       */function h(){const s=document.getElementById("theme-toggle-btn");if(!s||s.dataset.listenerAttached==="true")return;const t=document.documentElement,o=s.querySelector(".light-icon"),a=s.querySelector(".dark-icon");if(!o||!a)return;function i(){t.classList.contains("dark")?(o.style.opacity="0",o.style.transform="rotate(180deg) scale(0)",a.style.opacity="1",a.style.transform="rotate(0deg) scale(1)"):(o.style.opacity="1",o.style.transform="rotate(0deg) scale(1)",a.style.opacity="0",a.style.transform="rotate(-180deg) scale(0)")}i();function r(){const e=!t.classList.contains("dark"),l=document.querySelector(".theme-toggle");let d=window.innerWidth/2,m=window.innerHeight/2;if(l){const n=l.getBoundingClientRect();d=n.left+n.width/2,m=n.top+n.height/2}if(t.classList.add("theme-transition"),!document.startViewTransition){c(e),i(),setTimeout(()=>{t.classList.remove("theme-transition")},100);return}const g=document.startViewTransition(()=>{c(e),i()});g.ready.then(()=>{t.style.setProperty("--x",`${d}px`),t.style.setProperty("--y",`${m}px`)}).catch(n=>{console.error("过渡动画设置错误:",n)}),g.finished.then(()=>{t.classList.remove("theme-transition")}).catch(()=>{t.classList.remove("theme-transition")})}function c(e){e?(t.classList.add("dark"),t.classList.remove("light"),t.dataset.theme="dark",localStorage.setItem("theme","dark")):(t.classList.remove("dark"),t.classList.add("light"),t.dataset.theme="light",localStorage.setItem("theme","light"))}s.addEventListener("click",r),s.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),r())}),s.dataset.listenerAttached="true"}document.readyState!=="loading"&&h();document.addEventListener("astro:page-load",h);
