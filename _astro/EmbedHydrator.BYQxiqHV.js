import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{E as Dt,a as Ot}from"./ErrorBoundary.BlBk5b4u.js";import{r as h,R as Ve}from"./index.vDeobAm6.js";import{c as Lt}from"./client.DCRL4RJT.js";import{s as Ye}from"./index.B1BUzvhR.js";import{c as U}from"./utils.09jiQjc0.js";import{s as Fe,a as Ze,b as je,c as kt,d as T,e as At,f as $t,g as Mt,h as I,i as re,j as Vt,k as we,l as S,m as ye,n as et,o as X,p as Ft,q as Pt,r as Bt,t as Wt}from"./_slug_.2ce4929a.CAw4GZtD.js";import"./react-error-boundary.esm.D0Hl9p49.js";import"./index.BPgbzMI-.js";import"./index.CDeUW-aT.js";import"./_commonjsHelpers.CqkleIqs.js";import"./index.CVgE1JxM.js";function qt(){const[e,n]=h.useState(!1);return h.useEffect(()=>{const s=()=>{n(document.documentElement.classList.contains("dark"))};s();const r=new MutationObserver(a=>{for(const o of a)if(o.type==="attributes"&&o.attributeName==="class"){s();break}});return r.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>r.disconnect()},[]),e}const Ut=()=>t.jsx("svg",{viewBox:"0 0 24 24","aria-label":"Verified account",role:"img",className:Fe.verified,children:t.jsx("g",{children:t.jsx("path",{d:"M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"})})}),zt=()=>t.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:Fe.verified,children:t.jsxs("g",{children:[t.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-a",x1:"4.411",x2:"18.083",y1:"2.495",y2:"21.508",children:[t.jsx("stop",{offset:"0",stopColor:"#f4e72a"}),t.jsx("stop",{offset:".539",stopColor:"#cd8105"}),t.jsx("stop",{offset:".68",stopColor:"#cb7b00"}),t.jsx("stop",{offset:"1",stopColor:"#f4ec26"}),t.jsx("stop",{offset:"1",stopColor:"#f4e72a"})]}),t.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"0-b",x1:"5.355",x2:"16.361",y1:"3.395",y2:"19.133",children:[t.jsx("stop",{offset:"0",stopColor:"#f9e87f"}),t.jsx("stop",{offset:".406",stopColor:"#e2b719"}),t.jsx("stop",{offset:".989",stopColor:"#e2b719"})]}),t.jsxs("g",{clipRule:"evenodd",fillRule:"evenodd",children:[t.jsx("path",{d:"M13.324 3.848L11 1.6 8.676 3.848l-3.201-.453-.559 3.184L2.06 8.095 3.48 11l-1.42 2.904 2.856 1.516.559 3.184 3.201-.452L11 20.4l2.324-2.248 3.201.452.559-3.184 2.856-1.516L18.52 11l1.42-2.905-2.856-1.516-.559-3.184zm-7.09 7.575l3.428 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-a)"}),t.jsx("path",{d:"M13.101 4.533L11 2.5 8.899 4.533l-2.895-.41-.505 2.88-2.583 1.37L4.2 11l-1.284 2.627 2.583 1.37.505 2.88 2.895-.41L11 19.5l2.101-2.033 2.895.41.505-2.88 2.583-1.37L17.8 11l1.284-2.627-2.583-1.37-.505-2.88zm-6.868 6.89l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fill:"url(#0-b)"}),t.jsx("path",{d:"M6.233 11.423l3.429 3.428 5.65-6.17.038-.033-.005 1.398-5.683 6.206-3.429-3.429-.003-1.405.005.003z",fill:"#d18800"})]})]})}),Ht=()=>t.jsx("svg",{viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",className:Fe.verified,children:t.jsx("g",{children:t.jsx("path",{clipRule:"evenodd",d:"M12.05 2.056c-.568-.608-1.532-.608-2.1 0l-1.393 1.49c-.284.303-.685.47-1.1.455L5.42 3.932c-.832-.028-1.514.654-1.486 1.486l.069 2.039c.014.415-.152.816-.456 1.1l-1.49 1.392c-.608.568-.608 1.533 0 2.101l1.49 1.393c.304.284.47.684.456 1.1l-.07 2.038c-.027.832.655 1.514 1.487 1.486l2.038-.069c.415-.014.816.152 1.1.455l1.392 1.49c.569.609 1.533.609 2.102 0l1.393-1.49c.283-.303.684-.47 1.099-.455l2.038.069c.832.028 1.515-.654 1.486-1.486L18 14.542c-.015-.415.152-.815.455-1.099l1.49-1.393c.608-.568.608-1.533 0-2.101l-1.49-1.393c-.303-.283-.47-.684-.455-1.1l.068-2.038c.029-.832-.654-1.514-1.486-1.486l-2.038.07c-.415.013-.816-.153-1.1-.456zm-5.817 9.367l3.429 3.428 5.683-6.206-1.347-1.247-4.4 4.795-2.072-2.072z",fillRule:"evenodd"})})}),Pe=({className:e,children:n})=>t.jsx("div",{className:U("react-tweet-theme",Ze.root,e),children:t.jsx("article",{className:Ze.article,children:n})}),ut=e=>t.jsx("img",{...e}),ft=({user:e,className:n})=>{const s=e.verified||e.is_blue_verified||e.verified_type;let r=t.jsx(Ut,{}),a=je.verifiedBlue;if(s)switch(e.is_blue_verified||(a=je.verifiedOld),e.verified_type){case"Government":r=t.jsx(Ht,{}),a=je.verifiedGovernment;break;case"Business":r=t.jsx(zt,{}),a=null;break}return s?t.jsx("div",{className:U(n,a),children:r}):null},ht=({user:e,className:n})=>{var s;const r=e.highlighted_label;if(!r)return null;const a=(s=r.badge)==null?void 0:s.url;return a?t.jsx("div",{className:U(kt.label,n),children:t.jsx("img",{src:a,alt:r.description})}):null},Gt=({tweet:e,components:n})=>{var s;const r=(s=n?.AvatarImg)!=null?s:ut,{user:a}=e;return t.jsxs("div",{className:T.header,children:[t.jsxs("a",{href:e.url,className:T.avatar,target:"_blank",rel:"noopener noreferrer",children:[t.jsx("div",{className:U(T.avatarOverflow,a.profile_image_shape==="Square"&&T.avatarSquare),children:t.jsx(r,{src:a.profile_image_url_https,alt:a.name,width:48,height:48})}),t.jsx("div",{className:T.avatarOverflow,children:t.jsx("div",{className:T.avatarShadow})})]}),t.jsxs("div",{className:T.author,children:[t.jsxs("a",{href:e.url,className:T.authorLink,target:"_blank",rel:"noopener noreferrer",children:[t.jsx("div",{className:T.authorLinkText,children:t.jsx("span",{title:a.name,children:a.name})}),t.jsx(ft,{user:a,className:T.authorVerified}),t.jsx(ht,{user:a})]}),t.jsxs("div",{className:T.authorMeta,children:[t.jsx("a",{href:e.url,className:T.username,target:"_blank",rel:"noopener noreferrer",children:t.jsxs("span",{title:`@${a.screen_name}`,children:["@",a.screen_name]})}),t.jsxs("div",{className:T.authorFollow,children:[t.jsx("span",{className:T.separator,children:"·"}),t.jsx("a",{href:a.follow_url,className:T.follow,target:"_blank",rel:"noopener noreferrer",children:"Follow"})]})]})]}),t.jsx("a",{href:e.url,className:T.brand,target:"_blank",rel:"noopener noreferrer","aria-label":"View on Twitter",children:t.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:T.twitterIcon,children:t.jsx("g",{children:t.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})})]})},Kt=({tweet:e})=>t.jsxs("a",{href:e.in_reply_to_url,className:At.root,target:"_blank",rel:"noopener noreferrer",children:["Replying to @",e.in_reply_to_screen_name]}),mt=({href:e,children:n})=>t.jsx("a",{href:e,className:$t.root,target:"_blank",rel:"noopener noreferrer nofollow",children:n}),Xt=({tweet:e})=>t.jsxs("p",{className:Mt.root,lang:e.lang,dir:"auto",children:[e.entities.map((n,s)=>{switch(n.type){case"hashtag":case"mention":case"url":case"symbol":return t.jsx(mt,{href:n.href,children:n.text},s);case"media":return;default:return t.jsx("span",{dangerouslySetInnerHTML:{__html:n.text}},s)}}),e.note_tweet?t.jsx(Qt,{tweet:e}):null]});function Qt({tweet:e}){return t.jsxs(mt,{href:e.url,children:[t.jsx("span",{children:" "}),"Show more"]})}const Jt={hour:"numeric",minute:"2-digit",hour12:!0,weekday:"short",month:"short",day:"numeric",year:"numeric"},Yt=new Intl.DateTimeFormat("en-US",Jt),Zt=e=>{const n={};for(const s of e)n[s.type]=s.value;return n},es=e=>{const n=Zt(Yt.formatToParts(e)),s=`${n.hour}:${n.minute} ${n.dayPeriod}`,r=`${n.month} ${n.day}, ${n.year}`;return`${s} · ${r}`},tt=e=>`https://x.com/${e.user.screen_name}/status/${e.id_str}`,pt=e=>`https://x.com/${typeof e=="string"?e:e.user.screen_name}`,ts=e=>`https://x.com/intent/like?tweet_id=${e.id_str}`,ss=e=>`https://x.com/intent/tweet?in_reply_to=${e.id_str}`,ns=e=>`https://x.com/intent/follow?screen_name=${e.user.screen_name}`,rs=e=>`https://x.com/hashtag/${e.text}`,as=e=>`https://x.com/search?q=%24${e.text}`,is=e=>`https://x.com/${e.in_reply_to_screen_name}/status/${e.in_reply_to_status_id_str}`,xt=(e,n)=>{const s=new URL(e.media_url_https),r=s.pathname.split(".").pop();return r?(s.pathname=s.pathname.replace(`.${r}`,""),s.searchParams.set("format",r),s.searchParams.set("name",n),s.toString()):e.media_url_https},os=e=>{const{variants:n}=e.video_info;return n.filter(r=>r.content_type==="video/mp4").sort((r,a)=>{var o,i;return((o=a.bitrate)!=null?o:0)-((i=r.bitrate)!=null?i:0)})},cs=e=>{const n=os(e);return n.length>1?n[1]:n[0]},Ce=e=>e>999999?`${(e/1e6).toFixed(1)}M`:e>999?`${(e/1e3).toFixed(1)}K`:e.toString();function st(e){const n=Array.from(e.text),s=[{indices:e.display_text_range,type:"text"}];return ce(s,"hashtag",e.entities.hashtags),ce(s,"mention",e.entities.user_mentions),ce(s,"url",e.entities.urls),ce(s,"symbol",e.entities.symbols),e.entities.media&&ce(s,"media",e.entities.media),ls(e,s),s.map(r=>{const a=n.slice(r.indices[0],r.indices[1]).join("");switch(r.type){case"hashtag":return Object.assign(r,{href:rs(r),text:a});case"mention":return Object.assign(r,{href:pt(r.screen_name),text:a});case"url":case"media":return Object.assign(r,{href:r.expanded_url,text:r.display_url});case"symbol":return Object.assign(r,{href:as(r),text:a});default:return Object.assign(r,{text:a})}})}function ce(e,n,s){for(const r of s)for(const[a,o]of e.entries()){if(o.indices[0]>r.indices[0]||o.indices[1]<r.indices[1])continue;const i=[{...r,type:n}];o.indices[0]<r.indices[0]&&i.unshift({indices:[o.indices[0],r.indices[0]],type:"text"}),o.indices[1]>r.indices[1]&&i.push({indices:[r.indices[1],o.indices[1]],type:"text"}),e.splice(a,1,...i);break}}function ls(e,n){e.entities.media&&e.entities.media[0].indices[0]<e.display_text_range[1]&&(e.display_text_range[1]=e.entities.media[0].indices[0]);const s=n.at(-1);s&&s.indices[1]>e.display_text_range[1]&&(s.indices[1]=e.display_text_range[1])}const ds=e=>({...e,url:tt(e),user:{...e.user,url:pt(e),follow_url:ns(e)},like_url:ts(e),reply_url:ss(e),in_reply_to_url:e.in_reply_to_screen_name?is(e):void 0,entities:st(e),quoted_tweet:e.quoted_tweet?{...e.quoted_tweet,url:tt(e.quoted_tweet),entities:st(e.quoted_tweet)}:void 0}),us=({tweet:e,media:n})=>{const[s,r]=h.useState(!0),[a,o]=h.useState(!1),[i,l]=h.useState(!1),f=cs(n);let u=0;return t.jsxs(t.Fragment,{children:[t.jsx("video",{className:I.image,poster:xt(n,"small"),controls:!s,playsInline:!0,preload:"none",tabIndex:s?-1:0,onPlay:()=>{u&&window.clearTimeout(u),a||o(!0),i&&l(!1)},onPause:()=>{u&&window.clearTimeout(u),u=window.setTimeout(()=>{a&&o(!1),u=0},100)},onEnded:()=>{l(!0)},children:t.jsx("source",{src:f.url,type:f.content_type})}),s&&t.jsx("button",{type:"button",className:re.videoButton,"aria-label":"View video on X",onClick:j=>{const g=j.currentTarget.previousSibling;j.preventDefault(),r(!1),g.load(),g.play().then(()=>{o(!0),g.focus()}).catch(w=>{console.error("Error playing video:",w),r(!0),o(!1)})},children:t.jsx("svg",{viewBox:"0 0 24 24",className:re.videoButtonIcon,"aria-hidden":"true",children:t.jsx("g",{children:t.jsx("path",{d:"M21 12L4 2v20l17-10z"})})})}),!a&&!i&&t.jsx("div",{className:re.watchOnTwitter,children:t.jsx("a",{href:e.url,className:re.anchor,target:"_blank",rel:"noopener noreferrer",children:s?"Watch on X":"Continue watching on X"})}),i&&t.jsx("a",{href:e.url,className:U(re.anchor,re.viewReplies),target:"_blank",rel:"noopener noreferrer",children:"View replies"})]})},fs=e=>t.jsx("img",{...e}),nt=(e,n)=>{let s=56.25;return n===1&&(s=100/e.original_info.width*e.original_info.height),n===2&&(s=s*2),{width:e.type==="photo"?void 0:"unset",paddingBottom:`${s}%`}},gt=({tweet:e,components:n,quoted:s})=>{var r,a,o;const i=(o=(r=e.mediaDetails)==null?void 0:r.length)!=null?o:0;var l;const f=(l=n?.MediaImg)!=null?l:fs;return t.jsx("div",{className:U(I.root,!s&&I.rounded),children:t.jsx("div",{className:U(I.mediaWrapper,i>1&&I.grid2Columns,i===3&&I.grid3,i>4&&I.grid2x2),children:(a=e.mediaDetails)==null?void 0:a.map(u=>t.jsx(h.Fragment,{children:u.type==="photo"?t.jsxs("a",{href:e.url,className:U(I.mediaContainer,I.mediaLink),target:"_blank",rel:"noopener noreferrer",children:[t.jsx("div",{className:I.skeleton,style:nt(u,i)}),t.jsx(f,{src:xt(u,"small"),alt:u.ext_alt_text||"Image",className:I.image,draggable:!0})]},u.media_url_https):t.jsxs("div",{className:I.mediaContainer,children:[t.jsx("div",{className:I.skeleton,style:nt(u,i)}),t.jsx(us,{tweet:e,media:u})]},u.media_url_https)},u.media_url_https))})})},hs=({tweet:e})=>{const n=new Date(e.created_at),s=es(n);return t.jsx("a",{className:Vt.root,href:e.url,target:"_blank",rel:"noopener noreferrer","aria-label":s,children:t.jsx("time",{dateTime:n.toISOString(),children:s})})},ms=({tweet:e})=>t.jsxs("div",{className:we.info,children:[t.jsx(hs,{tweet:e}),t.jsx("a",{className:we.infoLink,href:"https://help.x.com/en/x-for-websites-ads-info-and-privacy",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter for Websites, Ads Information and Privacy",children:t.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:we.infoIcon,children:t.jsx("g",{children:t.jsx("path",{d:"M13.5 8.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5S11.17 7 12 7s1.5.67 1.5 1.5zM13 17v-5h-2v5h2zm-1 5.25c5.66 0 10.25-4.59 10.25-10.25S17.66 1.75 12 1.75 1.75 6.34 1.75 12 6.34 22.25 12 22.25zM20.25 12c0 4.56-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12 7.44 3.75 12 3.75s8.25 3.69 8.25 8.25z"})})})})]}),ps=({tweet:e})=>{const[n,s]=h.useState(!1),r=()=>{navigator.clipboard.writeText(e.url),s(!0)};return h.useEffect(()=>{if(n){const a=setTimeout(()=>{s(!1)},6e3);return()=>clearTimeout(a)}},[n]),t.jsxs("button",{type:"button",className:S.copy,"aria-label":"Copy link",onClick:r,children:[t.jsx("div",{className:S.copyIconWrapper,children:n?t.jsx("svg",{viewBox:"0 0 24 24",className:S.copyIcon,"aria-hidden":"true",children:t.jsx("g",{children:t.jsx("path",{d:"M9.64 18.952l-5.55-4.861 1.317-1.504 3.951 3.459 8.459-10.948L19.4 6.32 9.64 18.952z"})})}):t.jsx("svg",{viewBox:"0 0 24 24",className:S.copyIcon,"aria-hidden":"true",children:t.jsx("g",{children:t.jsx("path",{d:"M18.36 5.64c-1.95-1.96-5.11-1.96-7.07 0L9.88 7.05 8.46 5.64l1.42-1.42c2.73-2.73 7.16-2.73 9.9 0 2.73 2.74 2.73 7.17 0 9.9l-1.42 1.42-1.41-1.42 1.41-1.41c1.96-1.96 1.96-5.12 0-7.07zm-2.12 3.53l-7.07 7.07-1.41-1.41 7.07-7.07 1.41 1.41zm-12.02.71l1.42-1.42 1.41 1.42-1.41 1.41c-1.96 1.96-1.96 5.12 0 7.07 1.95 1.96 5.11 1.96 7.07 0l1.41-1.41 1.42 1.41-1.42 1.42c-2.73 2.73-7.16 2.73-9.9 0-2.73-2.74-2.73-7.17 0-9.9z"})})})}),t.jsx("span",{className:S.copyText,children:n?"Copied!":"Copy link"})]})},xs=({tweet:e})=>{const n=Ce(e.favorite_count);return t.jsxs("div",{className:S.actions,children:[t.jsxs("a",{className:S.like,href:e.like_url,target:"_blank",rel:"noopener noreferrer","aria-label":`Like. This Tweet has ${n} likes`,children:[t.jsx("div",{className:S.likeIconWrapper,children:t.jsx("svg",{viewBox:"0 0 24 24",className:S.likeIcon,"aria-hidden":"true",children:t.jsx("g",{children:t.jsx("path",{d:"M20.884 13.19c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"})})})}),t.jsx("span",{className:S.likeCount,children:n})]}),t.jsxs("a",{className:S.reply,href:e.reply_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Reply to this Tweet on Twitter",children:[t.jsx("div",{className:S.replyIconWrapper,children:t.jsx("svg",{viewBox:"0 0 24 24",className:S.replyIcon,"aria-hidden":"true",children:t.jsx("g",{children:t.jsx("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"})})})}),t.jsx("span",{className:S.replyText,children:"Reply"})]}),t.jsx(ps,{tweet:e})]})},gs=({tweet:e})=>t.jsx("div",{className:ye.replies,children:t.jsx("a",{className:ye.link,href:e.url,target:"_blank",rel:"noopener noreferrer",children:t.jsx("span",{className:ye.text,children:e.conversation_count===0?"Read more on X":e.conversation_count===1?`Read ${Ce(e.conversation_count)} reply`:`Read ${Ce(e.conversation_count)} replies`})})}),_s=({tweet:e,children:n})=>t.jsx("div",{className:et.root,onClick:s=>{s.preventDefault(),window.open(e.url,"_blank")},children:t.jsx("article",{className:et.article,children:n})}),vs=({tweet:e,components:n})=>{const{user:s}=e;var r;const a=(r=n?.AvatarImg)!=null?r:ut;return t.jsxs("div",{className:X.header,children:[t.jsx("a",{href:e.url,className:X.avatar,target:"_blank",rel:"noopener noreferrer",children:t.jsx("div",{className:U(X.avatarOverflow,s.profile_image_shape==="Square"&&X.avatarSquare),children:t.jsx(a,{src:s.profile_image_url_https,alt:s.name,width:20,height:20})})}),t.jsxs("div",{className:X.author,children:[t.jsx("div",{className:X.authorText,children:t.jsx("span",{title:s.name,children:s.name})}),t.jsx(ft,{user:s}),t.jsx(ht,{user:s}),t.jsx("div",{className:X.username,children:t.jsxs("span",{title:`@${s.screen_name}`,children:["@",s.screen_name]})})]})]})},js=({tweet:e})=>t.jsx("p",{className:Ft.root,lang:e.lang,dir:"auto",children:e.entities.map((n,s)=>t.jsx("span",{dangerouslySetInnerHTML:{__html:n.text}},s))}),ws=({tweet:e,components:n})=>{var s;return t.jsxs(_s,{tweet:e,children:[t.jsx(vs,{tweet:e,components:n}),t.jsx(js,{tweet:e}),(s=e.mediaDetails)!=null&&s.length?t.jsx(gt,{quoted:!0,tweet:e}):null]})},ys=({tweet:e,components:n})=>{var s;const r=h.useMemo(()=>ds(e),[e]);return t.jsxs(Pe,{children:[t.jsx(Gt,{tweet:r,components:n}),r.in_reply_to_status_id_str&&t.jsx(Kt,{tweet:r}),t.jsx(Xt,{tweet:r}),(s=r.mediaDetails)!=null&&s.length?t.jsx(gt,{tweet:r,components:n}):null,r.quoted_tweet&&t.jsx(ws,{tweet:r.quoted_tweet,components:n}),t.jsx(ms,{tweet:r}),t.jsx(xs,{tweet:r}),t.jsx(gs,{tweet:r})]})},bs=e=>t.jsx(Pe,{children:t.jsxs("div",{className:Pt.root,children:[t.jsx("h3",{children:"Tweet not found"}),t.jsx("p",{children:"The embedded tweet could not be found…"})]})}),me=({style:e})=>t.jsx("span",{className:Bt.skeleton,style:e}),Ts=()=>t.jsxs(Pe,{className:Wt.root,children:[t.jsx(me,{style:{height:"3rem",marginBottom:"0.75rem"}}),t.jsx(me,{style:{height:"6rem",margin:"0.5rem 0"}}),t.jsx("div",{style:{borderTop:"var(--tweet-border)",margin:"0.5rem 0"}}),t.jsx(me,{style:{height:"2rem"}}),t.jsx(me,{style:{height:"2rem",borderRadius:"9999px",marginTop:"0.5rem"}})]}),_t=0,vt=1,jt=2,rt=3;var at=Object.prototype.hasOwnProperty;function Ie(e,n){var s,r;if(e===n)return!0;if(e&&n&&(s=e.constructor)===n.constructor){if(s===Date)return e.getTime()===n.getTime();if(s===RegExp)return e.toString()===n.toString();if(s===Array){if((r=e.length)===n.length)for(;r--&&Ie(e[r],n[r]););return r===-1}if(!s||typeof e=="object"){r=0;for(s in e)if(at.call(e,s)&&++r&&!at.call(n,s)||!(s in n)||!Ie(e[s],n[s]))return!1;return Object.keys(n).length===r}}return e!==e&&n!==n}const W=new WeakMap,q=()=>{},N=q(),De=Object,d=e=>e===N,F=e=>typeof e=="function",z=(e,n)=>({...e,...n}),wt=e=>F(e.then),be={},pe={},Be="undefined",le=typeof window!=Be,Oe=typeof document!=Be,Es=le&&"Deno"in window,Ns=()=>le&&typeof window.requestAnimationFrame!=Be,yt=(e,n)=>{const s=W.get(e);return[()=>!d(n)&&e.get(n)||be,r=>{if(!d(n)){const a=e.get(n);n in pe||(pe[n]=a),s[5](n,z(a,r),a||be)}},s[6],()=>!d(n)&&n in pe?pe[n]:!d(n)&&e.get(n)||be]};let Le=!0;const Rs=()=>Le,[ke,Ae]=le&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[q,q],Ss=()=>{const e=Oe&&document.visibilityState;return d(e)||e!=="hidden"},Cs=e=>(Oe&&document.addEventListener("visibilitychange",e),ke("focus",e),()=>{Oe&&document.removeEventListener("visibilitychange",e),Ae("focus",e)}),Is=e=>{const n=()=>{Le=!0,e()},s=()=>{Le=!1};return ke("online",n),ke("offline",s),()=>{Ae("online",n),Ae("offline",s)}},Ds={isOnline:Rs,isVisible:Ss},Os={initFocus:Cs,initReconnect:Is},it=!Ve.useId,ae=!le||Es,Ls=e=>Ns()?window.requestAnimationFrame(e):setTimeout(e,1),Te=ae?h.useEffect:h.useLayoutEffect,Ee=typeof navigator<"u"&&navigator.connection,ot=!ae&&Ee&&(["slow-2g","2g"].includes(Ee.effectiveType)||Ee.saveData),xe=new WeakMap,ks=e=>De.prototype.toString.call(e),Ne=(e,n)=>e===`[object ${n}]`;let As=0;const $e=e=>{const n=typeof e,s=ks(e),r=Ne(s,"Date"),a=Ne(s,"RegExp"),o=Ne(s,"Object");let i,l;if(De(e)===e&&!r&&!a){if(i=xe.get(e),i)return i;if(i=++As+"~",xe.set(e,i),Array.isArray(e)){for(i="@",l=0;l<e.length;l++)i+=$e(e[l])+",";xe.set(e,i)}if(o){i="#";const f=De.keys(e).sort();for(;!d(l=f.pop());)d(e[l])||(i+=l+":"+$e(e[l])+",");xe.set(e,i)}}else i=r?e.toJSON():n=="symbol"?e.toString():n=="string"?JSON.stringify(e):""+e;return i},We=e=>{if(F(e))try{e=e()}catch{e=""}const n=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?$e(e):"",[e,n]};let $s=0;const Me=()=>++$s;async function bt(...e){const[n,s,r,a]=e,o=z({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let i=o.populateCache;const l=o.rollbackOnError;let f=o.optimisticData;const u=w=>typeof l=="function"?l(w):l!==!1,j=o.throwOnError;if(F(s)){const w=s,E=[],C=n.keys();for(const O of C)!/^\$(inf|sub)\$/.test(O)&&w(n.get(O)._k)&&E.push(O);return Promise.all(E.map(g))}return g(s);async function g(w){const[E]=We(w);if(!E)return;const[C,O]=yt(n,E),[A,ie,c,de]=W.get(n),Q=()=>{const L=A[E];return(F(o.revalidate)?o.revalidate(C().data,w):o.revalidate!==!1)&&(delete c[E],delete de[E],L&&L[0])?L[0](jt).then(()=>C().data):C().data};if(e.length<3)return Q();let y=r,$,M=!1;const J=Me();ie[E]=[J,0];const p=!d(f),Y=C(),V=Y.data,Z=Y._c,H=d(Z)?V:Z;if(p&&(f=F(f)?f(H,V):f,O({data:f,_c:H})),F(y))try{y=y(H)}catch(L){$=L,M=!0}if(y&&wt(y))if(y=await y.catch(L=>{$=L,M=!0}),J!==ie[E][0]){if(M)throw $;return y}else M&&p&&u($)&&(i=!0,O({data:H,_c:N}));if(i&&!M)if(F(i)){const L=i(y,H);O({data:L,error:N,_c:N})}else O({data:y,error:N,_c:N});if(ie[E][1]=Me(),Promise.resolve(Q()).then(()=>{O({_c:N})}),M){if(j)throw $;return}return y}}const ct=(e,n)=>{for(const s in e)e[s][0]&&e[s][0](n)},Ms=(e,n)=>{if(!W.has(e)){const s=z(Os,n),r=Object.create(null),a=bt.bind(N,e);let o=q;const i=Object.create(null),l=(j,g)=>{const w=i[j]||[];return i[j]=w,w.push(g),()=>w.splice(w.indexOf(g),1)},f=(j,g,w)=>{e.set(j,g);const E=i[j];if(E)for(const C of E)C(g,w)},u=()=>{if(!W.has(e)&&(W.set(e,[r,Object.create(null),Object.create(null),Object.create(null),a,f,l]),!ae)){const j=s.initFocus(setTimeout.bind(N,ct.bind(N,r,_t))),g=s.initReconnect(setTimeout.bind(N,ct.bind(N,r,vt)));o=()=>{j&&j(),g&&g(),W.delete(e)}}};return u(),[e,a,u,o]}return[e,W.get(e)[4]]},Vs=(e,n,s,r,a)=>{const o=s.errorRetryCount,i=a.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*s.errorRetryInterval;!d(o)&&i>o||setTimeout(r,l,a)},Fs=Ie,[Tt,Ps]=Ms(new Map),Bs=z({onLoadingSlow:q,onSuccess:q,onError:q,onErrorRetry:Vs,onDiscarded:q,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ot?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ot?5e3:3e3,compare:Fs,isPaused:()=>!1,cache:Tt,mutate:Ps,fallback:{}},Ds),Ws=(e,n)=>{const s=z(e,n);if(n){const{use:r,fallback:a}=e,{use:o,fallback:i}=n;r&&o&&(s.use=r.concat(o)),a&&i&&(s.fallback=z(a,i))}return s},qs=h.createContext({}),Us="$inf$",Et=le&&window.__SWR_DEVTOOLS_USE__,zs=Et?window.__SWR_DEVTOOLS_USE__:[],Hs=()=>{Et&&(window.__SWR_DEVTOOLS_REACT__=Ve)},Gs=e=>F(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Ks=()=>{const e=h.useContext(qs);return h.useMemo(()=>z(Bs,e),[e])},Xs=e=>(n,s,r)=>e(n,s&&((...o)=>{const[i]=We(n),[,,,l]=W.get(Tt);if(i.startsWith(Us))return s(...o);const f=l[i];return d(f)?s(...o):(delete l[i],f)}),r),Qs=zs.concat(Xs),Js=e=>function(...s){const r=Ks(),[a,o,i]=Gs(s),l=Ws(r,i);let f=e;const{use:u}=l,j=(u||[]).concat(Qs);for(let g=j.length;g--;)f=j[g](f);return f(a,o||l.fetcher||null,l)},Ys=(e,n,s)=>{const r=n[e]||(n[e]=[]);return r.push(s),()=>{const a=r.indexOf(s);a>=0&&(r[a]=r[r.length-1],r.pop())}};Hs();const Re=Ve.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(n=>{e.status="fulfilled",e.value=n},n=>{e.status="rejected",e.reason=n}),e}}),Se={dedupe:!0},lt=Promise.resolve(N),Zs=(e,n,s)=>{const{cache:r,compare:a,suspense:o,fallbackData:i,revalidateOnMount:l,revalidateIfStale:f,refreshInterval:u,refreshWhenHidden:j,refreshWhenOffline:g,keepPreviousData:w,strictServerPrefetchWarning:E}=s,[C,O,A,ie]=W.get(r),[c,de]=We(e),Q=h.useRef(!1),y=h.useRef(!1),$=h.useRef(c),M=h.useRef(n),J=h.useRef(s),p=()=>J.current,Y=()=>p().isVisible()&&p().isOnline(),[V,Z,H,L]=yt(r,c),ee=h.useRef({}).current,ue=d(i)?d(s.fallback)?N:s.fallback[c]:i,qe=(m,x)=>{for(const v in ee){const _=v;if(_==="data"){if(!a(m[_],x[_])&&(!d(m[_])||!a(he,x[_])))return!1}else if(x[_]!==m[_])return!1}return!0},Ue=h.useMemo(()=>{const m=!c||!n?!1:d(l)?p().isPaused()||o?!1:f!==!1:l,x=R=>{const P=z(R);return delete P._k,m?{isValidating:!0,isLoading:!0,...P}:P},v=V(),_=L(),k=x(v),ne=v===_?k:x(_);let b=k;return[()=>{const R=x(V());return qe(R,b)?(b.data=R.data,b.isLoading=R.isLoading,b.isValidating=R.isValidating,b.error=R.error,b):(b=R,R)},()=>ne]},[r,c]),te=Ye.useSyncExternalStore(h.useCallback(m=>H(c,(x,v)=>{qe(v,x)||m()}),[r,c]),Ue[0],Ue[1]),ze=!Q.current,Nt=C[c]&&C[c].length>0,se=te.data,G=d(se)?ue&&wt(ue)?Re(ue):ue:se,fe=te.error,ge=h.useRef(G),he=w?d(se)?d(ge.current)?G:ge.current:se:G,K=c&&d(G),Rt=!ae&&Ye.useSyncExternalStore(()=>q,()=>!1,()=>!0);E&&Rt&&!o&&K&&console.warn(`Missing pre-initiated data for serialized key "${c}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);const He=Nt&&!d(fe)?!1:ze&&!d(l)?l:p().isPaused()?!1:o?d(G)?!1:f:d(G)||f,Ge=!!(c&&n&&ze&&He),St=d(te.isValidating)?Ge:te.isValidating,Ct=d(te.isLoading)?Ge:te.isLoading,oe=h.useCallback(async m=>{const x=M.current;if(!c||!x||y.current||p().isPaused())return!1;let v,_,k=!0;const ne=m||{},b=!A[c]||!ne.dedupe,R=()=>it?!y.current&&c===$.current&&Q.current:c===$.current,P={isValidating:!1,isLoading:!1},Xe=()=>{Z(P)},Qe=()=>{const D=A[c];D&&D[1]===_&&delete A[c]},Je={isValidating:!0};d(V().data)&&(Je.isLoading=!0);try{if(b&&(Z(Je),s.loadingTimeout&&d(V().data)&&setTimeout(()=>{k&&R()&&p().onLoadingSlow(c,s)},s.loadingTimeout),A[c]=[x(de),Me()]),[v,_]=A[c],v=await v,b&&setTimeout(Qe,s.dedupingInterval),!A[c]||A[c][1]!==_)return b&&R()&&p().onDiscarded(c),!1;P.error=N;const D=O[c];if(!d(D)&&(_<=D[0]||_<=D[1]||D[1]===0))return Xe(),b&&R()&&p().onDiscarded(c),!1;const B=V().data;P.data=a(B,v)?B:v,b&&R()&&p().onSuccess(v,c,s)}catch(D){Qe();const B=p(),{shouldRetryOnError:_e}=B;B.isPaused()||(P.error=D,b&&R()&&(B.onError(D,c,B),(_e===!0||F(_e)&&_e(D))&&(!p().revalidateOnFocus||!p().revalidateOnReconnect||Y())&&B.onErrorRetry(D,c,B,It=>{const ve=C[c];ve&&ve[0]&&ve[0](rt,It)},{retryCount:(ne.retryCount||0)+1,dedupe:!0})))}return k=!1,Xe(),!0},[c,r]),Ke=h.useCallback((...m)=>bt(r,$.current,...m),[]);if(Te(()=>{M.current=n,J.current=s,d(se)||(ge.current=se)}),Te(()=>{if(!c)return;const m=oe.bind(N,Se);let x=0;p().revalidateOnFocus&&(x=Date.now()+p().focusThrottleInterval);const _=Ys(c,C,(k,ne={})=>{if(k==_t){const b=Date.now();p().revalidateOnFocus&&b>x&&Y()&&(x=b+p().focusThrottleInterval,m())}else if(k==vt)p().revalidateOnReconnect&&Y()&&m();else{if(k==jt)return oe();if(k==rt)return oe(ne)}});return y.current=!1,$.current=c,Q.current=!0,Z({_k:de}),He&&(A[c]||(d(G)||ae?m():Ls(m))),()=>{y.current=!0,_()}},[c]),Te(()=>{let m;function x(){const _=F(u)?u(V().data):u;_&&m!==-1&&(m=setTimeout(v,_))}function v(){!V().error&&(j||p().isVisible())&&(g||p().isOnline())?oe(Se).then(x):x()}return x(),()=>{m&&(clearTimeout(m),m=-1)}},[u,j,g,c]),h.useDebugValue(he),o){if(!it&&ae&&K)throw new Error("Fallback data is required when using Suspense in SSR.");K&&(M.current=n,J.current=s,y.current=!1);const m=ie[c],x=!d(m)&&K?Ke(m):lt;if(Re(x),!d(fe)&&K)throw fe;const v=K?oe(Se):lt;!d(he)&&K&&(v.status="fulfilled",v.value=!0),Re(v)}return{mutate:Ke,get data(){return ee.data=!0,he},get error(){return ee.error=!0,fe},get isValidating(){return ee.isValidating=!0,St},get isLoading(){return ee.isLoading=!0,Ct}}},dt=Js(Zs);class en extends Error{constructor({message:n,status:s,data:r}){super(n),this.name="TwitterApiError",this.status=s,this.data=r}}const tn=dt.default||dt,sn="https://react-tweet.vercel.app";async function nn([e,n]){const s=await fetch(e,n),r=await s.json();if(s.ok)return r.data||null;throw new en({message:`Failed to fetch tweet at "${e}" with "${s.status}".`,data:r,status:s.status})}const rn=(e,n,s)=>{const{isLoading:r,data:a,error:o}=tn(()=>n||e?[n||e&&`${sn}/api/tweet/${e}`,s]:null,nn,{revalidateIfStale:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{isLoading:!!(r||a===void 0&&!o),data:a,error:o}},an=({id:e,apiUrl:n,fallback:s=t.jsx(Ts,{}),components:r,fetchOptions:a,onError:o})=>{const{data:i,error:l,isLoading:f}=rn(e,n,a);if(f)return s;if(l||!i){const u=r?.TweetNotFound||bs;return t.jsx(u,{error:o?o(l):l})}return t.jsx(ys,{tweet:i,components:r})};function on({tweetId:e}){const n=qt(),s=h.useMemo(()=>n?"dark":"light",[n]);return t.jsx("div",{className:"not-prose my-6 flex justify-center","data-theme":s,children:t.jsx(an,{id:e})})}function wn(){return h.useEffect(()=>{const e=[];return document.querySelectorAll("[data-tweet-embed]").forEach(s=>{const r=s.getAttribute("data-tweet-id");if(!r||s.getAttribute("data-hydrated")==="true")return;const a=Lt.createRoot(s);a.render(t.jsx(Dt,{fallbackRender:o=>t.jsx(Ot,{...o,title:"TweetEmbed Error"}),children:t.jsx(on,{tweetId:r})})),e.push(a),s.setAttribute("data-hydrated","true")}),()=>{for(const s of e)s.unmount()}},[]),null}export{wn as default};
