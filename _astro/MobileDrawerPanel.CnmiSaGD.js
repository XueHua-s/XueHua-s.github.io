import{j as r}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.vDeobAm6.js";import{u as f}from"./index.D8A-VS5Y.js";import{c as a,d as i}from"./ui.BLGQxPlq.js";import{c as l}from"./utils.BEHD0UYf.js";import"./_commonjsHelpers.CqkleIqs.js";import"./index.BSdFiPHn.js";function h({children:d}){const e=f(i),o=t.useRef(null);return t.useEffect(()=>{const n=c=>{c.key==="Escape"&&i.get()&&a()},s=()=>{a()};return document.addEventListener("keydown",n),document.addEventListener("astro:before-preparation",s),()=>{document.removeEventListener("keydown",n),document.removeEventListener("astro:before-preparation",s)}},[]),t.useEffect(()=>(document.body.style.overflow=e?"hidden":"",()=>{document.body.style.overflow=""}),[e]),t.useEffect(()=>{e&&o.current?.focus()},[e]),r.jsxs(r.Fragment,{children:[r.jsx("div",{id:"drawer-overlay",className:l("fixed inset-0 z-40 bg-black/50",!e&&"hidden"),role:"presentation","aria-hidden":!e,onClick:a}),r.jsx("div",{id:"mobile-drawer",className:l("bg-gradient-start tablet:flex fixed inset-y-0 left-0 z-50 hidden h-screen w-[70vw] min-w-64 transform px-4 pt-6 shadow-lg backdrop-blur-sm transition-transform duration-300 md:px-0",e?"translate-x-0":"-translate-x-full"),role:"dialog","aria-label":"导航菜单","aria-modal":"true",children:r.jsxs("div",{className:"flex h-full w-full flex-col overflow-auto",children:[r.jsx("button",{id:"close-drawer","aria-label":"关闭菜单",className:"invisible",onClick:a,type:"button",ref:o,children:r.jsx("i",{className:"fa-solid fa-xmark text-xl","aria-hidden":"true"})}),d]})})]})}export{h as default};
