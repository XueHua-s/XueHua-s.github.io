<!DOCTYPE html><html lang="zh-CN" class="vertical-scrollbar" data-astro-transition-scope="astro-smooz4hq-1"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><meta name="generator" content="Astro v5.16.6"><title>ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´ | æŠ€æœ¯æ•™ç¨‹ | é›ªèŠ±ã®åšå®¢</title><!-- Preconnect to third-party origins for faster resource loading --><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="preconnect" href="https://chinese-font.netlify.app" crossorigin><link rel="dns-prefetch" href="https://chinese-font.netlify.app"><!-- Async load Chinese fonts to avoid render-blocking --><link rel="stylesheet" href="/fonts/ChillRoundFRegular/result.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/fonts/ChillRoundFBold/result.css" media="print" onload="this.media='all'"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.QW52Ox2j.js"></script><style>.astro-loading-indicator {
  pointer-events: none;
  background-color: #e9536a;
  position: fixed;
  z-index: 1031;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  transition: transform 300ms ease-out, opacity 150ms 150ms ease-in;
	transform: translate3d(0, 0, 0) scaleX(var(--progress, 0));
  transform-origin: 0;
}

[dir="rtl"] .astro-loading-indicator {
  transform-origin: 100% 0;
}
</style><script>(function(){const className = "astro-loading-indicator";
const animationDuration = 300;
const threshold = 200;

(() => {
  let progress = 0.25
  let opacity = 0
  /** @type {number | undefined} */
  let trickleInterval = undefined
  /** @type {number | undefined} */
  let thresholdTimeout = undefined;

  const element = document.createElement("div")
  element.classList.add(className)
  element.ariaHidden = "true"

  /** @param {typeof progress} _progress */
  const setProgress = (_progress) => {
    progress = _progress
    element.style.setProperty('--progress', String(progress))
  }

  /** @param {typeof opacity} _opacity */
  const setOpacity = (_opacity) => {
    opacity = _opacity
    element.style.setProperty('opacity', String(opacity))
  }

  setOpacity(opacity)

  document.addEventListener("DOMContentLoaded", () => {
    document.body.prepend(element)
  })

  document.addEventListener("astro:before-preparation", () => {
    thresholdTimeout = setTimeout(() => {
      setOpacity(1)
      trickleInterval = window.setInterval(() => {
        setProgress(progress + Math.random() * 0.03)
      }, animationDuration)
    }, threshold)
  })

  document.addEventListener("astro:before-swap", (ev) => {
    if (!thresholdTimeout) {
      return
    }
    window.clearTimeout(thresholdTimeout)

    ev.newDocument.body.prepend(element)
    window.clearInterval(trickleInterval)
    trickleInterval = undefined

    setProgress(1)
    window.setTimeout(() => {
      setOpacity(0)
    }, animationDuration / 2)

    window.setTimeout(() => {
      setProgress(0.25)
    }, animationDuration * 2)
  })
})()
})();</script><script type="module" src="/_astro/Tooltips.astro_astro_type_script_index_0_lang.Bx2cGmPu.js"></script><!-- metadata --><meta name="description" content="æ²¡è½¦ç¥¨ï¼Œé»„ç‰›ç¥¨å¤ªè´µã€‚ä¸å¤ªæƒ³å›å»è¿‡å¹´ã€‚è€Œä¸”ï¼Œæœ€è¿‘çš„çƒ¦å¿ƒäº‹çœŸçš„æ˜¯å¥½å¤šã€‚ä»Šå¹´ä¸‰æœˆã€å››æœˆå¯èƒ½è¦è¿›è¡ŒSRSğŸ¥ï¼Œè¦å‘å…¬å¸è¯·ä¸€ä¸ªæœˆå‡ï¼Œå°±éå¸¸åœ°å¤´ç–¼ã€‚ emj"><meta name="author" content="snow"><meta property="og:type" content="website"><meta property="og:site_name" content="snow"><meta property="og:url" content="https://xhblog.top/blog/post/1/"><meta property="og:title" content="ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´ | æŠ€æœ¯æ•™ç¨‹ | é›ªèŠ±ã®åšå®¢"><meta property="og:description" content="æ²¡è½¦ç¥¨ï¼Œé»„ç‰›ç¥¨å¤ªè´µã€‚ä¸å¤ªæƒ³å›å»è¿‡å¹´ã€‚è€Œä¸”ï¼Œæœ€è¿‘çš„çƒ¦å¿ƒäº‹çœŸçš„æ˜¯å¥½å¤šã€‚ä»Šå¹´ä¸‰æœˆã€å››æœˆå¯èƒ½è¦è¿›è¡ŒSRSğŸ¥ï¼Œè¦å‘å…¬å¸è¯·ä¸€ä¸ªæœˆå‡ï¼Œå°±éå¸¸åœ°å¤´ç–¼ã€‚ emj"><!-- <meta property="og:image" content="/opengraph.png?v=1" /> TODO: og image--><meta name="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://xhblog.top/blog/post/1/"><meta name="twitter:title" content="ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´ | æŠ€æœ¯æ•™ç¨‹ | é›ªèŠ±ã®åšå®¢"><meta name="twitter:description" content="æ²¡è½¦ç¥¨ï¼Œé»„ç‰›ç¥¨å¤ªè´µã€‚ä¸å¤ªæƒ³å›å»è¿‡å¹´ã€‚è€Œä¸”ï¼Œæœ€è¿‘çš„çƒ¦å¿ƒäº‹çœŸçš„æ˜¯å¥½å¤šã€‚ä»Šå¹´ä¸‰æœˆã€å››æœˆå¯èƒ½è¦è¿›è¡ŒSRSğŸ¥ï¼Œè¦å‘å…¬å¸è¯·ä¸€ä¸ªæœˆå‡ï¼Œå°±éå¸¸åœ°å¤´ç–¼ã€‚ emj"><meta charset="UTF-8"><script>
      // ç«‹å³æ‰§è¡Œä¸»é¢˜æ£€æŸ¥ å¦åˆ™ä¼šé—ªçƒ
      if (
        localStorage.theme === 'dark' ||
        (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
      ) {
        document.documentElement.classList.add('dark');
        document.documentElement.classList.remove('light');
        document.documentElement.dataset.theme = 'dark';
      } else {
        document.documentElement.classList.remove('dark');
        document.documentElement.classList.add('light');
        document.documentElement.dataset.theme = 'light';
      }
    </script><!--ä¸»é¢˜æ£€æŸ¥åˆ‡æ¢å¯¹åº”å€¼--><script type="module" src="/_astro/Layout.astro_astro_type_script_index_0_lang.c530qLiS.js"></script><!--FIXED:  SPAä¸»é¢˜åˆ‡æ¢ä¸æ¸²æŸ“, tabæ åˆ‡æ¢å˜æµ…è‰²é—®é¢˜ã€‚--><script type="module">function e(){localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),document.documentElement.dataset.theme="dark"):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),document.documentElement.dataset.theme="light")}document.addEventListener("astro:page-load",e);</script><link rel="stylesheet" href="/_astro/about.BmsIV4pp.css">
<link rel="stylesheet" href="/_astro/_slug_.D059aVq8.css">
<link rel="stylesheet" href="/_astro/about.Cyeqevvh.css">
<link rel="stylesheet" href="/_astro/index.Lf6pSiPd.css"><script type="module" src="/_astro/page.B5GOxY8C.js"></script><style>[data-astro-transition-scope="astro-smooz4hq-1"] { view-transition-name: root; }@layer astro { ::view-transition-old(root) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(root) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(root) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(root) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-smooz4hq-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-smooz4hq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-smooz4hq-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-smooz4hq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-smooz4hq-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-smooz4hq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-smooz4hq-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-smooz4hq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body> <div class="flex min-h-screen flex-col text-black dark:text-white"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var a=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let l of e)if(l.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=a;window.dispatchEvent(new Event("astro:visible"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1y5IqH" prefix="r11" component-url="/_astro/Header.D7qTRwR4.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{&quot;isPostPage&quot;:[0,true],&quot;tocNumbering&quot;:[0,true],&quot;tocHeadings&quot;:[1,[]]}" ssr client="visible" opts="{&quot;name&quot;:&quot;Header&quot;,&quot;value&quot;:true}" await-children><link rel="preload" as="image" href="/_astro/logo.Bpp0JPuA.webp"/><div id="site-header" class="shadow-text fixed inset-x-0 top-0 z-10 gap-4 py-2.5 text-white select-none tablet:backdrop-blur tablet:py-2 tablet:pl-3 tablet:pr-3" style="view-transition-name:site-header"><div class="site-header-bg pointer-events-none absolute inset-0"></div><div class="relative z-10 mx-auto flex items-center justify-between px-6 tablet:w-full tablet:px-0 max-w-7xl"><a class="tablet:hidden -my-4 mr-4 flex cursor-pointer items-center justify-center gap-1 whitespace-nowrap" href="/blog" target="_self" title="snow" aria-label="snow" data-astro-transition-persist="page-header-avatar" style="view-transition-name:page-header-avatar"><img src="/_astro/logo.Bpp0JPuA.webp" alt="snow" class="mt-2 mb-2 h-16"/></a><div class="tablet:flex tablet:grow hidden items-center justify-center"><a href="/blog" class="flex items-center gap-1"><img src="/_astro/logo.Bpp0JPuA.webp" alt="snow" class="h-8" height="32"/></a></div><div class="tablet:grow-0 flex grow items-center" style="view-transition-name:page-header"><div class="tablet:hidden flex grow items-center gap-4"><a href="/blog" aria-label="é¦–é¡µ" class="inline-flex items-center justify-center whitespace-nowrap rounded-md ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2 relative text-base tracking-wider after:absolute after:bottom-1 after:left-1/2 after:block after:h-0.5 after:w-0 after:-translate-x-1/2 after:transition-all after:duration-300 hover:after:w-9/12"><i class="mr-1.5 fa-solid fa-house-chimney" aria-hidden="true"></i>é¦–é¡µ</a><button class="inline-flex h-10 items-center px-4 py-2 text-base tracking-wider relative after:absolute after:bottom-1 after:left-1/2 after:h-0.5 after:w-0 after:-translate-x-1/2 after:bg-white after:transition-all after:duration-300 after:content-[&quot;&quot;]" aria-expanded="false" aria-haspopup="dialog" aria-label="æ–‡ç« èœå•"><i class="mr-1.5 text-sm fa-solid fa-pen-nib" aria-hidden="true"></i>æ–‡ç« <i class="fa-solid fa-caret-down absolute -right-1.5 text-xl transition-transform duration-300" aria-hidden="true"></i></button><a href="/blog/friends" aria-label="å‹é“¾" class="inline-flex items-center justify-center whitespace-nowrap rounded-md ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2 relative text-base tracking-wider after:absolute after:bottom-1 after:left-1/2 after:block after:h-0.5 after:w-0 after:-translate-x-1/2 after:transition-all after:duration-300 hover:after:w-9/12"><i class="mr-1.5 fa-solid fa-link" aria-hidden="true"></i>å‹é“¾</a><a href="/blog/about" aria-label="å…³äº" class="inline-flex items-center justify-center whitespace-nowrap rounded-md ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2 relative text-base tracking-wider after:absolute after:bottom-1 after:left-1/2 after:block after:h-0.5 after:w-0 after:-translate-x-1/2 after:transition-all after:duration-300 hover:after:w-9/12"><i class="mr-1.5 fa-regular fa-circle-user" aria-hidden="true"></i>å…³äº</a></div><div class="ml-auto flex items-center gap-2"><button id="search-trigger" class="group cursor-pointer transition duration-300 hover:scale-125" aria-label="æœç´¢" title="æœç´¢ (âŒ˜K)"><i class="fa-solid fa-magnifying-glass text-2xl" aria-hidden="true"></i></button><div id="search-component-portal" style="display:none;position:absolute;pointer-events:none;visibility:hidden"><div id="search-for-dialog" class="pagefind-ui" data-pagefind-ui="true"></div></div><style>
        .scroll-feather-mask {
          container-type: scroll-state;
        }
        @container scroll-state(scrollable: bottom) {
          .scroll-feather-mask::before {
            content: '';
            background: linear-gradient(
              to bottom,
              transparent 0%,
              var(--gradient-bg-start) var(--scroll-mask-middle, 70%),
              var(--gradient-bg-start) var(--scroll-mask-end, 100%)
            );
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10;
            display: block;
            height: var(--scroll-mask-height, 5rem);
          }
        }
      </style><button class="theme-toggle text-2xl cursor-pointer bg-transparent border-0 p-0 transition-transform duration-300 hover:scale-110" id="theme-toggle-btn" type="button" aria-label="toggle theme" aria-pressed="false"><i class="fa-solid fa-sun text-2xl light-icon transition-all duration-300" style="opacity:1;transform:rotate(0deg) scale(1)"></i><i class="fa-solid fa-moon text-2xl dark-icon transition-all duration-300" style="opacity:0;transform:rotate(-180deg) scale(0)"></i></button><style>
        .theme-toggle {
          position: relative;
          z-index: 10;
          width: 36px;
          height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .theme-toggle i {
          position: absolute;
          text-shadow: none;
          filter: none;
        }
      </style></div></div></div></div><div class="tablet:flex tablet:items-center tablet:justify-center fixed top-0 left-3 z-[70] hidden h-14 transition-transform" id="mobile-menu-container" style="view-transition-name:home-menu-icon"><button class="flex-center text-shoka size-10 cursor-pointer rounded-full bg-white/20 select-none" aria-label="æ‰“å¼€èœå•" aria-expanded="false" type="button" style="view-transition-name:menu-icon"><i class="text-xl fa-solid fa-bars" aria-hidden="true" style="opacity:1;transform:none"></i></button></div><!--astro:end--></astro-island> <main class="relative flex grow flex-col gap-4">   <div class="flex flex-col"> <div class="relative flex h-[60dvh] max-h-200 overflow-hidden"> <div class="absolute inset-0 h-full bg-black/40"></div> <div class="absolute inset-0 bottom-[8dvh] flex flex-col items-center justify-center px-5 text-white">  <h1 class="shadow-text word-break text-4.5xl text-center font-bold md:text-2xl max-w-7xl flex flex-wrap items-center justify-center gap-3"> ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´  </h1> <p class="mt-3 flex items-center justify-center gap-4 md:text-xs"> <span class="flex items-center gap-1"> <i class="fa-regular fa-calendar-days" aria-hidden="true"></i>
å‘è¡¨äº 2023-01-18 </span> <span class="flex items-center gap-1"> <i class="fa-solid fa-pen-nib" aria-hidden="true"></i> 58 å­—
</span> <span class="flex items-center gap-1"> <i class="fa-regular fa-clock" aria-hidden="true"></i> 1 min read </span> </p> </div> <div class="relative -z-10 h-full min-h-60 w-full" data-astro-transition-persist="page-cover-banner" id="banner-box"> <img src="/img/backgrounds/4f6544c154f7543092ee557795bfb899.webp" alt="cover" class="h-full w-full object-cover" sizes="50vw"> </div> <div class="wave-wrap"><svg class="wave" xmlns="http://www.w3.org/2000/svg" viewBox="0 24 150 28" preserveAspectRatio="none"><defs><path id="gentle-wave" d="m -160,44.4 c 30,0 58,-18 87.7,-18 30.3,0 58.3,18 87.3,18 30,0 58,-18 88,-18 30,0 58,18 88,18 l 0,34.5 -351,0 z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="50" y="0" fill="rgba(255, 255, 255, 0.48)"></use><use xlink:href="#gentle-wave" x="50" y="3" fill="rgba(255, 255, 255, 0.78)"></use><use xlink:href="#gentle-wave" x="50" y="6" fill="rgba(255, 255, 255, 0.8)"></use></g></svg></div> </div> <div class="mx-auto md:mx-0 flex w-full items-start justify-center md:w-full max-w-7xl"> <div class="page-home-sider shadow-home-sider sticky top-0 self-start flex min-w-64 max-w-64 flex-col tablet:hidden overflow-hidden h-screen min-h-0 items-center px-2" transition:name="page-home-sider"> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="hA9KC" prefix="r10" component-url="/_astro/HomeSiderPanel.BUrtnNyF.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{&quot;type&quot;:[0,&quot;post&quot;],&quot;defaultSegmentType&quot;:[0,&quot;directory&quot;],&quot;homeInfo&quot;:[0,{&quot;avatar&quot;:[0,&quot;/img/724d7fb480c8ac0db472ca5c7e36d239.jpg&quot;],&quot;name&quot;:[0,&quot;snow&quot;],&quot;description&quot;:[0,&quot;ACG / å…»çŒ«äºº / èœé€¼ / å‰ç«¯ä»€é”¦&quot;],&quot;postCount&quot;:[0,23],&quot;categoryCount&quot;:[0,5],&quot;tagCount&quot;:[0,38],&quot;routes&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;é¦–é¡µ&quot;],&quot;path&quot;:[0,&quot;/blog&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-house-chimney&quot;]}],[0,{&quot;name&quot;:[0,&quot;æ–‡ç« &quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-pen-nib&quot;],&quot;children&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;åˆ†ç±»&quot;],&quot;path&quot;:[0,&quot;/blog/categories&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-layer-group&quot;]}],[0,{&quot;name&quot;:[0,&quot;æ ‡ç­¾&quot;],&quot;path&quot;:[0,&quot;/blog/tags&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-tags&quot;]}]]]}],[0,{&quot;name&quot;:[0,&quot;å‹é“¾&quot;],&quot;path&quot;:[0,&quot;/blog/friends&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-link&quot;]}],[0,{&quot;name&quot;:[0,&quot;å…³äº&quot;],&quot;path&quot;:[0,&quot;/blog/about&quot;],&quot;icon&quot;:[0,&quot;fa-regular fa-circle-user&quot;]}]]],&quot;currentPath&quot;:[0,&quot;/blog/post/1/&quot;]}],&quot;tocHeadings&quot;:[1,[]],&quot;tocNumbering&quot;:[0,true],&quot;seriesPostItems&quot;:[1,[[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;rust-æ ‘ç»“æ„ä¸­-rc-ä¸-weak-çš„é…åˆä½¿ç”¨&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Rust æ ‘ç»“æ„ä¸­ Rc ä¸ Weak çš„é…åˆä½¿ç”¨&quot;],&quot;description&quot;:[0,&quot;æ·±å…¥æ¢è®¨åœ¨ Rust ä¸­æ„å»ºæ ‘ç»“æ„æ—¶ï¼Œå¦‚ä½•é€šè¿‡ Rc å’Œ Weak æ™ºèƒ½æŒ‡é’ˆçš„é…åˆä½¿ç”¨æ¥é¿å…å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚æœ¬æ–‡è¯¦ç»†è®²è§£çˆ¶å­èŠ‚ç‚¹ä¹‹é—´çš„å¼•ç”¨å…³ç³»è®¾è®¡åŸåˆ™ï¼Œä»¥åŠä¸ºä»€ä¹ˆçˆ¶èŠ‚ç‚¹ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹ï¼Œè€Œå­èŠ‚ç‚¹ç”¨ Weak æŒ‡å‘çˆ¶èŠ‚ç‚¹ã€‚&quot;],&quot;date&quot;:[3,&quot;2025-12-06T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Rust&quot;],[0,&quot;Rc&quot;],[0,&quot;Weak&quot;],[0,&quot;Smart Pointers&quot;],[0,&quot;Data Structures&quot;]]]}],&quot;body&quot;:[0,&quot;åœ¨ Rust ä¸­æ„å»ºæ ‘å½¢æ•°æ®ç»“æ„æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†çˆ¶å­èŠ‚ç‚¹ä¹‹é—´çš„åŒå‘å¼•ç”¨å…³ç³»ã€‚å¦‚æœå¤„ç†ä¸å½“ï¼Œä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨ï¼ˆcircular referenceï¼‰å’Œå†…å­˜æ³„æ¼ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•é€šè¿‡ `Rc` å’Œ `Weak` æ™ºèƒ½æŒ‡é’ˆçš„é…åˆä½¿ç”¨æ¥ä¼˜é›…åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\n\n## æ ¸å¿ƒåŸåˆ™\n\nåœ¨æ ‘ç»“æ„ä¸­ï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„å¼•ç”¨éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š\n\n**çˆ¶èŠ‚ç‚¹æŒ‡å‘å­èŠ‚ç‚¹ï¼šä½¿ç”¨ `Rc&lt;T&gt;`**\n**å­èŠ‚ç‚¹æŒ‡å‘çˆ¶èŠ‚ç‚¹ï¼šä½¿ç”¨ `Weak&lt;T&gt;`**\n\nè¿™ä¸ªè®¾è®¡æ¨¡å¼æ˜¯é¿å…å¾ªç¯å¼•ç”¨çš„å…³é”®ã€‚\n\n## ä¸ºä»€ä¹ˆéœ€è¦ Weakï¼Ÿ\n\n### å¾ªç¯å¼•ç”¨é—®é¢˜\n\nå¦‚æœæˆ‘ä»¬åŒæ—¶ä½¿ç”¨ `Rc` æ¥è¡¨ç¤ºçˆ¶å­åŒå‘å¼•ç”¨ï¼Œä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨ï¼š\n\n```rust\nuse std::rc::Rc;\nuse std::cell::RefCell;\n\n// âŒ é”™è¯¯ç¤ºä¾‹ï¼šä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨\nstruct Node {\n    value: i32,\n    parent: Option&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;,    // ä½¿ç”¨ Rc æŒ‡å‘çˆ¶èŠ‚ç‚¹\n    children: Vec&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;,     // ä½¿ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹\n}\n```\n\nåœ¨è¿™ç§è®¾è®¡ä¸‹ï¼š\n- çˆ¶èŠ‚ç‚¹æŒæœ‰å­èŠ‚ç‚¹çš„ `Rc`ï¼Œå¼•ç”¨è®¡æ•° +1\n- å­èŠ‚ç‚¹æŒæœ‰çˆ¶èŠ‚ç‚¹çš„ `Rc`ï¼Œå¼•ç”¨è®¡æ•° +1\n- å½“æ ‘ç»“æ„ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œçˆ¶å­èŠ‚ç‚¹äº’ç›¸æŒæœ‰å¯¹æ–¹çš„å¼ºå¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¼šé™ä¸º 0\n- ç»“æœï¼šå†…å­˜æ³„æ¼\n\n### ä½¿ç”¨ Weak æ‰“ç ´å¾ªç¯\n\n`Weak&lt;T&gt;` æ˜¯ä¸€ç§ä¸å½±å“å¼•ç”¨è®¡æ•°çš„\&quot;å¼±å¼•ç”¨\&quot;ã€‚å®ƒå¯ä»¥è§‚å¯Ÿ `Rc&lt;T&gt;` æŒ‡å‘çš„æ•°æ®ï¼Œä½†ä¸ä¼šé˜»æ­¢æ•°æ®è¢«é‡Šæ”¾ã€‚\n\n```rust\nuse std::rc::{Rc, Weak};\nuse std::cell::RefCell;\n\n// âœ… æ­£ç¡®ç¤ºä¾‹ï¼šä½¿ç”¨ Weak æ‰“ç ´å¾ªç¯å¼•ç”¨\nstruct Node {\n    value: i32,\n    parent: Option&lt;Weak&lt;RefCell&lt;Node&gt;&gt;&gt;,  // ä½¿ç”¨ Weak æŒ‡å‘çˆ¶èŠ‚ç‚¹\n    children: Vec&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;,     // ä½¿ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹\n}\n\nimpl Node {\n    fn new(value: i32) -&gt; Rc&lt;RefCell&lt;Node&gt;&gt; {\n        Rc::new(RefCell::new(Node {\n            value,\n            parent: None,\n            children: Vec::new(),\n        }))\n    }\n}\n```\n\n## æ‰€æœ‰æƒå…³ç³»åˆ†æ\n\n### æ‰€æœ‰æƒæµå‘\n\nåœ¨æ ‘ç»“æ„ä¸­ï¼Œæ‰€æœ‰æƒçš„æµå‘æ˜¯ä»ä¸Šåˆ°ä¸‹çš„ï¼š\n\n1. **çˆ¶èŠ‚ç‚¹æ‹¥æœ‰å­èŠ‚ç‚¹**ï¼šçˆ¶èŠ‚ç‚¹é€šè¿‡ `Rc&lt;RefCell&lt;Node&gt;&gt;` æŒæœ‰å­èŠ‚ç‚¹çš„æ‰€æœ‰æƒ\n2. **å­èŠ‚ç‚¹ä¸æ‹¥æœ‰çˆ¶èŠ‚ç‚¹**ï¼šå­èŠ‚ç‚¹é€šè¿‡ `Weak&lt;RefCell&lt;Node&gt;&gt;` è§‚å¯Ÿçˆ¶èŠ‚ç‚¹ï¼Œä½†ä¸æŒæœ‰æ‰€æœ‰æƒ\n3. **é‡Šæ”¾é¡ºåº**ï¼šå½“æ ¹èŠ‚ç‚¹è¢«é‡Šæ”¾æ—¶ï¼Œå­èŠ‚ç‚¹çš„å¼•ç”¨è®¡æ•°ä¼šé€’å‡ï¼Œæœ€ç»ˆæ•´æ£µæ ‘è¢«æ­£ç¡®é‡Šæ”¾\n\n### ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘ï¼Ÿ\n\nè¿™ä¸ªè®¾è®¡ç¬¦åˆæ ‘ç»“æ„çš„è‡ªç„¶è¯­ä¹‰ï¼š\n\n- **çˆ¶èŠ‚ç‚¹æ§åˆ¶å­èŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸ**ï¼šçˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œå­èŠ‚ç‚¹æ‰æœ‰æ„ä¹‰\n- **å­èŠ‚ç‚¹ä¸åº”è¯¥å»¶é•¿çˆ¶èŠ‚ç‚¹çš„ç”Ÿå‘½**ï¼šå­èŠ‚ç‚¹è¢«æŸå¤„å¼•ç”¨æ—¶ï¼Œä¸åº”è¯¥é˜»æ­¢çˆ¶èŠ‚ç‚¹ï¼ˆä¹ƒè‡³æ•´æ£µæ ‘ï¼‰è¢«é‡Šæ”¾\n- **è®¿é—®çˆ¶èŠ‚ç‚¹éœ€è¦æ£€æŸ¥æœ‰æ•ˆæ€§**ï¼šé€šè¿‡ `Weak::upgrade()` è®¿é—®çˆ¶èŠ‚ç‚¹æ—¶ï¼Œä¼šå¾—åˆ° `Option&lt;Rc&lt;T&gt;&gt;`ï¼Œè‡ªåŠ¨å¤„ç†çˆ¶èŠ‚ç‚¹å·²è¢«é‡Šæ”¾çš„æƒ…å†µ\n\n## å®é™…ä½¿ç”¨ç¤ºä¾‹\n\n```rust\nuse std::rc::{Rc, Weak};\nuse std::cell::RefCell;\n\nstruct Node {\n    value: i32,\n    parent: Option&lt;Weak&lt;RefCell&lt;Node&gt;&gt;&gt;,\n    children: Vec&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;,\n}\n\nimpl Node {\n    fn new(value: i32) -&gt; Rc&lt;RefCell&lt;Node&gt;&gt; {\n        Rc::new(RefCell::new(Node {\n            value,\n            parent: None,\n            children: Vec::new(),\n        }))\n    }\n\n    fn add_child(parent: &amp;Rc&lt;RefCell&lt;Node&gt;&gt;, child_value: i32) -&gt; Rc&lt;RefCell&lt;Node&gt;&gt; {\n        let child = Node::new(child_value);\n\n        // å­èŠ‚ç‚¹è®¾ç½®çˆ¶èŠ‚ç‚¹çš„å¼±å¼•ç”¨\n        child.borrow_mut().parent = Some(Rc::downgrade(parent));\n\n        // çˆ¶èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹çš„å¼ºå¼•ç”¨\n        parent.borrow_mut().children.push(Rc::clone(&amp;child));\n\n        child\n    }\n\n    fn get_parent_value(node: &amp;Rc&lt;RefCell&lt;Node&gt;&gt;) -&gt; Option&lt;i32&gt; {\n        node.borrow()\n            .parent\n            .as_ref()\n            .and_then(|weak_parent| weak_parent.upgrade()) // å°è¯•å‡çº§ä¸ºå¼ºå¼•ç”¨\n            .map(|parent| parent.borrow().value)\n    }\n}\n\nfn main() {\n    // åˆ›å»ºæ ¹èŠ‚ç‚¹\n    let root = Node::new(1);\n\n    // æ·»åŠ å­èŠ‚ç‚¹\n    let child1 = Node::add_child(&amp;root, 2);\n    let child2 = Node::add_child(&amp;root, 3);\n\n    // ä¸ºå­èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹\n    let grandchild = Node::add_child(&amp;child1, 4);\n\n    // è®¿é—®çˆ¶èŠ‚ç‚¹\n    println!(\&quot;Grandchild&#39;s parent: {:?}\&quot;, Node::get_parent_value(&amp;grandchild)); // Some(2)\n    println!(\&quot;Child1&#39;s parent: {:?}\&quot;, Node::get_parent_value(&amp;child1));         // Some(1)\n\n    // å½“ root ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œæ•´æ£µæ ‘ä¼šè¢«æ­£ç¡®é‡Šæ”¾\n}\n```\n\n## RefCell çš„ä½œç”¨\n\nä½ å¯èƒ½æ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨äº† `Rc&lt;RefCell&lt;Node&gt;&gt;` è€Œä¸æ˜¯ `Rc&lt;Node&gt;`ã€‚è¿™æ˜¯å› ä¸ºï¼š\n\n- `Rc&lt;T&gt;` æä¾›å…±äº«æ‰€æœ‰æƒï¼Œä½†åªå…è®¸ä¸å¯å˜å€Ÿç”¨\n- `RefCell&lt;T&gt;` æä¾›å†…éƒ¨å¯å˜æ€§ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶è¿›è¡Œå¯å˜å€Ÿç”¨æ£€æŸ¥\n- ç»„åˆä½¿ç”¨å¯ä»¥å®ç°\&quot;å¤šä¸ªæ‰€æœ‰è€…å¯ä»¥ä¿®æ”¹æ•°æ®\&quot;çš„éœ€æ±‚\n\nåœ¨æ ‘ç»“æ„ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä»çˆ¶èŠ‚ç‚¹ä¿®æ”¹å­èŠ‚ç‚¹ï¼ˆæ·»åŠ å­èŠ‚ç‚¹ï¼‰ï¼Œä¹Ÿéœ€è¦ä»å­èŠ‚ç‚¹è®¾ç½®çˆ¶èŠ‚ç‚¹å¼•ç”¨ï¼Œå› æ­¤éœ€è¦ `RefCell` æä¾›çš„å†…éƒ¨å¯å˜æ€§ã€‚\n\n## å…³é”®è¦ç‚¹æ€»ç»“\n\n1. **çˆ¶ â†’ å­ï¼š`Rc`**ï¼Œè¡¨ç¤ºå¼ºå¼•ç”¨å’Œæ‰€æœ‰æƒ\n2. **å­ â†’ çˆ¶ï¼š`Weak`**ï¼Œè¡¨ç¤ºå¼±å¼•ç”¨å’Œè§‚å¯Ÿå…³ç³»\n3. **è®¿é—® Weak å¼•ç”¨**ï¼šä½¿ç”¨ `upgrade()` æ–¹æ³•å°è¯•è·å– `Rc`ï¼Œè¿”å› `Option&lt;Rc&lt;T&gt;&gt;`\n4. **åˆ›å»º Weak å¼•ç”¨**ï¼šä½¿ç”¨ `Rc::downgrade()` ä» `Rc` åˆ›å»º `Weak`\n5. **é¿å…å¾ªç¯å¼•ç”¨**ï¼šWeak ä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œæ‰“ç ´å¾ªç¯\n6. **é…åˆ RefCell**ï¼šå®ç°å…±äº«å¯å˜æ€§\n\né€šè¿‡è¿™ç§è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Rust ä¸­å®‰å…¨åœ°æ„å»ºå¤æ‚çš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œæ—¢æ»¡è¶³æ‰€æœ‰æƒè§„åˆ™ï¼Œåˆé¿å…å†…å­˜æ³„æ¼ã€‚&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Rust-æ ‘ç»“æ„ä¸­-Rc-ä¸-Weak-çš„é…åˆä½¿ç”¨.md&quot;],&quot;digest&quot;:[0,&quot;bb00752ff1310100&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;åœ¨ Rust ä¸­æ„å»ºæ ‘å½¢æ•°æ®ç»“æ„æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†çˆ¶å­èŠ‚ç‚¹ä¹‹é—´çš„åŒå‘å¼•ç”¨å…³ç³»ã€‚å¦‚æœå¤„ç†ä¸å½“ï¼Œä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨ï¼ˆcircular referenceï¼‰å’Œå†…å­˜æ³„æ¼ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•é€šè¿‡ &lt;code&gt;Rc&lt;/code&gt; å’Œ &lt;code&gt;Weak&lt;/code&gt; æ™ºèƒ½æŒ‡é’ˆçš„é…åˆä½¿ç”¨æ¥ä¼˜é›…åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ ¸å¿ƒåŸåˆ™\&quot;&gt;æ ¸å¿ƒåŸåˆ™&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ ¸å¿ƒåŸåˆ™\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;åœ¨æ ‘ç»“æ„ä¸­ï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„å¼•ç”¨éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;çˆ¶èŠ‚ç‚¹æŒ‡å‘å­èŠ‚ç‚¹ï¼šä½¿ç”¨ &lt;code&gt;Rc&amp;#x3C;T&gt;&lt;/code&gt;&lt;/strong&gt;\n&lt;strong&gt;å­èŠ‚ç‚¹æŒ‡å‘çˆ¶èŠ‚ç‚¹ï¼šä½¿ç”¨ &lt;code&gt;Weak&amp;#x3C;T&gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;è¿™ä¸ªè®¾è®¡æ¨¡å¼æ˜¯é¿å…å¾ªç¯å¼•ç”¨çš„å…³é”®ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä¸ºä»€ä¹ˆéœ€è¦-weak\&quot;&gt;ä¸ºä»€ä¹ˆéœ€è¦ Weakï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¸ºä»€ä¹ˆéœ€è¦-weak\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;å¾ªç¯å¼•ç”¨é—®é¢˜\&quot;&gt;å¾ªç¯å¼•ç”¨é—®é¢˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å¾ªç¯å¼•ç”¨é—®é¢˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å¦‚æœæˆ‘ä»¬åŒæ—¶ä½¿ç”¨ &lt;code&gt;Rc&lt;/code&gt; æ¥è¡¨ç¤ºçˆ¶å­åŒå‘å¼•ç”¨ï¼Œä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;rust\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;cell&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ é”™è¯¯ç¤ºä¾‹ï¼šä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;struct&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Option&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,    &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨ Rc æŒ‡å‘çˆ¶èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Vec&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,     &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åœ¨è¿™ç§è®¾è®¡ä¸‹ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;çˆ¶èŠ‚ç‚¹æŒæœ‰å­èŠ‚ç‚¹çš„ &lt;code&gt;Rc&lt;/code&gt;ï¼Œå¼•ç”¨è®¡æ•° +1&lt;/li&gt;\n&lt;li&gt;å­èŠ‚ç‚¹æŒæœ‰çˆ¶èŠ‚ç‚¹çš„ &lt;code&gt;Rc&lt;/code&gt;ï¼Œå¼•ç”¨è®¡æ•° +1&lt;/li&gt;\n&lt;li&gt;å½“æ ‘ç»“æ„ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œçˆ¶å­èŠ‚ç‚¹äº’ç›¸æŒæœ‰å¯¹æ–¹çš„å¼ºå¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¼šé™ä¸º 0&lt;/li&gt;\n&lt;li&gt;ç»“æœï¼šå†…å­˜æ³„æ¼&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;ä½¿ç”¨-weak-æ‰“ç ´å¾ªç¯\&quot;&gt;ä½¿ç”¨ Weak æ‰“ç ´å¾ªç¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä½¿ç”¨-weak-æ‰“ç ´å¾ªç¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;code&gt;Weak&amp;#x3C;T&gt;&lt;/code&gt; æ˜¯ä¸€ç§ä¸å½±å“å¼•ç”¨è®¡æ•°çš„â€å¼±å¼•ç”¨â€ã€‚å®ƒå¯ä»¥è§‚å¯Ÿ &lt;code&gt;Rc&amp;#x3C;T&gt;&lt;/code&gt; æŒ‡å‘çš„æ•°æ®ï¼Œä½†ä¸ä¼šé˜»æ­¢æ•°æ®è¢«é‡Šæ”¾ã€‚&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;rust\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Weak&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;};&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;cell&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… æ­£ç¡®ç¤ºä¾‹ï¼šä½¿ç”¨ Weak æ‰“ç ´å¾ªç¯å¼•ç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;struct&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Option&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Weak&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,  &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨ Weak æŒ‡å‘çˆ¶èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Vec&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,     &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;impl&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;        Rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            value,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; None&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Vec&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(),&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        }))&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;æ‰€æœ‰æƒå…³ç³»åˆ†æ\&quot;&gt;æ‰€æœ‰æƒå…³ç³»åˆ†æ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ‰€æœ‰æƒå…³ç³»åˆ†æ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;æ‰€æœ‰æƒæµå‘\&quot;&gt;æ‰€æœ‰æƒæµå‘&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ‰€æœ‰æƒæµå‘\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨æ ‘ç»“æ„ä¸­ï¼Œæ‰€æœ‰æƒçš„æµå‘æ˜¯ä»ä¸Šåˆ°ä¸‹çš„ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;çˆ¶èŠ‚ç‚¹æ‹¥æœ‰å­èŠ‚ç‚¹&lt;/strong&gt;ï¼šçˆ¶èŠ‚ç‚¹é€šè¿‡ &lt;code&gt;Rc&amp;#x3C;RefCell&amp;#x3C;Node&gt;&gt;&lt;/code&gt; æŒæœ‰å­èŠ‚ç‚¹çš„æ‰€æœ‰æƒ&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å­èŠ‚ç‚¹ä¸æ‹¥æœ‰çˆ¶èŠ‚ç‚¹&lt;/strong&gt;ï¼šå­èŠ‚ç‚¹é€šè¿‡ &lt;code&gt;Weak&amp;#x3C;RefCell&amp;#x3C;Node&gt;&gt;&lt;/code&gt; è§‚å¯Ÿçˆ¶èŠ‚ç‚¹ï¼Œä½†ä¸æŒæœ‰æ‰€æœ‰æƒ&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é‡Šæ”¾é¡ºåº&lt;/strong&gt;ï¼šå½“æ ¹èŠ‚ç‚¹è¢«é‡Šæ”¾æ—¶ï¼Œå­èŠ‚ç‚¹çš„å¼•ç”¨è®¡æ•°ä¼šé€’å‡ï¼Œæœ€ç»ˆæ•´æ£µæ ‘è¢«æ­£ç¡®é‡Šæ”¾&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&quot;ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘\&quot;&gt;ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;è¿™ä¸ªè®¾è®¡ç¬¦åˆæ ‘ç»“æ„çš„è‡ªç„¶è¯­ä¹‰ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;çˆ¶èŠ‚ç‚¹æ§åˆ¶å­èŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸ&lt;/strong&gt;ï¼šçˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œå­èŠ‚ç‚¹æ‰æœ‰æ„ä¹‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å­èŠ‚ç‚¹ä¸åº”è¯¥å»¶é•¿çˆ¶èŠ‚ç‚¹çš„ç”Ÿå‘½&lt;/strong&gt;ï¼šå­èŠ‚ç‚¹è¢«æŸå¤„å¼•ç”¨æ—¶ï¼Œä¸åº”è¯¥é˜»æ­¢çˆ¶èŠ‚ç‚¹ï¼ˆä¹ƒè‡³æ•´æ£µæ ‘ï¼‰è¢«é‡Šæ”¾&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;è®¿é—®çˆ¶èŠ‚ç‚¹éœ€è¦æ£€æŸ¥æœ‰æ•ˆæ€§&lt;/strong&gt;ï¼šé€šè¿‡ &lt;code&gt;Weak::upgrade()&lt;/code&gt; è®¿é—®çˆ¶èŠ‚ç‚¹æ—¶ï¼Œä¼šå¾—åˆ° &lt;code&gt;Option&amp;#x3C;Rc&amp;#x3C;T&gt;&gt;&lt;/code&gt;ï¼Œè‡ªåŠ¨å¤„ç†çˆ¶èŠ‚ç‚¹å·²è¢«é‡Šæ”¾çš„æƒ…å†µ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&quot;å®é™…ä½¿ç”¨ç¤ºä¾‹\&quot;&gt;å®é™…ä½¿ç”¨ç¤ºä¾‹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®é™…ä½¿ç”¨ç¤ºä¾‹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;rust\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Weak&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;};&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;cell&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;struct&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Option&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Weak&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Vec&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;impl&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;        Rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            value,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; None&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Vec&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(),&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        }))&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; add_child&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; &amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;, child_value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; child &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(child_value);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;        // å­èŠ‚ç‚¹è®¾ç½®çˆ¶èŠ‚ç‚¹çš„å¼±å¼•ç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        child&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;borrow_mut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;parent &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Some&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;downgrade&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(parent));&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;        // çˆ¶èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹çš„å¼ºå¼•ç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;borrow_mut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;clone&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;child));&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        child&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; get_parent_value&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; &amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Option&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;borrow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            .&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;parent&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;as_ref&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;and_then&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;weak_parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; weak_parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;upgrade&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()) &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// å°è¯•å‡çº§ä¸ºå¼ºå¼•ç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;map&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;borrow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;value)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; main&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;() {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // åˆ›å»ºæ ¹èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; root &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // æ·»åŠ å­èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; child1 &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add_child&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;root, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; child2 &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add_child&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;root, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;3&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // ä¸ºå­èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; grandchild &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add_child&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;child1, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;4&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // è®¿é—®çˆ¶èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    println!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;Grandchild&#39;s parent: {:?}\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;get_parent_value&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;grandchild)); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// Some(2)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    println!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;Child1&#39;s parent: {:?}\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;get_parent_value&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;child1));         &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// Some(1)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // å½“ root ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œæ•´æ£µæ ‘ä¼šè¢«æ­£ç¡®é‡Šæ”¾&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;refcell-çš„ä½œç”¨\&quot;&gt;RefCell çš„ä½œç”¨&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#refcell-çš„ä½œç”¨\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ä½ å¯èƒ½æ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨äº† &lt;code&gt;Rc&amp;#x3C;RefCell&amp;#x3C;Node&gt;&gt;&lt;/code&gt; è€Œä¸æ˜¯ &lt;code&gt;Rc&amp;#x3C;Node&gt;&lt;/code&gt;ã€‚è¿™æ˜¯å› ä¸ºï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;Rc&amp;#x3C;T&gt;&lt;/code&gt; æä¾›å…±äº«æ‰€æœ‰æƒï¼Œä½†åªå…è®¸ä¸å¯å˜å€Ÿç”¨&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;RefCell&amp;#x3C;T&gt;&lt;/code&gt; æä¾›å†…éƒ¨å¯å˜æ€§ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶è¿›è¡Œå¯å˜å€Ÿç”¨æ£€æŸ¥&lt;/li&gt;\n&lt;li&gt;ç»„åˆä½¿ç”¨å¯ä»¥å®ç°â€å¤šä¸ªæ‰€æœ‰è€…å¯ä»¥ä¿®æ”¹æ•°æ®â€çš„éœ€æ±‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;åœ¨æ ‘ç»“æ„ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä»çˆ¶èŠ‚ç‚¹ä¿®æ”¹å­èŠ‚ç‚¹ï¼ˆæ·»åŠ å­èŠ‚ç‚¹ï¼‰ï¼Œä¹Ÿéœ€è¦ä»å­èŠ‚ç‚¹è®¾ç½®çˆ¶èŠ‚ç‚¹å¼•ç”¨ï¼Œå› æ­¤éœ€è¦ &lt;code&gt;RefCell&lt;/code&gt; æä¾›çš„å†…éƒ¨å¯å˜æ€§ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;å…³é”®è¦ç‚¹æ€»ç»“\&quot;&gt;å…³é”®è¦ç‚¹æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å…³é”®è¦ç‚¹æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;çˆ¶ â†’ å­ï¼š&lt;code&gt;Rc&lt;/code&gt;&lt;/strong&gt;ï¼Œè¡¨ç¤ºå¼ºå¼•ç”¨å’Œæ‰€æœ‰æƒ&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å­ â†’ çˆ¶ï¼š&lt;code&gt;Weak&lt;/code&gt;&lt;/strong&gt;ï¼Œè¡¨ç¤ºå¼±å¼•ç”¨å’Œè§‚å¯Ÿå…³ç³»&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;è®¿é—® Weak å¼•ç”¨&lt;/strong&gt;ï¼šä½¿ç”¨ &lt;code&gt;upgrade()&lt;/code&gt; æ–¹æ³•å°è¯•è·å– &lt;code&gt;Rc&lt;/code&gt;ï¼Œè¿”å› &lt;code&gt;Option&amp;#x3C;Rc&amp;#x3C;T&gt;&gt;&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åˆ›å»º Weak å¼•ç”¨&lt;/strong&gt;ï¼šä½¿ç”¨ &lt;code&gt;Rc::downgrade()&lt;/code&gt; ä» &lt;code&gt;Rc&lt;/code&gt; åˆ›å»º &lt;code&gt;Weak&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¿å…å¾ªç¯å¼•ç”¨&lt;/strong&gt;ï¼šWeak ä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œæ‰“ç ´å¾ªç¯&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é…åˆ RefCell&lt;/strong&gt;ï¼šå®ç°å…±äº«å¯å˜æ€§&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;é€šè¿‡è¿™ç§è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Rust ä¸­å®‰å…¨åœ°æ„å»ºå¤æ‚çš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œæ—¢æ»¡è¶³æ‰€æœ‰æƒè§„åˆ™ï¼Œåˆé¿å…å†…å­˜æ³„æ¼ã€‚&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ ¸å¿ƒåŸåˆ™&quot;],&quot;text&quot;:[0,&quot;æ ¸å¿ƒåŸåˆ™&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä¸ºä»€ä¹ˆéœ€è¦-weak&quot;],&quot;text&quot;:[0,&quot;ä¸ºä»€ä¹ˆéœ€è¦ Weakï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;å¾ªç¯å¼•ç”¨é—®é¢˜&quot;],&quot;text&quot;:[0,&quot;å¾ªç¯å¼•ç”¨é—®é¢˜&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;ä½¿ç”¨-weak-æ‰“ç ´å¾ªç¯&quot;],&quot;text&quot;:[0,&quot;ä½¿ç”¨ Weak æ‰“ç ´å¾ªç¯&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ‰€æœ‰æƒå…³ç³»åˆ†æ&quot;],&quot;text&quot;:[0,&quot;æ‰€æœ‰æƒå…³ç³»åˆ†æ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;æ‰€æœ‰æƒæµå‘&quot;],&quot;text&quot;:[0,&quot;æ‰€æœ‰æƒæµå‘&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘&quot;],&quot;text&quot;:[0,&quot;ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å®é™…ä½¿ç”¨ç¤ºä¾‹&quot;],&quot;text&quot;:[0,&quot;å®é™…ä½¿ç”¨ç¤ºä¾‹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;refcell-çš„ä½œç”¨&quot;],&quot;text&quot;:[0,&quot;RefCell çš„ä½œç”¨&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å…³é”®è¦ç‚¹æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;å…³é”®è¦ç‚¹æ€»ç»“&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Rust æ ‘ç»“æ„ä¸­ Rc ä¸ Weak çš„é…åˆä½¿ç”¨&quot;],&quot;date&quot;:[3,&quot;2025-12-06T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Rust&quot;],[0,&quot;Rc&quot;],[0,&quot;Weak&quot;],[0,&quot;Smart Pointers&quot;],[0,&quot;Data Structures&quot;]]],&quot;description&quot;:[0,&quot;æ·±å…¥æ¢è®¨åœ¨ Rust ä¸­æ„å»ºæ ‘ç»“æ„æ—¶ï¼Œå¦‚ä½•é€šè¿‡ Rc å’Œ Weak æ™ºèƒ½æŒ‡é’ˆçš„é…åˆä½¿ç”¨æ¥é¿å…å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚æœ¬æ–‡è¯¦ç»†è®²è§£çˆ¶å­èŠ‚ç‚¹ä¹‹é—´çš„å¼•ç”¨å…³ç³»è®¾è®¡åŸåˆ™ï¼Œä»¥åŠä¸ºä»€ä¹ˆçˆ¶èŠ‚ç‚¹ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹ï¼Œè€Œå­èŠ‚ç‚¹ç”¨ Weak æŒ‡å‘çˆ¶èŠ‚ç‚¹ã€‚&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/22&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;rust-cow-learning-notes&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Rust Cowï¼ˆClone-On-Writeï¼‰å­¦ä¹ ç¬”è®°ï¼šç†è§£ Borrowed çŠ¶æ€&quot;],&quot;description&quot;:[0,&quot;æœ¬æ–‡é€šè¿‡ä¸€ä¸ªå…·ä½“çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œæ·±å…¥æ¢è®¨äº† Rust ä¸­ Cowï¼ˆClone-On-Writeï¼‰æ™ºèƒ½æŒ‡é’ˆçš„ Borrowed çŠ¶æ€ã€‚æˆ‘ä»¬å°†ç†è§£åœ¨ä½•ç§æƒ…å†µä¸‹ Cow ä¼šä¿æŒå€Ÿç”¨ï¼Œä»¥åŠå®ƒä½•æ—¶ä¼šå…‹éš†æ•°æ®å˜ä¸ºæ‰€æœ‰ã€‚&quot;],&quot;date&quot;:[3,&quot;2025-12-05T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Rust&quot;],[0,&quot;Cow&quot;],[0,&quot;Smart Pointers&quot;],[0,&quot;Borrowing&quot;]]]}],&quot;body&quot;:[0,&quot;åœ¨ Rust çš„æ™ºèƒ½æŒ‡é’ˆä¸­ï¼Œ`Cow` (Clone-On-Write) æä¾›äº†ä¸€ç§çµæ´»çš„æ•°æ®å¤„ç†æ–¹å¼ï¼Œå®ƒå¯ä»¥åœ¨éœ€è¦æ—¶æ‰è¿›è¡Œæ•°æ®å…‹éš†ï¼Œä»è€Œä¼˜åŒ–æ€§èƒ½ã€‚æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªå…·ä½“çš„æ¡ˆä¾‹ï¼Œæ¥æ·±å…¥ç†è§£ `Cow` çš„ `Borrowed` çŠ¶æ€ã€‚\n\n### `Cow::Borrowed` æ˜¯ä»€ä¹ˆï¼Ÿ\n\nåœ¨ Rust ä¸­ï¼Œ`Cow` ç±»å‹æœ‰ä¸¤ç§ä¸»è¦çš„çŠ¶æ€ï¼š\n\n-   `Cow::Borrowed&lt;&#39;a, T&gt;`ï¼šè¡¨ç¤º `Cow` åªæ˜¯â€œå€Ÿç”¨â€äº†åŸå§‹æ•°æ®ï¼Œå®ƒæŒæœ‰ä¸€ä¸ªå¯¹ç±»å‹ `T` çš„ä¸å¯å˜å¼•ç”¨ `&amp;&#39;a T`ã€‚åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œ`Cow` ä¸æ‹¥æœ‰æ•°æ®çš„æ‰€æœ‰æƒï¼Œä¹Ÿä¸ä¼šå¯¹åŸå§‹æ•°æ®è¿›è¡Œä»»ä½•ä¿®æ”¹ã€‚\n-   `Cow::Owned&lt;T&gt;`ï¼šè¡¨ç¤º `Cow` æ‹¥æœ‰äº†ä¸€ä»½æ•°æ®çš„å‰¯æœ¬ã€‚å½“éœ€è¦ä¿®æ”¹æ•°æ®ï¼Œä¸” `Cow` å½“å‰å¤„äº `Borrowed` çŠ¶æ€æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å…‹éš†ä¸€ä»½æ•°æ®ï¼Œå¹¶è½¬æ¢ä¸º `Owned` çŠ¶æ€ï¼Œä»è€Œå…è®¸è¿›è¡Œä¿®æ”¹ã€‚\n\n### æ¡ˆä¾‹åˆ†æï¼š`reference_no_mutation` æµ‹è¯•\n\næˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªåœ¨ `rustlings` ç»ƒä¹ ä¸­å¸¸è§çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬ç†è§£ `Cow` çš„è¡Œä¸ºï¼š\n\n```rust\n// å‡è®¾æœ‰å¦‚ä¸‹çš„ abs_all å‡½æ•°\nfn abs_all&lt;&#39;a, T&gt;(input: Cow&lt;&#39;a, [T]&gt;) -&gt; Cow&lt;&#39;a, [T]&gt;\nwhere\n    T: Clone + Copy + PartialOrd + std::ops::Neg&lt;Output = T&gt;,\n{\n    input\n        .into_iter()\n        .map(|&amp;x| if x &lt; T::from(0) { -x } else { x })\n        .collect::&lt;Vec&lt;T&gt;&gt;()\n        .into()\n}\n\n// åœ¨ reference_no_mutation æµ‹è¯•ä¸­\nlet input_vec = vec![0, 1, 2];\nlet mut input = Cow::from(&amp;input_vec); // é€šè¿‡ Cow::from(&amp;vec) åˆ›å»ºï¼Œæ­¤æ—¶ input æ˜¯ Borrowed çŠ¶æ€\nlet result = abs_all(input.clone()); // ä¼ å…¥ abs_all å‡½æ•°\n\nassert!(matches!(input, Cow::Borrowed(_))); // è¿™ä¸ªæ–­è¨€ä¼šæˆåŠŸ\n```\n\n**åˆ†æè¿‡ç¨‹ï¼š**\n\n1.  **åˆ›å»º `Cow`ï¼š** åœ¨ `reference_no_mutation` æµ‹è¯•ä¸­ï¼Œ`input` æ˜¯é€šè¿‡ `Cow::from(&amp;input_vec)` åˆ›å»ºçš„ã€‚è¿™æ„å‘³ç€ `input` æœ€åˆæ˜¯å¯¹ `input_vec` çš„ä¸€ä¸ªå€Ÿç”¨ (`Cow::Borrowed`)ï¼Œå®ƒä¸æ‹¥æœ‰æ•°æ®çš„æ‰€æœ‰æƒã€‚\n\n2.  **`abs_all` å‡½æ•°çš„è¡Œä¸ºï¼š** `abs_all` å‡½æ•°çš„ç›®çš„æ˜¯å°†åˆ‡ç‰‡ä¸­çš„æ‰€æœ‰è´Ÿæ•°å˜ä¸ºæ­£æ•°ï¼ˆå–ç»å¯¹å€¼ï¼‰ã€‚å®ƒé€šè¿‡ `into_iter().map(...)` éå†å…ƒç´ ã€‚å…³é”®åœ¨äº `map` å†…éƒ¨çš„é€»è¾‘ï¼š`if x &lt; T::from(0) { -x } else { x }`ã€‚åªæœ‰å½“å…ƒç´  `x` å°äº 0 æ—¶ï¼Œæ‰ä¼šè¿›è¡Œæ“ä½œ `-x`ã€‚\n\n3.  **æ— ä¿®æ”¹å‘ç”Ÿï¼š** åœ¨è¿™ä¸ªç‰¹å®šçš„æµ‹è¯•ä¸­ï¼Œ`input_vec` çš„å†…å®¹æ˜¯ `[0, 1, 2]`ï¼Œæ‰€æœ‰å…ƒç´ éƒ½æ˜¯éè´Ÿæ•°ã€‚å› æ­¤ï¼Œåœ¨ `abs_all` å‡½æ•°å†…éƒ¨ï¼Œæ¡ä»¶ `x &lt; T::from(0)` **ä»æœª**æ»¡è¶³ã€‚è¿™æ„å‘³ç€ `input`ï¼ˆæˆ–è€…å…¶å†…éƒ¨æ•°æ®ï¼‰å¹¶æ²¡æœ‰è¢«å®é™…ä¿®æ”¹ã€‚\n\n4.  **`to_mut()` æœªè¢«è°ƒç”¨ï¼š** `Cow` åªæœ‰åœ¨éœ€è¦ä¿®æ”¹å€Ÿç”¨çš„æ•°æ®æ—¶ï¼Œæ‰ä¼šè°ƒç”¨ `to_mut()` æ–¹æ³•æ¥å…‹éš†æ•°æ®å¹¶è½¬æ¢ä¸º `Owned` çŠ¶æ€ã€‚ç”±äºä¸Šè¿°åŸå› ï¼Œæ²¡æœ‰ä»»ä½•å…ƒç´ éœ€è¦ä¿®æ”¹ï¼Œæ‰€ä»¥ `to_mut()` ä»æœªè¢«è°ƒç”¨ã€‚\n\n5.  **ç»“æœï¼šä¿æŒ `Borrowed` çŠ¶æ€ï¼š** å› ä¸º `input` åœ¨ `abs_all` å‡½æ•°çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä¹Ÿå› æ­¤æ²¡æœ‰è§¦å‘æ•°æ®å…‹éš†ï¼Œ`input` ä»ç„¶ä¿æŒç€å¯¹åŸå§‹æ•°æ® `input_vec` çš„å€Ÿç”¨çŠ¶æ€ã€‚\n\n### ç»“è®º\n\nå› æ­¤ï¼Œ`assert!(matches!(input, Cow::Borrowed(_)))` æ–­è¨€æˆç«‹ã€‚è¿™ä¸ªä¾‹å­æ¸…æ™°åœ°å±•ç¤ºäº† `Cow` çš„â€œCopy-On-Writeâ€æœºåˆ¶ï¼šåªæœ‰åœ¨å®é™…éœ€è¦å†™å…¥ï¼ˆä¿®æ”¹ï¼‰æ—¶ï¼Œæ‰ä¼šå‘ç”Ÿæ•°æ®çš„å…‹éš†å’Œæ‰€æœ‰æƒçš„è½¬ç§»ã€‚å¦‚æœæ•°æ®ä»…ä»…è¢«è¯»å–ï¼Œ`Cow` ä¼šé«˜æ•ˆåœ°ä¿æŒ `Borrowed` çŠ¶æ€ï¼Œé¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…å’Œæ•°æ®å¤åˆ¶ã€‚ç†è§£è¿™ä¸€ç‚¹å¯¹äºç¼–å†™é«˜æ•ˆçš„ Rust ä»£ç è‡³å…³é‡è¦ã€‚&quot;],&quot;filePath&quot;:[0,&quot;source/posts/rust-cow-learning-notes.md&quot;],&quot;digest&quot;:[0,&quot;8db16e4b798e3187&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;åœ¨ Rust çš„æ™ºèƒ½æŒ‡é’ˆä¸­ï¼Œ&lt;code&gt;Cow&lt;/code&gt; (Clone-On-Write) æä¾›äº†ä¸€ç§çµæ´»çš„æ•°æ®å¤„ç†æ–¹å¼ï¼Œå®ƒå¯ä»¥åœ¨éœ€è¦æ—¶æ‰è¿›è¡Œæ•°æ®å…‹éš†ï¼Œä»è€Œä¼˜åŒ–æ€§èƒ½ã€‚æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªå…·ä½“çš„æ¡ˆä¾‹ï¼Œæ¥æ·±å…¥ç†è§£ &lt;code&gt;Cow&lt;/code&gt; çš„ &lt;code&gt;Borrowed&lt;/code&gt; çŠ¶æ€ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;cowborrowed-æ˜¯ä»€ä¹ˆ\&quot;&gt;&lt;code&gt;Cow::Borrowed&lt;/code&gt; æ˜¯ä»€ä¹ˆï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#cowborrowed-æ˜¯ä»€ä¹ˆ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨ Rust ä¸­ï¼Œ&lt;code&gt;Cow&lt;/code&gt; ç±»å‹æœ‰ä¸¤ç§ä¸»è¦çš„çŠ¶æ€ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;Cow::Borrowed&amp;#x3C;&#39;a, T&gt;&lt;/code&gt;ï¼šè¡¨ç¤º &lt;code&gt;Cow&lt;/code&gt; åªæ˜¯â€œå€Ÿç”¨â€äº†åŸå§‹æ•°æ®ï¼Œå®ƒæŒæœ‰ä¸€ä¸ªå¯¹ç±»å‹ &lt;code&gt;T&lt;/code&gt; çš„ä¸å¯å˜å¼•ç”¨ &lt;code&gt;&amp;#x26;&#39;a T&lt;/code&gt;ã€‚åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œ&lt;code&gt;Cow&lt;/code&gt; ä¸æ‹¥æœ‰æ•°æ®çš„æ‰€æœ‰æƒï¼Œä¹Ÿä¸ä¼šå¯¹åŸå§‹æ•°æ®è¿›è¡Œä»»ä½•ä¿®æ”¹ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;Cow::Owned&amp;#x3C;T&gt;&lt;/code&gt;ï¼šè¡¨ç¤º &lt;code&gt;Cow&lt;/code&gt; æ‹¥æœ‰äº†ä¸€ä»½æ•°æ®çš„å‰¯æœ¬ã€‚å½“éœ€è¦ä¿®æ”¹æ•°æ®ï¼Œä¸” &lt;code&gt;Cow&lt;/code&gt; å½“å‰å¤„äº &lt;code&gt;Borrowed&lt;/code&gt; çŠ¶æ€æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å…‹éš†ä¸€ä»½æ•°æ®ï¼Œå¹¶è½¬æ¢ä¸º &lt;code&gt;Owned&lt;/code&gt; çŠ¶æ€ï¼Œä»è€Œå…è®¸è¿›è¡Œä¿®æ”¹ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;æ¡ˆä¾‹åˆ†æreference_no_mutation-æµ‹è¯•\&quot;&gt;æ¡ˆä¾‹åˆ†æï¼š&lt;code&gt;reference_no_mutation&lt;/code&gt; æµ‹è¯•&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ¡ˆä¾‹åˆ†æreference_no_mutation-æµ‹è¯•\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªåœ¨ &lt;code&gt;rustlings&lt;/code&gt; ç»ƒä¹ ä¸­å¸¸è§çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬ç†è§£ &lt;code&gt;Cow&lt;/code&gt; çš„è¡Œä¸ºï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;rust\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// å‡è®¾æœ‰å¦‚ä¸‹çš„ abs_all å‡½æ•°&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; abs_all&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&#39;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;a&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;T&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;(input&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Cow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&#39;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;a&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, [&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;T&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;]&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Cow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&#39;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;a&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, [&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;T&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;]&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;where&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    T&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Clone&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; +&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Copy&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; +&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; PartialOrd&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; +&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;ops&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Neg&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Output&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; T&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    input&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;into_iter&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;map&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;x&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; x &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; T&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) { &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;x } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { x })&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;collect&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Vec&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;T&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;into&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// åœ¨ reference_no_mutation æµ‹è¯•ä¸­&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; input_vec &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; vec!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;];&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; mut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; input &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Cow&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;input_vec); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// é€šè¿‡ Cow::from(&amp;#x26;vec) åˆ›å»ºï¼Œæ­¤æ—¶ input æ˜¯ Borrowed çŠ¶æ€&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; result &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; abs_all&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(input&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;clone&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¼ å…¥ abs_all å‡½æ•°&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;assert!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;matches!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(input, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Cow&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Borrowed&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(_))); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// è¿™ä¸ªæ–­è¨€ä¼šæˆåŠŸ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;åˆ†æè¿‡ç¨‹ï¼š&lt;/strong&gt;&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;åˆ›å»º &lt;code&gt;Cow&lt;/code&gt;ï¼š&lt;/strong&gt; åœ¨ &lt;code&gt;reference_no_mutation&lt;/code&gt; æµ‹è¯•ä¸­ï¼Œ&lt;code&gt;input&lt;/code&gt; æ˜¯é€šè¿‡ &lt;code&gt;Cow::from(&amp;#x26;input_vec)&lt;/code&gt; åˆ›å»ºçš„ã€‚è¿™æ„å‘³ç€ &lt;code&gt;input&lt;/code&gt; æœ€åˆæ˜¯å¯¹ &lt;code&gt;input_vec&lt;/code&gt; çš„ä¸€ä¸ªå€Ÿç”¨ (&lt;code&gt;Cow::Borrowed&lt;/code&gt;)ï¼Œå®ƒä¸æ‹¥æœ‰æ•°æ®çš„æ‰€æœ‰æƒã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;&lt;code&gt;abs_all&lt;/code&gt; å‡½æ•°çš„è¡Œä¸ºï¼š&lt;/strong&gt; &lt;code&gt;abs_all&lt;/code&gt; å‡½æ•°çš„ç›®çš„æ˜¯å°†åˆ‡ç‰‡ä¸­çš„æ‰€æœ‰è´Ÿæ•°å˜ä¸ºæ­£æ•°ï¼ˆå–ç»å¯¹å€¼ï¼‰ã€‚å®ƒé€šè¿‡ &lt;code&gt;into_iter().map(...)&lt;/code&gt; éå†å…ƒç´ ã€‚å…³é”®åœ¨äº &lt;code&gt;map&lt;/code&gt; å†…éƒ¨çš„é€»è¾‘ï¼š&lt;code&gt;if x &amp;#x3C; T::from(0) { -x } else { x }&lt;/code&gt;ã€‚åªæœ‰å½“å…ƒç´  &lt;code&gt;x&lt;/code&gt; å°äº 0 æ—¶ï¼Œæ‰ä¼šè¿›è¡Œæ“ä½œ &lt;code&gt;-x&lt;/code&gt;ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;æ— ä¿®æ”¹å‘ç”Ÿï¼š&lt;/strong&gt; åœ¨è¿™ä¸ªç‰¹å®šçš„æµ‹è¯•ä¸­ï¼Œ&lt;code&gt;input_vec&lt;/code&gt; çš„å†…å®¹æ˜¯ &lt;code&gt;[0, 1, 2]&lt;/code&gt;ï¼Œæ‰€æœ‰å…ƒç´ éƒ½æ˜¯éè´Ÿæ•°ã€‚å› æ­¤ï¼Œåœ¨ &lt;code&gt;abs_all&lt;/code&gt; å‡½æ•°å†…éƒ¨ï¼Œæ¡ä»¶ &lt;code&gt;x &amp;#x3C; T::from(0)&lt;/code&gt; &lt;strong&gt;ä»æœª&lt;/strong&gt;æ»¡è¶³ã€‚è¿™æ„å‘³ç€ &lt;code&gt;input&lt;/code&gt;ï¼ˆæˆ–è€…å…¶å†…éƒ¨æ•°æ®ï¼‰å¹¶æ²¡æœ‰è¢«å®é™…ä¿®æ”¹ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;&lt;code&gt;to_mut()&lt;/code&gt; æœªè¢«è°ƒç”¨ï¼š&lt;/strong&gt; &lt;code&gt;Cow&lt;/code&gt; åªæœ‰åœ¨éœ€è¦ä¿®æ”¹å€Ÿç”¨çš„æ•°æ®æ—¶ï¼Œæ‰ä¼šè°ƒç”¨ &lt;code&gt;to_mut()&lt;/code&gt; æ–¹æ³•æ¥å…‹éš†æ•°æ®å¹¶è½¬æ¢ä¸º &lt;code&gt;Owned&lt;/code&gt; çŠ¶æ€ã€‚ç”±äºä¸Šè¿°åŸå› ï¼Œæ²¡æœ‰ä»»ä½•å…ƒç´ éœ€è¦ä¿®æ”¹ï¼Œæ‰€ä»¥ &lt;code&gt;to_mut()&lt;/code&gt; ä»æœªè¢«è°ƒç”¨ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;ç»“æœï¼šä¿æŒ &lt;code&gt;Borrowed&lt;/code&gt; çŠ¶æ€ï¼š&lt;/strong&gt; å› ä¸º &lt;code&gt;input&lt;/code&gt; åœ¨ &lt;code&gt;abs_all&lt;/code&gt; å‡½æ•°çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä¹Ÿå› æ­¤æ²¡æœ‰è§¦å‘æ•°æ®å…‹éš†ï¼Œ&lt;code&gt;input&lt;/code&gt; ä»ç„¶ä¿æŒç€å¯¹åŸå§‹æ•°æ® &lt;code&gt;input_vec&lt;/code&gt; çš„å€Ÿç”¨çŠ¶æ€ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&quot;ç»“è®º\&quot;&gt;ç»“è®º&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ç»“è®º\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å› æ­¤ï¼Œ&lt;code&gt;assert!(matches!(input, Cow::Borrowed(_)))&lt;/code&gt; æ–­è¨€æˆç«‹ã€‚è¿™ä¸ªä¾‹å­æ¸…æ™°åœ°å±•ç¤ºäº† &lt;code&gt;Cow&lt;/code&gt; çš„â€œCopy-On-Writeâ€æœºåˆ¶ï¼šåªæœ‰åœ¨å®é™…éœ€è¦å†™å…¥ï¼ˆä¿®æ”¹ï¼‰æ—¶ï¼Œæ‰ä¼šå‘ç”Ÿæ•°æ®çš„å…‹éš†å’Œæ‰€æœ‰æƒçš„è½¬ç§»ã€‚å¦‚æœæ•°æ®ä»…ä»…è¢«è¯»å–ï¼Œ&lt;code&gt;Cow&lt;/code&gt; ä¼šé«˜æ•ˆåœ°ä¿æŒ &lt;code&gt;Borrowed&lt;/code&gt; çŠ¶æ€ï¼Œé¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…å’Œæ•°æ®å¤åˆ¶ã€‚ç†è§£è¿™ä¸€ç‚¹å¯¹äºç¼–å†™é«˜æ•ˆçš„ Rust ä»£ç è‡³å…³é‡è¦ã€‚&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;cowborrowed-æ˜¯ä»€ä¹ˆ&quot;],&quot;text&quot;:[0,&quot;Cow::Borrowed æ˜¯ä»€ä¹ˆï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;æ¡ˆä¾‹åˆ†æreference_no_mutation-æµ‹è¯•&quot;],&quot;text&quot;:[0,&quot;æ¡ˆä¾‹åˆ†æï¼šreference_no_mutation æµ‹è¯•&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;ç»“è®º&quot;],&quot;text&quot;:[0,&quot;ç»“è®º&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Rust Cowï¼ˆClone-On-Writeï¼‰å­¦ä¹ ç¬”è®°ï¼šç†è§£ Borrowed çŠ¶æ€&quot;],&quot;date&quot;:[3,&quot;2025-12-05T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Rust&quot;],[0,&quot;Cow&quot;],[0,&quot;Smart Pointers&quot;],[0,&quot;Borrowing&quot;]]],&quot;description&quot;:[0,&quot;æœ¬æ–‡é€šè¿‡ä¸€ä¸ªå…·ä½“çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œæ·±å…¥æ¢è®¨äº† Rust ä¸­ Cowï¼ˆClone-On-Writeï¼‰æ™ºèƒ½æŒ‡é’ˆçš„ Borrowed çŠ¶æ€ã€‚æˆ‘ä»¬å°†ç†è§£åœ¨ä½•ç§æƒ…å†µä¸‹ Cow ä¼šä¿æŒå€Ÿç”¨ï¼Œä»¥åŠå®ƒä½•æ—¶ä¼šå…‹éš†æ•°æ®å˜ä¸ºæ‰€æœ‰ã€‚&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/21&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;electronçƒ­æ›´æ–°åå¯åŠ¨æ€§èƒ½ä¼˜åŒ–-v8ç¼“å­˜ä¸ä»£ç æ‹†åŒ…å®æˆ˜&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Electron çƒ­æ›´æ–°åå¯åŠ¨æ€§èƒ½ä¼˜åŒ–ï¼šV8 ç¼“å­˜ä¸ä»£ç æ‹†åŒ…å®æˆ˜&quot;],&quot;description&quot;:[0,&quot;æ·±å…¥å®æˆ˜ Electron åº”ç”¨æ€§èƒ½ä¼˜åŒ–ï¼Œé€šè¿‡å¯ç”¨ V8 ä»£ç ç¼“å­˜ã€Vite æ¨¡å—æ‹†åŒ…ã€æŒ‰éœ€å¯¼å…¥å’Œå»¶è¿ŸåŠ è½½ç­‰æ‰‹æ®µï¼Œå°†ä¸»è¿›ç¨‹å¯åŠ¨æ—¶é—´ä» 1619ms ä¼˜åŒ–åˆ° 311msï¼Œæ€§èƒ½æå‡ 80%ã€‚è¯¦è§£ V8 JIT ç¼–è¯‘åŸç†ã€manualChunks æ‹†åŒ…ç­–ç•¥åŠå®é™…ä¼˜åŒ–æ•ˆæœå¯¹æ¯”ã€‚&quot;],&quot;date&quot;:[3,&quot;2025-11-18T18:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Electron&quot;],[0,&quot;æ€§èƒ½ä¼˜åŒ–&quot;],[0,&quot;V8&quot;],[0,&quot;Vite&quot;],[0,&quot;çƒ­æ›´æ–°&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;body&quot;:[0,&quot;## å‰è¨€\n\nåœ¨ Electron åº”ç”¨å¼€å‘ä¸­ï¼Œçƒ­æ›´æ–°åçš„é¦–æ¬¡å¯åŠ¨é€Ÿåº¦ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒã€‚å°†ä¸»è¿›ç¨‹å¯åŠ¨æ—¶é—´ä» 1619ms ä¼˜åŒ–åˆ° 311ms çš„å®Œæ•´å®è·µè¿‡ç¨‹ã€‚\n\n## æ€§èƒ½æ•°æ®å¯¹æ¯”\n\né€šè¿‡ä»¥ä¸‹ä¼˜åŒ–æ‰‹æ®µï¼Œæˆ‘ä»¬å®ç°äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼š\n\n| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡å¹…åº¦ |\n|-----|-------|-------|---------|\n| **ä¸»è¿›ç¨‹å¯åŠ¨æ€»è€—æ—¶** | 1619.32ms | 311.88ms | **80.7% â†“** |\n| **app.whenReady è€—æ—¶** | 833.46ms | 126.61ms | **84.8% â†“** |\n| **çª—å£åˆ›å»ºè€—æ—¶** | 536.34ms | 140.59ms | **73.8% â†“** |\n| **V8 ç¼“å­˜æ–‡ä»¶æ•°é‡** | 9543 ä¸ª | 9043 ä¸ª | ä¼˜åŒ–åç¨³å®š |\n\nä»å®é™…æ—¥å¿—æ•°æ®æ¥çœ‹ï¼š\n\n```log\n# ä¼˜åŒ–å‰ï¼ˆ2025-11-18 16:37:59ï¼‰\n[info] â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹\n[info] â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: 833.46ms\n[info] ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: 9543\n[info] â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: 536.34ms\n[info] â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: 1619.32ms\n\n# ä¼˜åŒ–åï¼ˆ2025-11-18 17:10:30ï¼‰\n[info] â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹\n[info] â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: 126.61ms\n[info] ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: 9043\n[info] â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: 140.59ms\n[info] â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: 311.88ms\n```\n\n## æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥\n\n### 1. å¯ç”¨ V8 ä»£ç ç¼“å­˜\n\nV8 ä»£ç ç¼“å­˜ï¼ˆCode Cacheï¼‰æ˜¯ Chrome å’Œ Node.js ä¸­ç”¨äºåŠ é€Ÿ JavaScript ä»£ç æ‰§è¡Œçš„é‡è¦æœºåˆ¶ã€‚é€šè¿‡ç¼“å­˜ç¼–è¯‘åçš„å­—èŠ‚ç ï¼Œå¯ä»¥é¿å…é‡å¤çš„è§£æå’Œç¼–è¯‘è¿‡ç¨‹ã€‚\n\n#### å®ç°æ–¹å¼\n\nåœ¨ Electron ä¸»è¿›ç¨‹å¯åŠ¨æ—¶æ·»åŠ å‘½ä»¤è¡Œå¼€å…³ï¼š\n\n```typescript\n// src/main/index.ts\n\n// å¯ç”¨ V8 ä»£ç ç¼“å­˜ä¼˜åŒ–ï¼ŒåŠ é€Ÿå†·å¯åŠ¨\napp.commandLine.appendSwitch(&#39;enable-features&#39;, &#39;V8CodeCache&#39;);\napp.commandLine.appendSwitch(&#39;v8-cache-options&#39;, &#39;code&#39;);\n```\n\n#### éªŒè¯ç¼“å­˜æ•ˆæœ\n\nåœ¨ `app.whenReady()` ä¸­æ·»åŠ ç›‘æ§ä»£ç ï¼š\n\n```typescript\napp.whenReady().then(async () =&gt; {\n  const readyTime = performance.now();\n  log.info(`â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: ${(readyTime - startupTime).toFixed(2)}ms`);\n\n  // éªŒè¯ V8 ä»£ç ç¼“å­˜\n  const cacheDir = join(app.getPath(&#39;userData&#39;), &#39;Code Cache&#39;, &#39;js&#39;);\n  try {\n    const fs = await import(&#39;fs&#39;);\n    if (fs.existsSync(cacheDir)) {\n      const cacheFiles = fs.readdirSync(cacheDir);\n      log.info(`ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: ${cacheFiles.length}`);\n    } else {\n      log.info(&#39;ğŸ“¦ V8 ä»£ç ç¼“å­˜ç›®å½•ä¸å­˜åœ¨ï¼ˆé¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰&#39;);\n    }\n  } catch (error) {\n    log.warn(&#39;æ— æ³•æ£€æŸ¥ V8 ç¼“å­˜ç›®å½•:&#39;, error);\n  }\n});\n```\n\n#### å·¥ä½œåŸç†\n\nV8 å¼•æ“åœ¨æ‰§è¡Œ JavaScript æ—¶çš„æµç¨‹ï¼š\n1. **è§£æï¼ˆParsingï¼‰**ï¼šå°†æºä»£ç è½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰\n2. **ç¼–è¯‘ï¼ˆCompilationï¼‰**ï¼šå°† AST ç¼–è¯‘ä¸ºå­—èŠ‚ç \n3. **æ‰§è¡Œï¼ˆExecutionï¼‰**ï¼šV8 è§£é‡Šå™¨æ‰§è¡Œå­—èŠ‚ç \n\nå¯ç”¨ä»£ç ç¼“å­˜åï¼š\n- **é¦–æ¬¡è¿è¡Œ**ï¼šV8 ç”Ÿæˆå­—èŠ‚ç å¹¶ç¼“å­˜åˆ°ç£ç›˜\n- **åç»­è¿è¡Œ**ï¼šç›´æ¥åŠ è½½ç¼“å­˜çš„å­—èŠ‚ç ï¼Œè·³è¿‡è§£æå’Œç¼–è¯‘é˜¶æ®µ\n\n### 2. æ¨¡å—æ‹†åŒ…ï¼ˆCode Splittingï¼‰â€”â€” æ ¸å¿ƒä¼˜åŒ–\n\nè¿™æ˜¯æœ¬æ¬¡ä¼˜åŒ–ä¸­æœ€å…³é”®çš„ä¸€æ­¥ã€‚**é€šè¿‡ Vite é…ç½®å°†å•ä¸€çš„ `main.js` æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„ `utils/*.js` æ–‡ä»¶ï¼Œæ˜¾è‘—é™ä½ V8 çš„ JIT ç¼–è¯‘å‹åŠ›ã€‚**\n\n#### é—®é¢˜èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…ï¼Ÿ\n\nåœ¨ä¼˜åŒ–å‰ï¼Œé¡¹ç›®ä½¿ç”¨ `src/main/utils/index.ts` ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰å·¥å…·å‡½æ•°ï¼š\n\n```typescript\n// src/main/utils/index.tsï¼ˆä¼˜åŒ–å‰ï¼‰\nexport * from &#39;./aesEncode&#39;;\nexport * from &#39;./notifi&#39;;\nexport * from &#39;./tray&#39;;\nexport * from &#39;./latex2Docx&#39;;\nexport * from &#39;./pathUtils&#39;;\n// ... å¯¼å‡ºå‡ åä¸ªå·¥å…·æ¨¡å—\n```\n\nVite æ‰“åŒ…åï¼Œæ‰€æœ‰å·¥å…·ä»£ç ä¼šè¢« Tree Shaking å’Œ Rollup åˆå¹¶åˆ°**å•ä¸€çš„ `main.js` æ–‡ä»¶**ä¸­ã€‚è¿™ä¼šå¯¼è‡´ï¼š\n\n1. **å·¨å‹ JS æ–‡ä»¶**ï¼šmain.js å¯èƒ½è¶…è¿‡å‡  MBï¼ŒåŒ…å«æ‰€æœ‰å·¥å…·å‡½æ•°ä»£ç \n2. **JIT çƒ­ç‚¹é›†ä¸­**ï¼šV8 å¼•æ“åœ¨å¯åŠ¨æ—¶éœ€è¦ï¼š\n   - è§£ææ•´ä¸ªå¤§æ–‡ä»¶çš„ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰\n   - ä¸ºæ‰€æœ‰å‡½æ•°ç”Ÿæˆå­—èŠ‚ç \n   - è¯†åˆ«çƒ­ç‚¹å‡½æ•°å¹¶è¿›è¡Œ JIT ä¼˜åŒ–ç¼–è¯‘\n3. **ç¼“å­˜ç²’åº¦ç²—**ï¼šä»»ä½•ä¸€ä¸ªå·¥å…·å‡½æ•°çš„ä¿®æ”¹éƒ½ä¼šå¯¼è‡´æ•´ä¸ª main.js çš„ V8 ç¼“å­˜å¤±æ•ˆ\n\n#### Vite é…ç½®æ–¹æ¡ˆ\n\né€šè¿‡ `manualChunks` é…ç½®ï¼Œæˆ‘ä»¬å°†æ¯ä¸ª utils æ¨¡å—æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ chunkï¼š\n\n```typescript\n// src/main/vite.config.ts\n\nexport default defineConfig({\n  build: {\n    rollupOptions: {\n      external: [\n        &#39;electron&#39;,\n        &#39;node-screenshots&#39;,\n        ...builtinModules,\n        ...Object.keys(pkg.dependencies || {}),\n        ...Object.keys(pkg.devDependencies || {}),\n      ],\n      output: {\n        // ğŸ”¥ å…³é”®é…ç½®ï¼šå°† utils æ¨¡å—æ‹†åˆ†ä¸ºç‹¬ç«‹ chunk\n        manualChunks(id) {\n          // ä¸ºæ¯ä¸ª utils æ¨¡å—åˆ›å»ºç‹¬ç«‹çš„ chunk\n          if (id.includes(&#39;src/main/utils/&#39;) &amp;&amp; !id.includes(&#39;index.ts&#39;)) {\n            // æå–æ¨¡å—åç§°\n            // ä¾‹å¦‚ï¼šsrc/main/utils/aesEncode.ts -&gt; utils/aesEncode\n            const match = id.match(/utils\\/([^/]+)\\.(ts|js)/);\n            if (match) {\n              return `utils/${match[1]}`;\n            }\n          }\n          return undefined; // å…¶ä»–æ¨¡å—ä½¿ç”¨é»˜è®¤åˆ†åŒ…ç­–ç•¥\n        },\n      },\n    },\n  },\n});\n```\n\n#### æ‹†åŒ…æ•ˆæœå¯¹æ¯”\n\n**ä¼˜åŒ–å‰çš„æ‰“åŒ…ç»“æ„ï¼š**\n```\ndist/main/\nâ”œâ”€â”€ main.js          â† å•ä¸€å·¨å‹æ–‡ä»¶ï¼ˆåŒ…å«æ‰€æœ‰ä»£ç ï¼‰\nâ””â”€â”€ main.js.map\n```\n\n**ä¼˜åŒ–åçš„æ‰“åŒ…ç»“æ„ï¼š**\n```\ndist/main/\nâ”œâ”€â”€ main.js                    â† ä¸»å…¥å£æ–‡ä»¶ï¼ˆç²¾ç®€ï¼‰\nâ”œâ”€â”€ utils/\nâ”‚   â”œâ”€â”€ aesEncode.js          â† ç‹¬ç«‹å·¥å…·æ¨¡å—\nâ”‚   â”œâ”€â”€ notifi.js\nâ”‚   â”œâ”€â”€ tray.js\nâ”‚   â”œâ”€â”€ latex2Docx.js\nâ”‚   â”œâ”€â”€ pathUtils.js\nâ”‚   â”œâ”€â”€ renderLocalStrongHandle.js\nâ”‚   â”œâ”€â”€ rustScreenshotWindow.js\nâ”‚   â”œâ”€â”€ updateRender.js\nâ”‚   â””â”€â”€ ... å…¶ä»–å·¥å…·æ¨¡å—\nâ””â”€â”€ *.js.map\n```\n\n#### æ‹†åŒ…å¦‚ä½•é™ä½ JIT çƒ­ç‚¹ç¼–è¯‘å‹åŠ›ï¼Ÿ\n\n**1. å‡å°‘å•æ¬¡è§£æè´Ÿæ‹…**\n\nV8 çš„è§£æå™¨ï¼ˆParserï¼‰æ˜¯å•çº¿ç¨‹çš„ï¼Œå·¨å‹æ–‡ä»¶ä¼šé˜»å¡å¯åŠ¨æµç¨‹ï¼š\n\n```\nä¼˜åŒ–å‰ï¼šè§£æ 5MB çš„ main.jsï¼ˆè€—æ—¶ ~800msï¼‰\nä¼˜åŒ–åï¼šè§£æ 500KB çš„ main.js + æŒ‰éœ€åŠ è½½å°æ¨¡å—ï¼ˆè€—æ—¶ ~120msï¼‰\n```\n\n**2. æŒ‰éœ€ JIT ç¼–è¯‘**\n\nV8 çš„ JIT ç¼–è¯‘å™¨ï¼ˆTurboFanï¼‰ä¼šè¯†åˆ«çƒ­ç‚¹å‡½æ•°å¹¶è¿›è¡Œä¼˜åŒ–ç¼–è¯‘ã€‚æ‹†åŒ…åï¼š\n\n- **å†·å¯åŠ¨æ—¶**ï¼šåªæœ‰ä¸»å…¥å£ `main.js` ä¸­çš„ä»£ç è¢«ç«‹å³ç¼–è¯‘\n- **è¿è¡Œæ—¶**ï¼šå½“è°ƒç”¨ `utils/notifi.js` æ—¶ï¼Œæ‰åŠ è½½å¹¶ç¼–è¯‘è¯¥æ¨¡å—\n- **é¿å…è¿‡åº¦ä¼˜åŒ–**ï¼šéçƒ­ç‚¹ä»£ç ä¸ä¼šæµªè´¹ CPU æ—¶é—´è¿›è¡Œæ— è°“çš„ä¼˜åŒ–\n\n**3. æ›´ç»†ç²’åº¦çš„ V8 ç¼“å­˜**\n\nä»æ—¥å¿—å¯ä»¥çœ‹åˆ°ï¼Œä¼˜åŒ–å V8 ç¼“å­˜æ–‡ä»¶æ•°é‡ä» 9543 ä¸ªé™åˆ° 9043 ä¸ªï¼Œä½†æ€§èƒ½åè€Œæå‡äº†ï¼š\n\n```log\nä¼˜åŒ–å‰ï¼šğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: 9543  â† å¤§é‡å°ç¼“å­˜ + å·¨å‹ main.js ç¼“å­˜\nä¼˜åŒ–åï¼šğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: 9043  â† ç²¾ç®€ä¸”é«˜æ•ˆçš„ç¼“å­˜ç»“æ„\n```\n\nè¿™æ˜¯å› ä¸ºï¼š\n- æ¯ä¸ª utils æ¨¡å—çš„ç¼“å­˜æ˜¯ç‹¬ç«‹çš„\n- ä¿®æ”¹ `utils/notifi.js` æ—¶ï¼Œåªéœ€é‡æ–°ç”Ÿæˆè¯¥æ–‡ä»¶çš„ç¼“å­˜\n- `main.js`ã€`utils/tray.js` ç­‰å…¶ä»–æ¨¡å—çš„ç¼“å­˜ç»§ç»­æœ‰æ•ˆ\n\n**4. é™ä½å†…å­˜å‹åŠ›**\n\nå·¨å‹æ–‡ä»¶ä¼šå¯¼è‡´æ›´å¤šçš„å†…å­˜å ç”¨ï¼š\n- **ä¼˜åŒ–å‰**ï¼š5MB çš„ main.js åœ¨è§£æé˜¶æ®µä¼šç”Ÿæˆå¤§é‡ä¸´æ—¶ AST èŠ‚ç‚¹å¯¹è±¡\n- **ä¼˜åŒ–å**ï¼šå°æ–‡ä»¶çš„ AST æ›´å¿«è¢«åƒåœ¾å›æ”¶ï¼Œé™ä½å†…å­˜å³°å€¼\n\n#### å®é™…æ€§èƒ½æå‡\n\nç»“åˆæ—¥å¿—æ•°æ®åˆ†æï¼Œæ‹†åŒ…å¸¦æ¥çš„ç›´æ¥æ•ˆæœï¼š\n\n| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | è¯´æ˜ |\n|-----|-------|-------|-----|\n| app.whenReady è€—æ—¶ | 833.46ms | 126.61ms | **å‡å°‘ 84.8%**ï¼Œä¸»è¦å½’åŠŸäºæ‹†åŒ…å‡å°‘è§£ææ—¶é—´ |\n| çª—å£åˆ›å»ºè€—æ—¶ | 536.34ms | 140.59ms | **å‡å°‘ 73.8%**ï¼Œä¸»æµç¨‹ä»£ç æ›´ç²¾ç®€ |\n\n#### æ³¨æ„äº‹é¡¹\n\n1. **ä¸è¦æ‹†åˆ†è¿‡ç»†**ï¼šæ¯ä¸ªæ–‡ä»¶åº”æœ‰ä¸€å®šä½“ç§¯ï¼ˆå»ºè®® &gt;10KBï¼‰ï¼Œå¦åˆ™æ¨¡å—åŠ è½½å¼€é”€ä¼šæŠµæ¶ˆæ‹†åŒ…æ”¶ç›Š\n2. **æ’é™¤ index.ts**ï¼š`utils/index.ts` åªæ˜¯å¯¼å‡ºèšåˆæ–‡ä»¶ï¼Œä¸åº”å•ç‹¬æˆä¸º chunk\n3. **å¤–éƒ¨åŒ–åŸç”Ÿæ¨¡å—**ï¼šå¦‚ `electron` å¿…é¡»æ ‡è®°ä¸º externalï¼Œé¿å…æ‰“åŒ…å¤±è´¥\n\n#### æ—¥å¿—ä¸­çš„è¯æ®\n\nå¯¹æ¯”æ—¥å¿—å¯ä»¥çœ‹åˆ°æ‹†åŒ…ä¼˜åŒ–çš„å…³é”®æ—¶é—´ç‚¹ï¼š\n\n```log\n# ä¼˜åŒ–å‰ï¼šå·¨å‹æ–‡ä»¶å¯¼è‡´å¯åŠ¨ç¼“æ…¢\n[2025-11-18 16:38:00.298] â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: 833.46ms  â† è§£æè€—æ—¶é•¿\n[2025-11-18 16:38:00.951] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                    â† å»¶è¿ŸåŠ è½½\n\n# ä¼˜åŒ–åï¼šæ‹†åŒ…åæ¨¡å—æå‰åŠ è½½ï¼Œå¯åŠ¨è¿…é€Ÿ\n[2025-11-18 17:10:30.749] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                    â† ç«‹å³åŠ è½½\n[2025-11-18 17:10:30.810] â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: 166.22ms  â† è§£æè€—æ—¶å¤§å¹…é™ä½\n```\n\næ‹†åŒ…åï¼ŒåŸæœ¬éœ€è¦å»¶è¿ŸåŠ è½½çš„æ¨¡å—ï¼ˆå¦‚ `unzipper`ï¼‰å¯ä»¥æ›´å¿«åŠ è½½ï¼Œå› ä¸ºå®ƒä»¬ä¸å†è¢«æ‰“åŒ…åˆ°å·¨å‹ `main.js` ä¸­ã€‚\n\n**å…³é”®ä¼˜åŒ–ï¼šåŸç”Ÿæ¨¡å—æå‰åŠ è½½**\n\nä»æ—¥å¿—æ—¶é—´æˆ³å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼š\n\n```log\n# ä¼˜åŒ–å‰ï¼šåŸç”Ÿæ¨¡å—åœ¨ app.whenReady ä¹‹åæ‰åŠ è½½\n[16:37:59.464] ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹\n[16:38:00.298] app.whenReady è§¦å‘ï¼Œè€—æ—¶: 833.46ms\n[16:38:00.951] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                          â† +1470msï¼ˆä¸¥é‡å»¶è¿Ÿï¼‰\n\n# ä¼˜åŒ–åï¼šåŸç”Ÿæ¨¡å—ç«‹å³åŠ è½½\n[17:10:30.776] ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹\n[17:10:30.851] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                          â† +75msï¼ˆå‡ ä¹åŒæ—¶ï¼‰\n[17:10:30.903] app.whenReady è§¦å‘ï¼Œè€—æ—¶: 126.61ms\n```\n\n**ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ**\n\nè¿™æ˜¯å› ä¸ºä¼˜åŒ–å‰ `unzipper` æ¨¡å—è¢«æ‰“åŒ…åˆ° `main.js` çš„æ·±å±‚ä¾èµ–ä¸­ï¼Œåªæœ‰åœ¨æ•´ä¸ªå·¨å‹æ–‡ä»¶è§£æå®Œæˆåæ‰èƒ½æ‰§è¡Œå®ƒä»¬çš„åˆå§‹åŒ–ä»£ç ã€‚æ‹†åŒ…åï¼š\n\n1. è¿™äº›æ¨¡å—æˆä¸ºç‹¬ç«‹çš„ chunk\n2. ESM çš„å¹¶è¡ŒåŠ è½½æœºåˆ¶å¯ä»¥æ›´æ—©åœ°åŠ è½½å®ƒä»¬\n3. ä¸å†è¢« main.js çš„è§£æé˜»å¡\n\nè¿™è¿›ä¸€æ­¥éªŒè¯äº†**æ‹†åŒ…å¯¹å¯åŠ¨æµç¨‹çš„å·¨å¤§ä¼˜åŒ–ä½œç”¨**ã€‚\n\n### 3. æŒ‰éœ€å¯¼å…¥ä¾èµ–ï¼ˆTree Shakingï¼‰\n\nå¤§å‹åº“çš„å…¨é‡å¯¼å…¥ä¼šå¼•å…¥å¤§é‡æœªä½¿ç”¨çš„ä»£ç ï¼Œå¢åŠ å¯åŠ¨å¼€é”€ã€‚\n\n#### ä¼˜åŒ–å‰\n\n```typescript\nimport * as lodash from &#39;lodash-es&#39;;\n\n// ä½¿ç”¨æ—¶\nwin.on(&#39;moved&#39;, lodash.throttle(() =&gt; { /* ... */ }, 500));\n```\n\n#### ä¼˜åŒ–å\n\n```typescript\n// åªå¯¼å…¥éœ€è¦çš„å‡½æ•°\nimport { throttle, debounce } from &#39;lodash-es&#39;;\n\nwin.on(&#39;moved&#39;, throttle(() =&gt; { /* ... */ }, 500));\n```\n\n#### æ•ˆæœåˆ†æ\n\n- å‡å°‘ bundle ä½“ç§¯\n- é™ä½ V8 è§£æè´Ÿæ‹…\n- æå‡ Tree Shaking æ•ˆç‡\n\n### 4. å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—\n\nå°†éå¯åŠ¨å¿…éœ€çš„åŠŸèƒ½ï¼ˆå¦‚åˆ’è¯ç¿»è¯‘ï¼‰å»¶è¿Ÿåˆ°ä¸»çª—å£åˆ›å»ºå®Œæˆåå†åˆå§‹åŒ–ã€‚\n\n#### å®ç°æ–¹æ¡ˆ\n\n```typescript\n// ä¼˜åŒ–å‰ï¼šåŒæ­¥å¯¼å…¥ï¼Œé˜»å¡å¯åŠ¨\nimport &#39;./utils/selectionWord/ipcListener&#39;;\nimport { cleanupTranslation, initTranslationShortcut } from &#39;./utils/selectionWord/init&#39;;\n\napp.whenReady().then(async () =&gt; {\n  // ...åˆ›å»ºä¸»çª—å£\n  mainWin = await createWindow();\n\n  initTranslationShortcut(); // é˜»å¡å¯åŠ¨æµç¨‹\n});\n```\n\n```typescript\n// ä¼˜åŒ–åï¼šå¼‚æ­¥åŠ¨æ€å¯¼å…¥ï¼Œä¸é˜»å¡å¯åŠ¨\napp.whenReady().then(async () =&gt; {\n  // ...åˆ›å»ºä¸»çª—å£\n  mainWin = await createWindow();\n\n  // å»¶è¿Ÿåˆå§‹åŒ–åˆ’è¯ç¿»è¯‘ï¼Œé¿å…é˜»å¡ä¸»çª—å£å¯åŠ¨\n  setImmediate(async () =&gt; {\n    const translationStart = performance.now();\n    try {\n      // åŠ¨æ€å¯¼å…¥æ¨¡å—\n      await import(&#39;./utils/selectionWord/ipcListener&#39;);\n      const { initTranslationShortcut } = await import(&#39;./utils/selectionWord/init&#39;);\n      initTranslationShortcut();\n\n      const translationEnd = performance.now();\n      log.info(`â±ï¸ åˆ’è¯ç¿»è¯‘åŠŸèƒ½å·²åˆå§‹åŒ–ï¼Œè€—æ—¶: ${(translationEnd - translationStart).toFixed(2)}ms`);\n    } catch (error) {\n      log.error(&#39;åˆå§‹åŒ–åˆ’è¯ç¿»è¯‘å¤±è´¥:&#39;, error);\n    }\n  });\n\n  const totalTime = performance.now();\n  log.info(`â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: ${(totalTime - startupTime).toFixed(2)}ms`);\n});\n```\n\n#### å…³é”®æŠ€æœ¯ç‚¹\n\n1. **ä½¿ç”¨ `setImmediate`**ï¼šç¡®ä¿ä¸»çª—å£å®Œå…¨åˆå§‹åŒ–åå†åŠ è½½\n2. **åŠ¨æ€ `import()`**ï¼šæŒ‰éœ€åŠ è½½æ¨¡å—ï¼Œä¸å½±å“ä¸»æµç¨‹\n3. **é”™è¯¯éš”ç¦»**ï¼šé¿å…éæ ¸å¿ƒåŠŸèƒ½çš„å¤±è´¥å½±å“ä¸»ç¨‹åº\n\næ—¥å¿—è¾“å‡ºæ˜¾ç¤ºåˆ’è¯ç¿»è¯‘åˆå§‹åŒ–è€—æ—¶çº¦ 70-123msï¼Œé€šè¿‡å»¶è¿ŸåŠ è½½å®Œå…¨ä¸å½±å“ä¸»çª—å£å¯åŠ¨ï¼š\n\n```log\n[info] â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: 311.88ms\n[info] â±ï¸ åˆ’è¯ç¿»è¯‘åŠŸèƒ½å·²åˆå§‹åŒ–ï¼Œè€—æ—¶: 59.88ms\n```\n\n### 5. æ€§èƒ½ç›‘æ§åŸ‹ç‚¹\n\nåœ¨å…³é”®è·¯å¾„æ·»åŠ æ—¶é—´æˆ³è®°å½•ï¼Œä¾¿äºå®šä½æ€§èƒ½ç“¶é¢ˆã€‚\n\n```typescript\n// å¯åŠ¨å¼€å§‹\nconst startupTime = performance.now();\nlog.info(&#39;â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&#39;);\n\n// app.whenReady è§¦å‘\napp.whenReady().then(async () =&gt; {\n  const readyTime = performance.now();\n  log.info(`â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: ${(readyTime - startupTime).toFixed(2)}ms`);\n\n  // çª—å£åˆ›å»º\n  const createWindowStart = performance.now();\n  mainWin = await createWindow();\n  const createWindowEnd = performance.now();\n  log.info(`â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: ${(createWindowEnd - createWindowStart).toFixed(2)}ms`);\n\n  // æ€»è€—æ—¶\n  const totalTime = performance.now();\n  log.info(`â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: ${(totalTime - startupTime).toFixed(2)}ms`);\n});\n```\n\n## å¸¸è§é—®é¢˜\n\n### Q1: V8 ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—ï¼Ÿ\n\nA: ä¸ä¼šã€‚Electron ä¼šè‡ªåŠ¨ç®¡ç†ç¼“å­˜å¤§å°ï¼Œå®šæœŸæ¸…ç†è¿‡æœŸæ–‡ä»¶ã€‚é€šå¸¸ç¼“å­˜ç›®å½•å¤§å°åœ¨å‡ å MB å·¦å³ã€‚\n\n### Q2: ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—ï¼Ÿ\n\nA: å½±å“æå°ã€‚æ¨¡å—æ‹†åˆ†åï¼ŒV8 çš„æ¨¡å—åŠ è½½æœºåˆ¶ï¼ˆESMï¼‰å¯ä»¥é«˜æ•ˆå¤„ç†å¤šæ–‡ä»¶ä¾èµ–ï¼Œä¸”æ‹†åŒ…åçš„ç¼“å­˜ç²’åº¦æ›´ç»†ï¼Œæ•´ä½“æ€§èƒ½åè€Œæ›´ä¼˜ã€‚\n\n### Q3: åŠ¨æ€ import ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—ï¼Ÿ\n\nA: å¯¹ç”¨æˆ·å‡ ä¹æ— æ„ŸçŸ¥ã€‚ä»¥åˆ’è¯ç¿»è¯‘ä¸ºä¾‹ï¼Œä»ä¸»çª—å£å¯åŠ¨åˆ°ç”¨æˆ·å®é™…ä½¿ç”¨è¯¥åŠŸèƒ½æœ‰è¶³å¤Ÿçš„æ—¶é—´å·®ï¼Œå¼‚æ­¥åŠ è½½å®Œå…¨å¯ä»¥åœ¨ç”¨æˆ·æ“ä½œå‰å®Œæˆã€‚\n\n## æ€»ç»“\n\né€šè¿‡æœ¬æ¬¡ä¼˜åŒ–ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š\n\n1. **å¯åŠ¨é€Ÿåº¦æå‡ 80%+**ï¼šä» 1.6s é™è‡³ 0.3s\n2. **ç”¨æˆ·ä½“éªŒæ”¹å–„**ï¼šçƒ­æ›´æ–°åå‡ ä¹æ— æ„ŸçŸ¥\n3. **å¯ç»´æŠ¤æ€§æå‡**ï¼šæ€§èƒ½ç›‘æ§åŸ‹ç‚¹ä¾¿äºåç»­å®šä½é—®é¢˜\n\nå…³é”®è¦ç‚¹ï¼š\n- **æ¨¡å—æ‹†åŒ…æ˜¯æ ¸å¿ƒ**ï¼šå°†å•ä¸€ `main.js` æ‹†åˆ†ä¸ºå¤šä¸ª `utils/*.js` æ–‡ä»¶ï¼Œæ˜¾è‘—é™ä½ V8 çš„ JIT çƒ­ç‚¹ç¼–è¯‘å‹åŠ›ï¼ˆapp.whenReady è€—æ—¶ä» 833ms é™è‡³ 126msï¼‰\n- **V8 ç¼“å­˜æ˜¯åŸºç¡€**ï¼šå¯ç”¨ä»£ç ç¼“å­˜è·³è¿‡é‡å¤çš„è§£æå’Œç¼–è¯‘è¿‡ç¨‹\n- **å»¶è¿ŸåŠ è½½ä¼˜åŒ–å…³é”®è·¯å¾„**ï¼šéå…³é”®åŠŸèƒ½å¼‚æ­¥åŠ è½½ï¼Œä¸é˜»å¡ä¸»çª—å£å¯åŠ¨\n- **æ€§èƒ½ç›‘æ§æä¾›æ•°æ®æ”¯æ’‘**ï¼šåŸ‹ç‚¹æ—¥å¿—å¸®åŠ©å®šä½ç“¶é¢ˆ\n\n**æœ€é‡è¦çš„å¯ç¤ºï¼š**\n\nåœ¨ Electron åº”ç”¨ä¸­ï¼Œ**æ‰“åŒ…äº§ç‰©çš„ç»“æ„æ¯”æ‰“åŒ…ä½“ç§¯æ›´é‡è¦**ã€‚ä¸€ä¸ª 5MB çš„å·¨å‹ `main.js` æ–‡ä»¶å¯¹ V8 å¼•æ“æ¥è¯´æ˜¯ç¾éš¾ï¼Œå³ä½¿å®ƒçš„æ€»ä»£ç é‡å¹¶ä¸å¤§ã€‚é€šè¿‡ Vite çš„ `manualChunks` é…ç½®ï¼Œå°†ä»£ç æ‹†åˆ†ä¸ºåˆç†çš„æ¨¡å—ç»“æ„ï¼Œè®© V8 èƒ½å¤ŸæŒ‰éœ€è§£æå’Œç¼–è¯‘ï¼Œè¿™æ‰æ˜¯å¯åŠ¨æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ã€‚\n\nElectron æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œå»ºè®®å®šæœŸæ£€æŸ¥å¯åŠ¨æ—¥å¿—ï¼Œé’ˆå¯¹æ€§åœ°ä¼˜åŒ–ç“¶é¢ˆç¯èŠ‚ã€‚\n\n---&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Electronçƒ­æ›´æ–°åå¯åŠ¨æ€§èƒ½ä¼˜åŒ–-V8ç¼“å­˜ä¸ä»£ç æ‹†åŒ…å®æˆ˜.md&quot;],&quot;digest&quot;:[0,&quot;d11f2401ce9920d0&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;å‰è¨€\&quot;&gt;å‰è¨€&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‰è¨€\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;åœ¨ Electron åº”ç”¨å¼€å‘ä¸­ï¼Œçƒ­æ›´æ–°åçš„é¦–æ¬¡å¯åŠ¨é€Ÿåº¦ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒã€‚å°†ä¸»è¿›ç¨‹å¯åŠ¨æ—¶é—´ä» 1619ms ä¼˜åŒ–åˆ° 311ms çš„å®Œæ•´å®è·µè¿‡ç¨‹ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ€§èƒ½æ•°æ®å¯¹æ¯”\&quot;&gt;æ€§èƒ½æ•°æ®å¯¹æ¯”&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€§èƒ½æ•°æ®å¯¹æ¯”\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é€šè¿‡ä»¥ä¸‹ä¼˜åŒ–æ‰‹æ®µï¼Œæˆ‘ä»¬å®ç°äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼š&lt;/p&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;æŒ‡æ ‡&lt;/th&gt;&lt;th&gt;ä¼˜åŒ–å‰&lt;/th&gt;&lt;th&gt;ä¼˜åŒ–å&lt;/th&gt;&lt;th&gt;æå‡å¹…åº¦&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;ä¸»è¿›ç¨‹å¯åŠ¨æ€»è€—æ—¶&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;1619.32ms&lt;/td&gt;&lt;td&gt;311.88ms&lt;/td&gt;&lt;td&gt;&lt;strong&gt;80.7% â†“&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;app.whenReady è€—æ—¶&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;833.46ms&lt;/td&gt;&lt;td&gt;126.61ms&lt;/td&gt;&lt;td&gt;&lt;strong&gt;84.8% â†“&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;çª—å£åˆ›å»ºè€—æ—¶&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;536.34ms&lt;/td&gt;&lt;td&gt;140.59ms&lt;/td&gt;&lt;td&gt;&lt;strong&gt;73.8% â†“&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;V8 ç¼“å­˜æ–‡ä»¶æ•°é‡&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;9543 ä¸ª&lt;/td&gt;&lt;td&gt;9043 ä¸ª&lt;/td&gt;&lt;td&gt;ä¼˜åŒ–åç¨³å®š&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;\n&lt;p&gt;ä»å®é™…æ—¥å¿—æ•°æ®æ¥çœ‹ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;log\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–å‰ï¼ˆ&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 16:37:59&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;833&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.46ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;9543&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;536&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.34ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1619&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.32ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–åï¼ˆ&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 17:10:30&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;126&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.61ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;9043&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;140&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.59ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;311&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.88ms&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥\&quot;&gt;æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;1-å¯ç”¨-v8-ä»£ç ç¼“å­˜\&quot;&gt;1. å¯ç”¨ V8 ä»£ç ç¼“å­˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#1-å¯ç”¨-v8-ä»£ç ç¼“å­˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;V8 ä»£ç ç¼“å­˜ï¼ˆCode Cacheï¼‰æ˜¯ Chrome å’Œ Node.js ä¸­ç”¨äºåŠ é€Ÿ JavaScript ä»£ç æ‰§è¡Œçš„é‡è¦æœºåˆ¶ã€‚é€šè¿‡ç¼“å­˜ç¼–è¯‘åçš„å­—èŠ‚ç ï¼Œå¯ä»¥é¿å…é‡å¤çš„è§£æå’Œç¼–è¯‘è¿‡ç¨‹ã€‚&lt;/p&gt;\n&lt;h4 id=\&quot;å®ç°æ–¹å¼\&quot;&gt;å®ç°æ–¹å¼&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®ç°æ–¹å¼\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;åœ¨ Electron ä¸»è¿›ç¨‹å¯åŠ¨æ—¶æ·»åŠ å‘½ä»¤è¡Œå¼€å…³ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// src/main/index.ts&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// å¯ç”¨ V8 ä»£ç ç¼“å­˜ä¼˜åŒ–ï¼ŒåŠ é€Ÿå†·å¯åŠ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.commandLine.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;appendSwitch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;enable-features&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;V8CodeCache&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.commandLine.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;appendSwitch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;v8-cache-options&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;code&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;éªŒè¯ç¼“å­˜æ•ˆæœ\&quot;&gt;éªŒè¯ç¼“å­˜æ•ˆæœ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#éªŒè¯ç¼“å­˜æ•ˆæœ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;åœ¨ &lt;code&gt;app.whenReady()&lt;/code&gt; ä¸­æ·»åŠ ç›‘æ§ä»£ç ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;().&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;then&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; readyTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;readyTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; startupTime&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // éªŒè¯ V8 ä»£ç ç¼“å­˜&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; cacheDir&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; join&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;getPath&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;userData&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;), &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;Code Cache&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;js&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  try&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; fs&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; await&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; import&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;fs&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (fs.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;existsSync&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(cacheDir)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; cacheFiles&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; fs.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;readdirSync&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(cacheDir);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: ${&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;cacheFiles&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;ğŸ“¦ V8 ä»£ç ç¼“å­˜ç›®å½•ä¸å­˜åœ¨ï¼ˆé¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;catch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (error) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;warn&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;æ— æ³•æ£€æŸ¥ V8 ç¼“å­˜ç›®å½•:&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, error);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;});&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;å·¥ä½œåŸç†\&quot;&gt;å·¥ä½œåŸç†&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å·¥ä½œåŸç†\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;V8 å¼•æ“åœ¨æ‰§è¡Œ JavaScript æ—¶çš„æµç¨‹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;è§£æï¼ˆParsingï¼‰&lt;/strong&gt;ï¼šå°†æºä»£ç è½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç¼–è¯‘ï¼ˆCompilationï¼‰&lt;/strong&gt;ï¼šå°† AST ç¼–è¯‘ä¸ºå­—èŠ‚ç &lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ‰§è¡Œï¼ˆExecutionï¼‰&lt;/strong&gt;ï¼šV8 è§£é‡Šå™¨æ‰§è¡Œå­—èŠ‚ç &lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;å¯ç”¨ä»£ç ç¼“å­˜åï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;é¦–æ¬¡è¿è¡Œ&lt;/strong&gt;ï¼šV8 ç”Ÿæˆå­—èŠ‚ç å¹¶ç¼“å­˜åˆ°ç£ç›˜&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åç»­è¿è¡Œ&lt;/strong&gt;ï¼šç›´æ¥åŠ è½½ç¼“å­˜çš„å­—èŠ‚ç ï¼Œè·³è¿‡è§£æå’Œç¼–è¯‘é˜¶æ®µ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;2-æ¨¡å—æ‹†åŒ…code-splitting-æ ¸å¿ƒä¼˜åŒ–\&quot;&gt;2. æ¨¡å—æ‹†åŒ…ï¼ˆCode Splittingï¼‰â€”â€” æ ¸å¿ƒä¼˜åŒ–&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#2-æ¨¡å—æ‹†åŒ…code-splitting-æ ¸å¿ƒä¼˜åŒ–\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;è¿™æ˜¯æœ¬æ¬¡ä¼˜åŒ–ä¸­æœ€å…³é”®çš„ä¸€æ­¥ã€‚&lt;strong&gt;é€šè¿‡ Vite é…ç½®å°†å•ä¸€çš„ &lt;code&gt;main.js&lt;/code&gt; æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„ &lt;code&gt;utils/*.js&lt;/code&gt; æ–‡ä»¶ï¼Œæ˜¾è‘—é™ä½ V8 çš„ JIT ç¼–è¯‘å‹åŠ›ã€‚&lt;/strong&gt;&lt;/p&gt;\n&lt;h4 id=\&quot;é—®é¢˜èƒŒæ™¯ä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…\&quot;&gt;é—®é¢˜èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é—®é¢˜èƒŒæ™¯ä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;åœ¨ä¼˜åŒ–å‰ï¼Œé¡¹ç›®ä½¿ç”¨ &lt;code&gt;src/main/utils/index.ts&lt;/code&gt; ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰å·¥å…·å‡½æ•°ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// src/main/utils/index.tsï¼ˆä¼˜åŒ–å‰ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./aesEncode&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./notifi&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./tray&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./latex2Docx&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./pathUtils&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ... å¯¼å‡ºå‡ åä¸ªå·¥å…·æ¨¡å—&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Vite æ‰“åŒ…åï¼Œæ‰€æœ‰å·¥å…·ä»£ç ä¼šè¢« Tree Shaking å’Œ Rollup åˆå¹¶åˆ°&lt;strong&gt;å•ä¸€çš„ &lt;code&gt;main.js&lt;/code&gt; æ–‡ä»¶&lt;/strong&gt;ä¸­ã€‚è¿™ä¼šå¯¼è‡´ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;å·¨å‹ JS æ–‡ä»¶&lt;/strong&gt;ï¼šmain.js å¯èƒ½è¶…è¿‡å‡  MBï¼ŒåŒ…å«æ‰€æœ‰å·¥å…·å‡½æ•°ä»£ç &lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;JIT çƒ­ç‚¹é›†ä¸­&lt;/strong&gt;ï¼šV8 å¼•æ“åœ¨å¯åŠ¨æ—¶éœ€è¦ï¼š\n&lt;ul&gt;\n&lt;li&gt;è§£ææ•´ä¸ªå¤§æ–‡ä»¶çš„ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰&lt;/li&gt;\n&lt;li&gt;ä¸ºæ‰€æœ‰å‡½æ•°ç”Ÿæˆå­—èŠ‚ç &lt;/li&gt;\n&lt;li&gt;è¯†åˆ«çƒ­ç‚¹å‡½æ•°å¹¶è¿›è¡Œ JIT ä¼˜åŒ–ç¼–è¯‘&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç¼“å­˜ç²’åº¦ç²—&lt;/strong&gt;ï¼šä»»ä½•ä¸€ä¸ªå·¥å…·å‡½æ•°çš„ä¿®æ”¹éƒ½ä¼šå¯¼è‡´æ•´ä¸ª main.js çš„ V8 ç¼“å­˜å¤±æ•ˆ&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h4 id=\&quot;vite-é…ç½®æ–¹æ¡ˆ\&quot;&gt;Vite é…ç½®æ–¹æ¡ˆ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#vite-é…ç½®æ–¹æ¡ˆ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;é€šè¿‡ &lt;code&gt;manualChunks&lt;/code&gt; é…ç½®ï¼Œæˆ‘ä»¬å°†æ¯ä¸ª utils æ¨¡å—æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ chunkï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// src/main/vite.config.ts&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; default&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; defineConfig&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  build: {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    rollupOptions: {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      external: [&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;        &#39;electron&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;        &#39;node-screenshots&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        ...&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;builtinModules,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        ...&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;Object.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;keys&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(pkg.dependencies &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {}),&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        ...&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;Object.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;keys&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(pkg.devDependencies &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {}),&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      ],&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      output: {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;        // ğŸ”¥ å…³é”®é…ç½®ï¼šå°† utils æ¨¡å—æ‹†åˆ†ä¸ºç‹¬ç«‹ chunk&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;        manualChunks&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;id&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;          // ä¸ºæ¯ä¸ª utils æ¨¡å—åˆ›å»ºç‹¬ç«‹çš„ chunk&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;          if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (id.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;includes&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;src/main/utils/&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; !&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;id.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;includes&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;index.ts&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;            // æå–æ¨¡å—åç§°&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;            // ä¾‹å¦‚ï¼šsrc/main/utils/aesEncode.ts -&gt; utils/aesEncode&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; match&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; id.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;match&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;/&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#DBEDFF\&quot;&gt;utils&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold\&quot;&gt;\\/&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#DBEDFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;^&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;/]&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#DBEDFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold\&quot;&gt;\\.&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#DBEDFF\&quot;&gt;(ts&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#DBEDFF\&quot;&gt;js)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;/&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (match) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;              return&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; `utils/${&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;match&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;]&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;          }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;          return&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; undefined&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;; &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// å…¶ä»–æ¨¡å—ä½¿ç”¨é»˜è®¤åˆ†åŒ…ç­–ç•¥&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        },&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      },&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    },&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  },&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;});&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;æ‹†åŒ…æ•ˆæœå¯¹æ¯”\&quot;&gt;æ‹†åŒ…æ•ˆæœå¯¹æ¯”&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ‹†åŒ…æ•ˆæœå¯¹æ¯”\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;&lt;strong&gt;ä¼˜åŒ–å‰çš„æ‰“åŒ…ç»“æ„ï¼š&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;dist/main/&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”œâ”€â”€ main.js          â† å•ä¸€å·¨å‹æ–‡ä»¶ï¼ˆåŒ…å«æ‰€æœ‰ä»£ç ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â””â”€â”€ main.js.map&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;ä¼˜åŒ–åçš„æ‰“åŒ…ç»“æ„ï¼š&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;dist/main/&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”œâ”€â”€ main.js                    â† ä¸»å…¥å£æ–‡ä»¶ï¼ˆç²¾ç®€ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”œâ”€â”€ utils/&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ aesEncode.js          â† ç‹¬ç«‹å·¥å…·æ¨¡å—&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ notifi.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ tray.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ latex2Docx.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ pathUtils.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ renderLocalStrongHandle.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ rustScreenshotWindow.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ updateRender.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â””â”€â”€ ... å…¶ä»–å·¥å…·æ¨¡å—&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â””â”€â”€ *.js.map&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;æ‹†åŒ…å¦‚ä½•é™ä½-jit-çƒ­ç‚¹ç¼–è¯‘å‹åŠ›\&quot;&gt;æ‹†åŒ…å¦‚ä½•é™ä½ JIT çƒ­ç‚¹ç¼–è¯‘å‹åŠ›ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ‹†åŒ…å¦‚ä½•é™ä½-jit-çƒ­ç‚¹ç¼–è¯‘å‹åŠ›\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;&lt;strong&gt;1. å‡å°‘å•æ¬¡è§£æè´Ÿæ‹…&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;V8 çš„è§£æå™¨ï¼ˆParserï¼‰æ˜¯å•çº¿ç¨‹çš„ï¼Œå·¨å‹æ–‡ä»¶ä¼šé˜»å¡å¯åŠ¨æµç¨‹ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ä¼˜åŒ–å‰ï¼šè§£æ 5MB çš„ main.jsï¼ˆè€—æ—¶ ~800msï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ä¼˜åŒ–åï¼šè§£æ 500KB çš„ main.js + æŒ‰éœ€åŠ è½½å°æ¨¡å—ï¼ˆè€—æ—¶ ~120msï¼‰&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;2. æŒ‰éœ€ JIT ç¼–è¯‘&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;V8 çš„ JIT ç¼–è¯‘å™¨ï¼ˆTurboFanï¼‰ä¼šè¯†åˆ«çƒ­ç‚¹å‡½æ•°å¹¶è¿›è¡Œä¼˜åŒ–ç¼–è¯‘ã€‚æ‹†åŒ…åï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;å†·å¯åŠ¨æ—¶&lt;/strong&gt;ï¼šåªæœ‰ä¸»å…¥å£ &lt;code&gt;main.js&lt;/code&gt; ä¸­çš„ä»£ç è¢«ç«‹å³ç¼–è¯‘&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;è¿è¡Œæ—¶&lt;/strong&gt;ï¼šå½“è°ƒç”¨ &lt;code&gt;utils/notifi.js&lt;/code&gt; æ—¶ï¼Œæ‰åŠ è½½å¹¶ç¼–è¯‘è¯¥æ¨¡å—&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¿å…è¿‡åº¦ä¼˜åŒ–&lt;/strong&gt;ï¼šéçƒ­ç‚¹ä»£ç ä¸ä¼šæµªè´¹ CPU æ—¶é—´è¿›è¡Œæ— è°“çš„ä¼˜åŒ–&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;3. æ›´ç»†ç²’åº¦çš„ V8 ç¼“å­˜&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;ä»æ—¥å¿—å¯ä»¥çœ‹åˆ°ï¼Œä¼˜åŒ–å V8 ç¼“å­˜æ–‡ä»¶æ•°é‡ä» 9543 ä¸ªé™åˆ° 9043 ä¸ªï¼Œä½†æ€§èƒ½åè€Œæå‡äº†ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;log\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;ä¼˜åŒ–å‰ï¼šğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;9543&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  â† å¤§é‡å°ç¼“å­˜ + å·¨å‹ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;main.js&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; ç¼“å­˜&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;ä¼˜åŒ–åï¼šğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;9043&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  â† ç²¾ç®€ä¸”é«˜æ•ˆçš„ç¼“å­˜ç»“æ„&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿™æ˜¯å› ä¸ºï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;æ¯ä¸ª utils æ¨¡å—çš„ç¼“å­˜æ˜¯ç‹¬ç«‹çš„&lt;/li&gt;\n&lt;li&gt;ä¿®æ”¹ &lt;code&gt;utils/notifi.js&lt;/code&gt; æ—¶ï¼Œåªéœ€é‡æ–°ç”Ÿæˆè¯¥æ–‡ä»¶çš„ç¼“å­˜&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;main.js&lt;/code&gt;ã€&lt;code&gt;utils/tray.js&lt;/code&gt; ç­‰å…¶ä»–æ¨¡å—çš„ç¼“å­˜ç»§ç»­æœ‰æ•ˆ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;4. é™ä½å†…å­˜å‹åŠ›&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;å·¨å‹æ–‡ä»¶ä¼šå¯¼è‡´æ›´å¤šçš„å†…å­˜å ç”¨ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–å‰&lt;/strong&gt;ï¼š5MB çš„ main.js åœ¨è§£æé˜¶æ®µä¼šç”Ÿæˆå¤§é‡ä¸´æ—¶ AST èŠ‚ç‚¹å¯¹è±¡&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–å&lt;/strong&gt;ï¼šå°æ–‡ä»¶çš„ AST æ›´å¿«è¢«åƒåœ¾å›æ”¶ï¼Œé™ä½å†…å­˜å³°å€¼&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&quot;å®é™…æ€§èƒ½æå‡\&quot;&gt;å®é™…æ€§èƒ½æå‡&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®é™…æ€§èƒ½æå‡\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;ç»“åˆæ—¥å¿—æ•°æ®åˆ†æï¼Œæ‹†åŒ…å¸¦æ¥çš„ç›´æ¥æ•ˆæœï¼š&lt;/p&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;æŒ‡æ ‡&lt;/th&gt;&lt;th&gt;ä¼˜åŒ–å‰&lt;/th&gt;&lt;th&gt;ä¼˜åŒ–å&lt;/th&gt;&lt;th&gt;è¯´æ˜&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;app.whenReady è€—æ—¶&lt;/td&gt;&lt;td&gt;833.46ms&lt;/td&gt;&lt;td&gt;126.61ms&lt;/td&gt;&lt;td&gt;&lt;strong&gt;å‡å°‘ 84.8%&lt;/strong&gt;ï¼Œä¸»è¦å½’åŠŸäºæ‹†åŒ…å‡å°‘è§£ææ—¶é—´&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;çª—å£åˆ›å»ºè€—æ—¶&lt;/td&gt;&lt;td&gt;536.34ms&lt;/td&gt;&lt;td&gt;140.59ms&lt;/td&gt;&lt;td&gt;&lt;strong&gt;å‡å°‘ 73.8%&lt;/strong&gt;ï¼Œä¸»æµç¨‹ä»£ç æ›´ç²¾ç®€&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;\n&lt;h4 id=\&quot;æ³¨æ„äº‹é¡¹\&quot;&gt;æ³¨æ„äº‹é¡¹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ³¨æ„äº‹é¡¹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;ä¸è¦æ‹†åˆ†è¿‡ç»†&lt;/strong&gt;ï¼šæ¯ä¸ªæ–‡ä»¶åº”æœ‰ä¸€å®šä½“ç§¯ï¼ˆå»ºè®® &gt;10KBï¼‰ï¼Œå¦åˆ™æ¨¡å—åŠ è½½å¼€é”€ä¼šæŠµæ¶ˆæ‹†åŒ…æ”¶ç›Š&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ’é™¤ index.ts&lt;/strong&gt;ï¼š&lt;code&gt;utils/index.ts&lt;/code&gt; åªæ˜¯å¯¼å‡ºèšåˆæ–‡ä»¶ï¼Œä¸åº”å•ç‹¬æˆä¸º chunk&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å¤–éƒ¨åŒ–åŸç”Ÿæ¨¡å—&lt;/strong&gt;ï¼šå¦‚ &lt;code&gt;electron&lt;/code&gt; å¿…é¡»æ ‡è®°ä¸º externalï¼Œé¿å…æ‰“åŒ…å¤±è´¥&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h4 id=\&quot;æ—¥å¿—ä¸­çš„è¯æ®\&quot;&gt;æ—¥å¿—ä¸­çš„è¯æ®&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ—¥å¿—ä¸­çš„è¯æ®\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;å¯¹æ¯”æ—¥å¿—å¯ä»¥çœ‹åˆ°æ‹†åŒ…ä¼˜åŒ–çš„å…³é”®æ—¶é—´ç‚¹ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;log\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–å‰ï¼šå·¨å‹æ–‡ä»¶å¯¼è‡´å¯åŠ¨ç¼“æ…¢&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 16:38:00.298&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] â±ï¸ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;833&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.46ms  â† è§£æè€—æ—¶é•¿&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 16:38:00.951&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                    â† å»¶è¿ŸåŠ è½½&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–åï¼šæ‹†åŒ…åæ¨¡å—æå‰åŠ è½½ï¼Œå¯åŠ¨è¿…é€Ÿ&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 17:10:30.749&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                    â† ç«‹å³åŠ è½½&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 17:10:30.810&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] â±ï¸ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;166&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.22ms  â† è§£æè€—æ—¶å¤§å¹…é™ä½&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ‹†åŒ…åï¼ŒåŸæœ¬éœ€è¦å»¶è¿ŸåŠ è½½çš„æ¨¡å—ï¼ˆå¦‚ &lt;code&gt;unzipper&lt;/code&gt;ï¼‰å¯ä»¥æ›´å¿«åŠ è½½ï¼Œå› ä¸ºå®ƒä»¬ä¸å†è¢«æ‰“åŒ…åˆ°å·¨å‹ &lt;code&gt;main.js&lt;/code&gt; ä¸­ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;å…³é”®ä¼˜åŒ–ï¼šåŸç”Ÿæ¨¡å—æå‰åŠ è½½&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;ä»æ—¥å¿—æ—¶é—´æˆ³å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;log\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–å‰ï¼šåŸç”Ÿæ¨¡å—åœ¨ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; ä¹‹åæ‰åŠ è½½&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;16:37:59.464&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;16:38:00.298&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;833&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.46ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;16:38:00.951&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                          â† +1470msï¼ˆä¸¥é‡å»¶è¿Ÿï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–åï¼šåŸç”Ÿæ¨¡å—ç«‹å³åŠ è½½&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;17:10:30.776&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;17:10:30.851&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                          â† +75msï¼ˆå‡ ä¹åŒæ—¶ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;17:10:30.903&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;126&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.61ms&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;è¿™æ˜¯å› ä¸ºä¼˜åŒ–å‰ &lt;code&gt;unzipper&lt;/code&gt; æ¨¡å—è¢«æ‰“åŒ…åˆ° &lt;code&gt;main.js&lt;/code&gt; çš„æ·±å±‚ä¾èµ–ä¸­ï¼Œåªæœ‰åœ¨æ•´ä¸ªå·¨å‹æ–‡ä»¶è§£æå®Œæˆåæ‰èƒ½æ‰§è¡Œå®ƒä»¬çš„åˆå§‹åŒ–ä»£ç ã€‚æ‹†åŒ…åï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;è¿™äº›æ¨¡å—æˆä¸ºç‹¬ç«‹çš„ chunk&lt;/li&gt;\n&lt;li&gt;ESM çš„å¹¶è¡ŒåŠ è½½æœºåˆ¶å¯ä»¥æ›´æ—©åœ°åŠ è½½å®ƒä»¬&lt;/li&gt;\n&lt;li&gt;ä¸å†è¢« main.js çš„è§£æé˜»å¡&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;è¿™è¿›ä¸€æ­¥éªŒè¯äº†&lt;strong&gt;æ‹†åŒ…å¯¹å¯åŠ¨æµç¨‹çš„å·¨å¤§ä¼˜åŒ–ä½œç”¨&lt;/strong&gt;ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;3-æŒ‰éœ€å¯¼å…¥ä¾èµ–tree-shaking\&quot;&gt;3. æŒ‰éœ€å¯¼å…¥ä¾èµ–ï¼ˆTree Shakingï¼‰&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#3-æŒ‰éœ€å¯¼å…¥ä¾èµ–tree-shaking\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å¤§å‹åº“çš„å…¨é‡å¯¼å…¥ä¼šå¼•å…¥å¤§é‡æœªä½¿ç”¨çš„ä»£ç ï¼Œå¢åŠ å¯åŠ¨å¼€é”€ã€‚&lt;/p&gt;\n&lt;h4 id=\&quot;ä¼˜åŒ–å‰\&quot;&gt;ä¼˜åŒ–å‰&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¼˜åŒ–å‰\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; as&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; lodash &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;lodash-es&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨æ—¶&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;win.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;moved&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, lodash.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;throttle&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;/* ... */&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;500&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;));&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;ä¼˜åŒ–å\&quot;&gt;ä¼˜åŒ–å&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¼˜åŒ–å\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// åªå¯¼å…¥éœ€è¦çš„å‡½æ•°&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { throttle, debounce } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;lodash-es&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;win.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;moved&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;throttle&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;/* ... */&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;500&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;));&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;æ•ˆæœåˆ†æ\&quot;&gt;æ•ˆæœåˆ†æ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ•ˆæœåˆ†æ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;å‡å°‘ bundle ä½“ç§¯&lt;/li&gt;\n&lt;li&gt;é™ä½ V8 è§£æè´Ÿæ‹…&lt;/li&gt;\n&lt;li&gt;æå‡ Tree Shaking æ•ˆç‡&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;4-å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—\&quot;&gt;4. å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#4-å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å°†éå¯åŠ¨å¿…éœ€çš„åŠŸèƒ½ï¼ˆå¦‚åˆ’è¯ç¿»è¯‘ï¼‰å»¶è¿Ÿåˆ°ä¸»çª—å£åˆ›å»ºå®Œæˆåå†åˆå§‹åŒ–ã€‚&lt;/p&gt;\n&lt;h4 id=\&quot;å®ç°æ–¹æ¡ˆ\&quot;&gt;å®ç°æ–¹æ¡ˆ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®ç°æ–¹æ¡ˆ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¼˜åŒ–å‰ï¼šåŒæ­¥å¯¼å…¥ï¼Œé˜»å¡å¯åŠ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./utils/selectionWord/ipcListener&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { cleanupTranslation, initTranslationShortcut } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./utils/selectionWord/init&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;().&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;then&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...åˆ›å»ºä¸»çª—å£&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  mainWin &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; await&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; createWindow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  initTranslationShortcut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// é˜»å¡å¯åŠ¨æµç¨‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;});&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¼˜åŒ–åï¼šå¼‚æ­¥åŠ¨æ€å¯¼å…¥ï¼Œä¸é˜»å¡å¯åŠ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;().&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;then&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...åˆ›å»ºä¸»çª—å£&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  mainWin &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; await&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; createWindow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // å»¶è¿Ÿåˆå§‹åŒ–åˆ’è¯ç¿»è¯‘ï¼Œé¿å…é˜»å¡ä¸»çª—å£å¯åŠ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  setImmediate&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; translationStart&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    try&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;      // åŠ¨æ€å¯¼å…¥æ¨¡å—&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      await&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; import&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;./utils/selectionWord/ipcListener&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;initTranslationShortcut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; await&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; import&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;./utils/selectionWord/init&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      initTranslationShortcut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; translationEnd&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ åˆ’è¯ç¿»è¯‘åŠŸèƒ½å·²åˆå§‹åŒ–ï¼Œè€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;translationEnd&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; translationStart&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;catch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (error) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;error&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;åˆå§‹åŒ–åˆ’è¯ç¿»è¯‘å¤±è´¥:&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, error);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; totalTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;totalTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; startupTime&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;});&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;å…³é”®æŠ€æœ¯ç‚¹\&quot;&gt;å…³é”®æŠ€æœ¯ç‚¹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å…³é”®æŠ€æœ¯ç‚¹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;ä½¿ç”¨ &lt;code&gt;setImmediate&lt;/code&gt;&lt;/strong&gt;ï¼šç¡®ä¿ä¸»çª—å£å®Œå…¨åˆå§‹åŒ–åå†åŠ è½½&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åŠ¨æ€ &lt;code&gt;import()&lt;/code&gt;&lt;/strong&gt;ï¼šæŒ‰éœ€åŠ è½½æ¨¡å—ï¼Œä¸å½±å“ä¸»æµç¨‹&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é”™è¯¯éš”ç¦»&lt;/strong&gt;ï¼šé¿å…éæ ¸å¿ƒåŠŸèƒ½çš„å¤±è´¥å½±å“ä¸»ç¨‹åº&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;æ—¥å¿—è¾“å‡ºæ˜¾ç¤ºåˆ’è¯ç¿»è¯‘åˆå§‹åŒ–è€—æ—¶çº¦ 70-123msï¼Œé€šè¿‡å»¶è¿ŸåŠ è½½å®Œå…¨ä¸å½±å“ä¸»çª—å£å¯åŠ¨ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;log\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;311&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.88ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ åˆ’è¯ç¿»è¯‘åŠŸèƒ½å·²åˆå§‹åŒ–ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;59&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.88ms&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;5-æ€§èƒ½ç›‘æ§åŸ‹ç‚¹\&quot;&gt;5. æ€§èƒ½ç›‘æ§åŸ‹ç‚¹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#5-æ€§èƒ½ç›‘æ§åŸ‹ç‚¹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨å…³é”®è·¯å¾„æ·»åŠ æ—¶é—´æˆ³è®°å½•ï¼Œä¾¿äºå®šä½æ€§èƒ½ç“¶é¢ˆã€‚&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// å¯åŠ¨å¼€å§‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; startupTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// app.whenReady è§¦å‘&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;().&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;then&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; readyTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;readyTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; startupTime&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // çª—å£åˆ›å»º&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; createWindowStart&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  mainWin &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; await&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; createWindow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; createWindowEnd&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;createWindowEnd&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; createWindowStart&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // æ€»è€—æ—¶&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; totalTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;totalTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; startupTime&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;});&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;å¸¸è§é—®é¢˜\&quot;&gt;å¸¸è§é—®é¢˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å¸¸è§é—®é¢˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;q1-v8-ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—\&quot;&gt;Q1: V8 ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q1-v8-ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: ä¸ä¼šã€‚Electron ä¼šè‡ªåŠ¨ç®¡ç†ç¼“å­˜å¤§å°ï¼Œå®šæœŸæ¸…ç†è¿‡æœŸæ–‡ä»¶ã€‚é€šå¸¸ç¼“å­˜ç›®å½•å¤§å°åœ¨å‡ å MB å·¦å³ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;q2-ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—\&quot;&gt;Q2: ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q2-ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: å½±å“æå°ã€‚æ¨¡å—æ‹†åˆ†åï¼ŒV8 çš„æ¨¡å—åŠ è½½æœºåˆ¶ï¼ˆESMï¼‰å¯ä»¥é«˜æ•ˆå¤„ç†å¤šæ–‡ä»¶ä¾èµ–ï¼Œä¸”æ‹†åŒ…åçš„ç¼“å­˜ç²’åº¦æ›´ç»†ï¼Œæ•´ä½“æ€§èƒ½åè€Œæ›´ä¼˜ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;q3-åŠ¨æ€-import-ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—\&quot;&gt;Q3: åŠ¨æ€ import ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q3-åŠ¨æ€-import-ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: å¯¹ç”¨æˆ·å‡ ä¹æ— æ„ŸçŸ¥ã€‚ä»¥åˆ’è¯ç¿»è¯‘ä¸ºä¾‹ï¼Œä»ä¸»çª—å£å¯åŠ¨åˆ°ç”¨æˆ·å®é™…ä½¿ç”¨è¯¥åŠŸèƒ½æœ‰è¶³å¤Ÿçš„æ—¶é—´å·®ï¼Œå¼‚æ­¥åŠ è½½å®Œå…¨å¯ä»¥åœ¨ç”¨æˆ·æ“ä½œå‰å®Œæˆã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ€»ç»“\&quot;&gt;æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é€šè¿‡æœ¬æ¬¡ä¼˜åŒ–ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;å¯åŠ¨é€Ÿåº¦æå‡ 80%+&lt;/strong&gt;ï¼šä» 1.6s é™è‡³ 0.3s&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç”¨æˆ·ä½“éªŒæ”¹å–„&lt;/strong&gt;ï¼šçƒ­æ›´æ–°åå‡ ä¹æ— æ„ŸçŸ¥&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å¯ç»´æŠ¤æ€§æå‡&lt;/strong&gt;ï¼šæ€§èƒ½ç›‘æ§åŸ‹ç‚¹ä¾¿äºåç»­å®šä½é—®é¢˜&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;å…³é”®è¦ç‚¹ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;æ¨¡å—æ‹†åŒ…æ˜¯æ ¸å¿ƒ&lt;/strong&gt;ï¼šå°†å•ä¸€ &lt;code&gt;main.js&lt;/code&gt; æ‹†åˆ†ä¸ºå¤šä¸ª &lt;code&gt;utils/*.js&lt;/code&gt; æ–‡ä»¶ï¼Œæ˜¾è‘—é™ä½ V8 çš„ JIT çƒ­ç‚¹ç¼–è¯‘å‹åŠ›ï¼ˆapp.whenReady è€—æ—¶ä» 833ms é™è‡³ 126msï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;V8 ç¼“å­˜æ˜¯åŸºç¡€&lt;/strong&gt;ï¼šå¯ç”¨ä»£ç ç¼“å­˜è·³è¿‡é‡å¤çš„è§£æå’Œç¼–è¯‘è¿‡ç¨‹&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å»¶è¿ŸåŠ è½½ä¼˜åŒ–å…³é”®è·¯å¾„&lt;/strong&gt;ï¼šéå…³é”®åŠŸèƒ½å¼‚æ­¥åŠ è½½ï¼Œä¸é˜»å¡ä¸»çª—å£å¯åŠ¨&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ€§èƒ½ç›‘æ§æä¾›æ•°æ®æ”¯æ’‘&lt;/strong&gt;ï¼šåŸ‹ç‚¹æ—¥å¿—å¸®åŠ©å®šä½ç“¶é¢ˆ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;æœ€é‡è¦çš„å¯ç¤ºï¼š&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;åœ¨ Electron åº”ç”¨ä¸­ï¼Œ&lt;strong&gt;æ‰“åŒ…äº§ç‰©çš„ç»“æ„æ¯”æ‰“åŒ…ä½“ç§¯æ›´é‡è¦&lt;/strong&gt;ã€‚ä¸€ä¸ª 5MB çš„å·¨å‹ &lt;code&gt;main.js&lt;/code&gt; æ–‡ä»¶å¯¹ V8 å¼•æ“æ¥è¯´æ˜¯ç¾éš¾ï¼Œå³ä½¿å®ƒçš„æ€»ä»£ç é‡å¹¶ä¸å¤§ã€‚é€šè¿‡ Vite çš„ &lt;code&gt;manualChunks&lt;/code&gt; é…ç½®ï¼Œå°†ä»£ç æ‹†åˆ†ä¸ºåˆç†çš„æ¨¡å—ç»“æ„ï¼Œè®© V8 èƒ½å¤ŸæŒ‰éœ€è§£æå’Œç¼–è¯‘ï¼Œè¿™æ‰æ˜¯å¯åŠ¨æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ã€‚&lt;/p&gt;\n&lt;p&gt;Electron æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œå»ºè®®å®šæœŸæ£€æŸ¥å¯åŠ¨æ—¥å¿—ï¼Œé’ˆå¯¹æ€§åœ°ä¼˜åŒ–ç“¶é¢ˆç¯èŠ‚ã€‚&lt;/p&gt;\n&lt;hr&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‰è¨€&quot;],&quot;text&quot;:[0,&quot;å‰è¨€&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€§èƒ½æ•°æ®å¯¹æ¯”&quot;],&quot;text&quot;:[0,&quot;æ€§èƒ½æ•°æ®å¯¹æ¯”&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥&quot;],&quot;text&quot;:[0,&quot;æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1-å¯ç”¨-v8-ä»£ç ç¼“å­˜&quot;],&quot;text&quot;:[0,&quot;1. å¯ç”¨ V8 ä»£ç ç¼“å­˜&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;å®ç°æ–¹å¼&quot;],&quot;text&quot;:[0,&quot;å®ç°æ–¹å¼&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;éªŒè¯ç¼“å­˜æ•ˆæœ&quot;],&quot;text&quot;:[0,&quot;éªŒè¯ç¼“å­˜æ•ˆæœ&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;å·¥ä½œåŸç†&quot;],&quot;text&quot;:[0,&quot;å·¥ä½œåŸç†&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2-æ¨¡å—æ‹†åŒ…code-splitting-æ ¸å¿ƒä¼˜åŒ–&quot;],&quot;text&quot;:[0,&quot;2. æ¨¡å—æ‹†åŒ…ï¼ˆCode Splittingï¼‰â€”â€” æ ¸å¿ƒä¼˜åŒ–&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;é—®é¢˜èƒŒæ™¯ä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…&quot;],&quot;text&quot;:[0,&quot;é—®é¢˜èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;vite-é…ç½®æ–¹æ¡ˆ&quot;],&quot;text&quot;:[0,&quot;Vite é…ç½®æ–¹æ¡ˆ&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;æ‹†åŒ…æ•ˆæœå¯¹æ¯”&quot;],&quot;text&quot;:[0,&quot;æ‹†åŒ…æ•ˆæœå¯¹æ¯”&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;æ‹†åŒ…å¦‚ä½•é™ä½-jit-çƒ­ç‚¹ç¼–è¯‘å‹åŠ›&quot;],&quot;text&quot;:[0,&quot;æ‹†åŒ…å¦‚ä½•é™ä½ JIT çƒ­ç‚¹ç¼–è¯‘å‹åŠ›ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;å®é™…æ€§èƒ½æå‡&quot;],&quot;text&quot;:[0,&quot;å®é™…æ€§èƒ½æå‡&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;æ³¨æ„äº‹é¡¹&quot;],&quot;text&quot;:[0,&quot;æ³¨æ„äº‹é¡¹&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;æ—¥å¿—ä¸­çš„è¯æ®&quot;],&quot;text&quot;:[0,&quot;æ—¥å¿—ä¸­çš„è¯æ®&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3-æŒ‰éœ€å¯¼å…¥ä¾èµ–tree-shaking&quot;],&quot;text&quot;:[0,&quot;3. æŒ‰éœ€å¯¼å…¥ä¾èµ–ï¼ˆTree Shakingï¼‰&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;ä¼˜åŒ–å‰&quot;],&quot;text&quot;:[0,&quot;ä¼˜åŒ–å‰&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;ä¼˜åŒ–å&quot;],&quot;text&quot;:[0,&quot;ä¼˜åŒ–å&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;æ•ˆæœåˆ†æ&quot;],&quot;text&quot;:[0,&quot;æ•ˆæœåˆ†æ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;4-å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—&quot;],&quot;text&quot;:[0,&quot;4. å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;å®ç°æ–¹æ¡ˆ&quot;],&quot;text&quot;:[0,&quot;å®ç°æ–¹æ¡ˆ&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;å…³é”®æŠ€æœ¯ç‚¹&quot;],&quot;text&quot;:[0,&quot;å…³é”®æŠ€æœ¯ç‚¹&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;5-æ€§èƒ½ç›‘æ§åŸ‹ç‚¹&quot;],&quot;text&quot;:[0,&quot;5. æ€§èƒ½ç›‘æ§åŸ‹ç‚¹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å¸¸è§é—®é¢˜&quot;],&quot;text&quot;:[0,&quot;å¸¸è§é—®é¢˜&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q1-v8-ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—&quot;],&quot;text&quot;:[0,&quot;Q1: V8 ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q2-ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—&quot;],&quot;text&quot;:[0,&quot;Q2: ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q3-åŠ¨æ€-import-ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—&quot;],&quot;text&quot;:[0,&quot;Q3: åŠ¨æ€ import ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;æ€»ç»“&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Electron çƒ­æ›´æ–°åå¯åŠ¨æ€§èƒ½ä¼˜åŒ–ï¼šV8 ç¼“å­˜ä¸ä»£ç æ‹†åŒ…å®æˆ˜&quot;],&quot;date&quot;:[3,&quot;2025-11-18T18:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Electron&quot;],[0,&quot;æ€§èƒ½ä¼˜åŒ–&quot;],[0,&quot;V8&quot;],[0,&quot;Vite&quot;],[0,&quot;çƒ­æ›´æ–°&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;],&quot;description&quot;:[0,&quot;æ·±å…¥å®æˆ˜ Electron åº”ç”¨æ€§èƒ½ä¼˜åŒ–ï¼Œé€šè¿‡å¯ç”¨ V8 ä»£ç ç¼“å­˜ã€Vite æ¨¡å—æ‹†åŒ…ã€æŒ‰éœ€å¯¼å…¥å’Œå»¶è¿ŸåŠ è½½ç­‰æ‰‹æ®µï¼Œå°†ä¸»è¿›ç¨‹å¯åŠ¨æ—¶é—´ä» 1619ms ä¼˜åŒ–åˆ° 311msï¼Œæ€§èƒ½æå‡ 80%ã€‚è¯¦è§£ V8 JIT ç¼–è¯‘åŸç†ã€manualChunks æ‹†åŒ…ç­–ç•¥åŠå®é™…ä¼˜åŒ–æ•ˆæœå¯¹æ¯”ã€‚&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/17&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;é…ç½®-codex-è‡ªå®šä¹‰ä¸‰æ–¹api&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;é…ç½® Codex è‡ªå®šä¹‰ä¸‰æ–¹API&quot;],&quot;date&quot;:[3,&quot;2025-10-22T10:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;CodeX&quot;],[0,&quot;AI&quot;],[0,&quot;é…ç½®&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;body&quot;:[0,&quot;æœ€è¿‘åœ¨ç”¨ Claude Code,æ¢äº†æˆæœ¬æ›´ä½çš„Codex,è®°å½•ä¸€ä¸‹é…ç½®è¿‡ç¨‹ã€‚æ–¹ä¾¿ä»¥åæŸ¥çœ‹ï¼Œå¿«é€Ÿé…ç½®ã€‚\n\n## é…ç½®è·¯å¾„\n\né…ç½®æ–‡ä»¶ä½ç½®:\n- **macOS/Linux**: `~/.codex/config.toml`\n- **Windows**: `C:\\Users\\ä½ çš„ç”¨æˆ·å\\.codex\\config.toml`\n\n## é…ç½®æ–‡ä»¶\n\nç›´æ¥ä¸Šé…ç½®:\n\n```toml\nmodel_provider = \&quot;codex\&quot;\nmodel = \&quot;gpt-4.1-mini\&quot;\nmodel_reasoning_effort = \&quot;medium\&quot;\ndisable_response_storage = true\nwindows_wsl_setup_acknowledged = true\n\n[model_providers.codex]\nname = \&quot;codex\&quot;\nbase_url=\&quot;https://api.burn.hair/v1\&quot; #ä½¿ç”¨å®˜æ–¹æˆ–ç¬¬ä¸‰æ–¹çš„\nwire_api = \&quot;responses\&quot;\nenv_key = \&quot;K_CODEX\&quot; #ä¸è¦æ”¹æˆè‡ªå·±çš„å¯†é’¥,åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­è®¾ç½®\n```\n\n## å‚æ•°è¯´æ˜\n\nå‡ ä¸ªå…³é”®é…ç½®:\n\n- `model_provider`: è®¾ç½®æˆ `\&quot;codex\&quot;` å°±è¡Œ\n- `model`: ç”¨çš„æ¨¡å‹,è¿™é‡Œæ˜¯ `gpt-4.1-mini`\n- `model_reasoning_effort`: æ¨ç†å¼ºåº¦,`low`/`medium`/`high` ä¸‰æ¡£,medium å¤Ÿç”¨\n- `disable_response_storage`: ä¸ä¿å­˜å†å²è®°å½•,å¼€å¯æ›´å®‰å…¨\n- `base_url`: API åœ°å€,æ¢æˆä½ è‡ªå·±çš„\n- `env_key`: ç¯å¢ƒå˜é‡å,**å¯†é’¥åˆ«ç›´æ¥å†™é…ç½®æ–‡ä»¶é‡Œ**\n\n## è®¾ç½®æ­¥éª¤\n\n### 1. ä¿®æ”¹é…ç½®æ–‡ä»¶\n\næ‰¾åˆ°é…ç½®æ–‡ä»¶,æŠŠä¸Šé¢çš„é…ç½®å¤åˆ¶è¿›å»,æ”¹ä¸€ä¸‹ `base_url` å’Œ `model`ã€‚\n\n### 2. è®¾ç½®ç¯å¢ƒå˜é‡\n\n**macOS/Linux** åœ¨ `~/.zshrc` æˆ– `~/.bashrc` åŠ ä¸€è¡Œ:\n```bash\nexport K_CODEX=\&quot;your-api-key-here\&quot;\n```\n\nç„¶å `source ~/.zshrc` ç”Ÿæ•ˆã€‚\n\n**Windows** PowerShell æ‰§è¡Œ:\n```powershell\n[System.Environment]::SetEnvironmentVariable(&#39;K_CODEX&#39;, &#39;your-api-key-here&#39;, &#39;User&#39;)\n```\n\n### 3. é‡å¯ç»ˆç«¯\n\né‡å¯ç»ˆç«¯å°±èƒ½ç”¨äº†ã€‚&quot;],&quot;filePath&quot;:[0,&quot;source/posts/é…ç½® Codex è‡ªå®šä¹‰ä¸‰æ–¹API.md&quot;],&quot;digest&quot;:[0,&quot;f385427c0be78a5b&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;æœ€è¿‘åœ¨ç”¨ Claude Code,æ¢äº†æˆæœ¬æ›´ä½çš„Codex,è®°å½•ä¸€ä¸‹é…ç½®è¿‡ç¨‹ã€‚æ–¹ä¾¿ä»¥åæŸ¥çœ‹ï¼Œå¿«é€Ÿé…ç½®ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;é…ç½®è·¯å¾„\&quot;&gt;é…ç½®è·¯å¾„&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é…ç½®è·¯å¾„\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é…ç½®æ–‡ä»¶ä½ç½®:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;macOS/Linux&lt;/strong&gt;: &lt;code&gt;~/.codex/config.toml&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Windows&lt;/strong&gt;: &lt;code&gt;C:\\Users\\ä½ çš„ç”¨æˆ·å\\.codex\\config.toml&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&quot;é…ç½®æ–‡ä»¶\&quot;&gt;é…ç½®æ–‡ä»¶&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é…ç½®æ–‡ä»¶\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ç›´æ¥ä¸Šé…ç½®:&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;toml\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;model_provider = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;codex\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;model = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;gpt-4.1-mini\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;model_reasoning_effort = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;medium\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;disable_response_storage = &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;windows_wsl_setup_acknowledged = &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;model_providers&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;codex&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;]&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;name = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;codex\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;base_url=&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;https://api.burn.hair/v1\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; #ä½¿ç”¨å®˜æ–¹æˆ–ç¬¬ä¸‰æ–¹çš„&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;wire_api = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;responses\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;env_key = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;K_CODEX\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; #ä¸è¦æ”¹æˆè‡ªå·±çš„å¯†é’¥,åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­è®¾ç½®&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;å‚æ•°è¯´æ˜\&quot;&gt;å‚æ•°è¯´æ˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‚æ•°è¯´æ˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å‡ ä¸ªå…³é”®é…ç½®:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;model_provider&lt;/code&gt;: è®¾ç½®æˆ &lt;code&gt;\&quot;codex\&quot;&lt;/code&gt; å°±è¡Œ&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;model&lt;/code&gt;: ç”¨çš„æ¨¡å‹,è¿™é‡Œæ˜¯ &lt;code&gt;gpt-4.1-mini&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;model_reasoning_effort&lt;/code&gt;: æ¨ç†å¼ºåº¦,&lt;code&gt;low&lt;/code&gt;/&lt;code&gt;medium&lt;/code&gt;/&lt;code&gt;high&lt;/code&gt; ä¸‰æ¡£,medium å¤Ÿç”¨&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;disable_response_storage&lt;/code&gt;: ä¸ä¿å­˜å†å²è®°å½•,å¼€å¯æ›´å®‰å…¨&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;base_url&lt;/code&gt;: API åœ°å€,æ¢æˆä½ è‡ªå·±çš„&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;env_key&lt;/code&gt;: ç¯å¢ƒå˜é‡å,&lt;strong&gt;å¯†é’¥åˆ«ç›´æ¥å†™é…ç½®æ–‡ä»¶é‡Œ&lt;/strong&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&quot;è®¾ç½®æ­¥éª¤\&quot;&gt;è®¾ç½®æ­¥éª¤&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è®¾ç½®æ­¥éª¤\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;1-ä¿®æ”¹é…ç½®æ–‡ä»¶\&quot;&gt;1. ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#1-ä¿®æ”¹é…ç½®æ–‡ä»¶\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;æ‰¾åˆ°é…ç½®æ–‡ä»¶,æŠŠä¸Šé¢çš„é…ç½®å¤åˆ¶è¿›å»,æ”¹ä¸€ä¸‹ &lt;code&gt;base_url&lt;/code&gt; å’Œ &lt;code&gt;model&lt;/code&gt;ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;2-è®¾ç½®ç¯å¢ƒå˜é‡\&quot;&gt;2. è®¾ç½®ç¯å¢ƒå˜é‡&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#2-è®¾ç½®ç¯å¢ƒå˜é‡\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;strong&gt;macOS/Linux&lt;/strong&gt; åœ¨ &lt;code&gt;~/.zshrc&lt;/code&gt; æˆ– &lt;code&gt;~/.bashrc&lt;/code&gt; åŠ ä¸€è¡Œ:&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; K_CODEX&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;your-api-key-here\&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ç„¶å &lt;code&gt;source ~/.zshrc&lt;/code&gt; ç”Ÿæ•ˆã€‚&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Windows&lt;/strong&gt; PowerShell æ‰§è¡Œ:&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;powershell\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;System.Environment&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;]::SetEnvironmentVariable(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;K_CODEX&#39;&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;,&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;your-api-key-here&#39;&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;,&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;User&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;3-é‡å¯ç»ˆç«¯\&quot;&gt;3. é‡å¯ç»ˆç«¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#3-é‡å¯ç»ˆç«¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;é‡å¯ç»ˆç«¯å°±èƒ½ç”¨äº†ã€‚&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é…ç½®è·¯å¾„&quot;],&quot;text&quot;:[0,&quot;é…ç½®è·¯å¾„&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é…ç½®æ–‡ä»¶&quot;],&quot;text&quot;:[0,&quot;é…ç½®æ–‡ä»¶&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‚æ•°è¯´æ˜&quot;],&quot;text&quot;:[0,&quot;å‚æ•°è¯´æ˜&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;è®¾ç½®æ­¥éª¤&quot;],&quot;text&quot;:[0,&quot;è®¾ç½®æ­¥éª¤&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1-ä¿®æ”¹é…ç½®æ–‡ä»¶&quot;],&quot;text&quot;:[0,&quot;1. ä¿®æ”¹é…ç½®æ–‡ä»¶&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2-è®¾ç½®ç¯å¢ƒå˜é‡&quot;],&quot;text&quot;:[0,&quot;2. è®¾ç½®ç¯å¢ƒå˜é‡&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3-é‡å¯ç»ˆç«¯&quot;],&quot;text&quot;:[0,&quot;3. é‡å¯ç»ˆç«¯&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;é…ç½® Codex è‡ªå®šä¹‰ä¸‰æ–¹API&quot;],&quot;date&quot;:[3,&quot;2025-10-22T10:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;CodeX&quot;],[0,&quot;AI&quot;],[0,&quot;é…ç½®&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/15&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;react-effectä¾èµ–ä¼˜åŒ–æœ€ä½³å®è·µä¸æºç è§£æ&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;React Effect ä¾èµ–ä¼˜åŒ–æœ€ä½³å®è·µ&quot;],&quot;date&quot;:[3,&quot;2025-10-21T21:00:34.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;React&quot;],[0,&quot;Hooks&quot;],[0,&quot;æ€§èƒ½ä¼˜åŒ–&quot;],[0,&quot;æºç è§£æ&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;body&quot;:[0,&quot;## å‰è¨€\n\nåœ¨ä½¿ç”¨ React Hooks å¼€å‘æ—¶ï¼Œ`useEffect` çš„ä¾èµ–æ•°ç»„ç®¡ç†æ˜¯ä¸€ä¸ªå¸¸è§çš„ç—›ç‚¹ã€‚å¾ˆå¤šå¼€å‘è€…é‡åˆ°è¿‡è¿™æ ·çš„å›°æ‰°ï¼šä¾èµ–é¡¹è¿‡å¤šå¯¼è‡´ Effect é¢‘ç¹æ‰§è¡Œï¼Œæˆ–è€…ä¸ºäº†å›¾æ–¹ä¾¿ç›´æ¥ç¦ç”¨ ESLint è§„åˆ™ï¼Œæœ€ç»ˆå¼•å‘éš¾ä»¥è°ƒè¯•çš„ bugã€‚\n\næœ¬æ–‡å°†ä» React å®˜æ–¹æ–‡æ¡£å’Œæºç å±‚é¢æ·±å…¥æ¢è®¨å¦‚ä½•æ­£ç¡®ç®¡ç† Effect ä¾èµ–ï¼Œå¸®åŠ©ä½ å†™å‡ºæ›´é«˜æ•ˆã€æ›´å¯ç»´æŠ¤çš„ React ä»£ç ã€‚\n\n## æ ¸å¿ƒåŸåˆ™ï¼šä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…\n\nReact å®˜æ–¹æ–‡æ¡£æ˜ç¡®æŒ‡å‡ºï¼š**ä¾èµ–åº”è¯¥ä¸ä»£ç åŒ¹é…**ã€‚è¿™æ„å‘³ç€ Effect ä¸­ä½¿ç”¨çš„æ¯ä¸€ä¸ªå“åº”å¼å€¼ï¼ˆpropsã€stateï¼‰éƒ½å¿…é¡»å‡ºç°åœ¨ä¾èµ–æ•°ç»„ä¸­ã€‚\n\nReact çš„ ESLint æ’ä»¶ `eslint-plugin-react-hooks` ä¼šè‡ªåŠ¨æ£€æŸ¥è¿™ä¸€è§„åˆ™ï¼Œç¡®ä¿ä½ çš„ä¾èµ–å£°æ˜æ˜¯å®Œæ•´çš„ã€‚\n\n### âš ï¸ å…³é”®è­¦å‘Š\n\n**æ°¸è¿œä¸è¦ç”¨æ³¨é‡Šç¦ç”¨ä¾èµ–æ£€æŸ¥ï¼š**\n\n```javascript\n// âŒ å±é™©åšæ³•\nuseEffect(() =&gt; {\n  // ...\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n}, []);\n```\n\nReact æ–‡æ¡£å¼ºè°ƒï¼š**åº”è¯¥æŠŠä¾èµ–æ£€æŸ¥é”™è¯¯å½“ä½œç¼–è¯‘é”™è¯¯æ¥å¯¹å¾…**ã€‚å¿½ç•¥å®ƒä¼šå¯¼è‡´å¾®å¦™ä¸”éš¾ä»¥è¯Šæ–­çš„ bugã€‚\n\n## å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–\n\n### 1. å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨\n\nå¦‚æœæŸæ®µä»£ç åº”è¯¥å“åº”ç‰¹å®šçš„ç”¨æˆ·äº¤äº’è€Œéå“åº”å¼å˜åŒ–ï¼Œåº”è¯¥æ”¾åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­ï¼š\n\n```javascript\n// âŒ ä¸å¥½çš„åšæ³•\nfunction ChatRoom({ roomId }) {\n  const [message, setMessage] = useState(&#39;&#39;);\n\n  useEffect(() =&gt; {\n    if (message) {\n      logVisit(roomId, message);\n    }\n  }, [roomId, message]); // message å˜åŒ–ä¼šé‡å¤è®°å½•\n\n  return &lt;input value={message} onChange={e =&gt; setMessage(e.target.value)} /&gt;;\n}\n\n// âœ… å¥½çš„åšæ³•\nfunction ChatRoom({ roomId }) {\n  const [message, setMessage] = useState(&#39;&#39;);\n\n  const handleSend = () =&gt; {\n    logVisit(roomId, message); // åªåœ¨å‘é€æ—¶è®°å½•\n  };\n\n  return (\n    &lt;&gt;\n      &lt;input value={message} onChange={e =&gt; setMessage(e.target.value)} /&gt;\n      &lt;button onClick={handleSend}&gt;å‘é€&lt;/button&gt;\n    &lt;/&gt;\n  );\n}\n```\n\n### 2. æ‹†åˆ†å¤šç›®çš„ Effect\n\nå½“ä¸€ä¸ª Effect åŒæ­¥å¤šä¸ªä¸ç›¸å…³çš„è¿‡ç¨‹æ—¶,åº”è¯¥æ‹†åˆ†æˆå¤šä¸ª Effectï¼š\n\n```javascript\n// âŒ ä¸å¥½çš„åšæ³•\nuseEffect(() =&gt; {\n  connectToChat(roomId);\n  trackPageView(page);\n}, [roomId, page]); // roomId å˜åŒ–ä¼šè§¦å‘ä¸å¿…è¦çš„é¡µé¢è¿½è¸ª\n\n// âœ… å¥½çš„åšæ³•\nuseEffect(() =&gt; {\n  connectToChat(roomId);\n}, [roomId]);\n\nuseEffect(() =&gt; {\n  trackPageView(page);\n}, [page]);\n```\n\n### 3. ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°\n\né€šè¿‡ä¼ é€’æ›´æ–°å‡½æ•°è€Œéç›´æ¥è¯»å– stateï¼Œå¯ä»¥ç§»é™¤çŠ¶æ€ä¾èµ–ï¼š\n\n```javascript\n// âŒ ä¸å¥½çš„åšæ³•\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() =&gt; {\n    const timer = setInterval(() =&gt; {\n      setCount(count + 1); // ä¾èµ– count\n    }, 1000);\n    return () =&gt; clearInterval(timer);\n  }, [count]); // æ¯æ¬¡ count å˜åŒ–éƒ½ä¼šé‡ç½®å®šæ—¶å™¨\n\n  return &lt;div&gt;{count}&lt;/div&gt;;\n}\n\n// âœ… å¥½çš„åšæ³•\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() =&gt; {\n    const timer = setInterval(() =&gt; {\n      setCount(c =&gt; c + 1); // ä½¿ç”¨æ›´æ–°å‡½æ•°,ä¸ä¾èµ– count\n    }, 1000);\n    return () =&gt; clearInterval(timer);\n  }, []); // ç©ºä¾èµ–æ•°ç»„,å®šæ—¶å™¨ä¸ä¼šé‡ç½®\n\n  return &lt;div&gt;{count}&lt;/div&gt;;\n}\n```\n\n### 4. ä½¿ç”¨ Effect Eventï¼ˆå®éªŒæ€§ï¼‰\n\n`useEffectEvent` å…è®¸ä½ æå–éå“åº”å¼é€»è¾‘ï¼Œè¯»å–æœ€æ–°å€¼è€Œä¸è§¦å‘é‡æ–°åŒæ­¥ï¼š\n\n```javascript\n// âœ… ä½¿ç”¨ Effect Event\nfunction ChatRoom({ roomId, theme }) {\n  const onConnected = useEffectEvent(() =&gt; {\n    showNotification(&#39;å·²è¿æ¥&#39;, theme); // è¯»å–æœ€æ–°çš„ theme\n  });\n\n  useEffect(() =&gt; {\n    const connection = connectToChat(roomId);\n    connection.on(&#39;connected&#39;, onConnected);\n    return () =&gt; connection.disconnect();\n  }, [roomId]); // theme å˜åŒ–ä¸ä¼šé‡æ–°è¿æ¥\n}\n```\n\n**æ³¨æ„ï¼š** `useEffectEvent` ç›®å‰ä»æ˜¯å®éªŒæ€§ APIï¼Œå°šæœªåŒ…å«åœ¨ç¨³å®šç‰ˆ React ä¸­ã€‚\n\n### 5. é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–\n\nå¯¹è±¡å’Œå‡½æ•°åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½æ˜¯æ–°çš„å¼•ç”¨ï¼Œä¼šå¯¼è‡´ä¸å¿…è¦çš„é‡æ–°æ‰§è¡Œï¼š\n\n```javascript\n// âŒ ä¸å¥½çš„åšæ³•\nfunction SearchResults({ query }) {\n  const options = { // æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°å¯¹è±¡\n    includeArchived: true\n  };\n\n  useEffect(() =&gt; {\n    fetchResults(query, options);\n  }, [query, options]); // options æ¯æ¬¡éƒ½ä¼šè§¦å‘\n}\n\n// âœ… è§£å†³æ–¹æ¡ˆ 1: ç§»åˆ° Effect å†…éƒ¨\nfunction SearchResults({ query }) {\n  useEffect(() =&gt; {\n    const options = { includeArchived: true };\n    fetchResults(query, options);\n  }, [query]);\n}\n\n// âœ… è§£å†³æ–¹æ¡ˆ 2: ç§»åˆ°ç»„ä»¶å¤–éƒ¨\nconst OPTIONS = { includeArchived: true };\n\nfunction SearchResults({ query }) {\n  useEffect(() =&gt; {\n    fetchResults(query, OPTIONS);\n  }, [query]);\n}\n\n// âœ… è§£å†³æ–¹æ¡ˆ 3: ä½¿ç”¨ useMemo\nfunction SearchResults({ query, includeArchived }) {\n  const options = useMemo(() =&gt; ({\n    includeArchived\n  }), [includeArchived]);\n\n  useEffect(() =&gt; {\n    fetchResults(query, options);\n  }, [query, options]);\n}\n```\n\n### 6. æå–åŸå§‹å€¼\n\nå½“æ¥æ”¶å¯¹è±¡ props æ—¶ï¼Œè§£æ„å‡ºåŸå§‹å€¼ä½œä¸ºä¾èµ–ï¼š\n\n```javascript\n// âŒ ä¸å¥½çš„åšæ³•\nfunction ChatRoom({ options }) {\n  useEffect(() =&gt; {\n    connectToChat(options.roomId);\n  }, [options]); // options å¯¹è±¡æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°çš„\n}\n\n// âœ… å¥½çš„åšæ³•\nfunction ChatRoom({ options }) {\n  const { roomId } = options;\n\n  useEffect(() =&gt; {\n    connectToChat(roomId);\n  }, [roomId]); // åªä¾èµ–åŸå§‹å€¼\n}\n```\n\n## æºç è§£æï¼šReact å¦‚ä½•åˆå§‹åŒ– State\n\nè®©æˆ‘ä»¬æ·±å…¥ React æºç ï¼Œçœ‹çœ‹ `useState` èƒŒåçš„å®ç°æœºåˆ¶ã€‚ä»¥ä¸‹ä»£ç æ¥è‡ª React v19.1.1 çš„ `ReactFiberHooks.js`ï¼š\n\n```javascript\nfunction mountStateImpl&lt;S&gt;(initialState: (() =&gt; S) | S): Hook {\n  const hook = mountWorkInProgressHook();\n  if (typeof initialState === &#39;function&#39;) {\n    const initialStateInitializer = initialState;\n    // æ‰§è¡Œåˆå§‹åŒ–å‡½æ•°è·å–åˆå§‹å€¼\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(true);\n      try {\n        // ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæ‰§è¡Œä¸¤æ¬¡,æ£€æµ‹å‰¯ä½œç”¨\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(false);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  // ...\n}\n```\n\n### æºç è¦ç‚¹è§£è¯»\n\n1. **æƒ°æ€§åˆå§‹åŒ–æ”¯æŒ**ï¼šå½“ `initialState` æ˜¯å‡½æ•°æ—¶ï¼ŒReact ä¼šæ‰§è¡Œå®ƒæ¥è·å–åˆå§‹å€¼ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥å†™ `useState(() =&gt; expensiveComputation())`ã€‚\n\n2. **ä¸¥æ ¼æ¨¡å¼åŒé‡è°ƒç”¨**ï¼šåœ¨å¼€å‘æ¨¡å¼çš„ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåˆå§‹åŒ–å‡½æ•°ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡ã€‚è¿™æ˜¯ React çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨äºå¸®åŠ©æ£€æµ‹ä¸çº¯çš„åˆå§‹åŒ–å‡½æ•°ä¸­çš„å‰¯ä½œç”¨ã€‚\n\n3. **çŠ¶æ€å­˜å‚¨**ï¼šåˆå§‹å€¼ä¼šåŒæ—¶å­˜å‚¨åœ¨ `memoizedState`ï¼ˆå½“å‰çŠ¶æ€ï¼‰å’Œ `baseState`ï¼ˆåŸºç¡€çŠ¶æ€ï¼‰ä¸­ã€‚è¿™æ˜¯ React å®ç°çŠ¶æ€æ›´æ–°å’Œå¹¶å‘æ¸²æŸ“çš„åŸºç¡€ã€‚\n\n### ä¸ Effect ä¾èµ–çš„å…³è”\n\nç†è§£ `useState` çš„å®ç°æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°ç®¡ç† Effect ä¾èµ–ï¼š\n\n```javascript\n// ä¸ºä»€ä¹ˆæƒ°æ€§åˆå§‹åŒ–ä¸éœ€è¦ä¾èµ–\nfunction Component() {\n  // âœ… åˆå§‹åŒ–å‡½æ•°åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡\n  const [data] = useState(() =&gt; {\n    return expensiveComputation(); // ä¸ä¼šé‡å¤æ‰§è¡Œ\n  });\n\n  useEffect(() =&gt; {\n    // data æ¥è‡ª state,æ˜¯å“åº”å¼çš„,éœ€è¦ä½œä¸ºä¾èµ–\n    processData(data);\n  }, [data]);\n}\n```\n\n## å®æˆ˜æ¡ˆä¾‹ï¼šèŠå¤©å®¤è¿æ¥ç®¡ç†\n\nè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­æ•´åˆè¿™äº›æœ€ä½³å®è·µï¼š\n\n```javascript\nfunction ChatRoom({ roomId, theme, currentUser }) {\n  const [messages, setMessages] = useState([]);\n  const [isConnected, setIsConnected] = useState(false);\n\n  // âœ… ä½¿ç”¨ Effect Event å¤„ç†éå“åº”å¼é€»è¾‘\n  const onMessage = useEffectEvent((message) =&gt; {\n    setMessages(msgs =&gt; [...msgs, message]); // ä½¿ç”¨æ›´æ–°å‡½æ•°\n    showNotification(message, theme); // è¯»å–æœ€æ–° theme,ä½†ä¸è§¦å‘é‡è¿\n  });\n\n  const onConnectionChange = useEffectEvent((connected) =&gt; {\n    setIsConnected(connected);\n    if (connected) {\n      logUserActivity(currentUser.id); // è¯»å–æœ€æ–° user,ä½†ä¸è§¦å‘é‡è¿\n    }\n  });\n\n  // âœ… åªåœ¨ roomId å˜åŒ–æ—¶é‡æ–°è¿æ¥\n  useEffect(() =&gt; {\n    const connection = createConnection(roomId);\n\n    connection.on(&#39;message&#39;, onMessage);\n    connection.on(&#39;connection&#39;, onConnectionChange);\n    connection.connect();\n\n    return () =&gt; {\n      connection.disconnect();\n    };\n  }, [roomId]); // åªä¾èµ– roomId\n\n  return (\n    &lt;div className={theme}&gt;\n      &lt;ConnectionStatus isConnected={isConnected} /&gt;\n      &lt;MessageList messages={messages} /&gt;\n    &lt;/div&gt;\n  );\n}\n```\n\n### è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹\n\n1. **æœ€å°åŒ–ä¾èµ–**ï¼šEffect åªä¾èµ– `roomId`ï¼Œåªåœ¨åˆ‡æ¢æˆ¿é—´æ—¶é‡æ–°è¿æ¥\n2. **é¿å…ä¸å¿…è¦çš„é‡è¿**ï¼š`theme` å’Œ `currentUser` å˜åŒ–ä¸ä¼šå¯¼è‡´é‡æ–°è¿æ¥\n3. **ä½¿ç”¨æ›´æ–°å‡½æ•°**ï¼š`setMessages(msgs =&gt; [...msgs, message])` é¿å…ä¾èµ– `messages`\n4. **æ¸…æ™°çš„èŒè´£åˆ†ç¦»**ï¼šè¿æ¥é€»è¾‘ã€æ¶ˆæ¯å¤„ç†ã€é€šçŸ¥å±•ç¤ºå„å¸å…¶èŒ\n\n## è°ƒè¯•æŠ€å·§\n\n### 1. ä½¿ç”¨ React DevTools\n\nReact DevTools çš„ Profiler å¯ä»¥å¸®ä½ è¯†åˆ«å“ªäº›ç»„ä»¶å› ä¸º Effect é‡æ–°æ¸²æŸ“ï¼š\n\n- è®°å½•æ¸²æŸ“åŸå› \n- æŸ¥çœ‹ Hook çš„ä¾èµ–å˜åŒ–\n- è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ\n\n### 2. æ·»åŠ æ—¥å¿—\n\nåœ¨å¼€å‘ç¯å¢ƒæ·»åŠ æ—¥å¿—å¸®åŠ©ç†è§£ Effect æ‰§è¡Œæ—¶æœºï¼š\n\n```javascript\nuseEffect(() =&gt; {\n  console.log(&#39;Effect æ‰§è¡Œ:&#39;, { roomId, theme });\n  // ...\n  return () =&gt; {\n    console.log(&#39;Effect æ¸…ç†:&#39;, { roomId, theme });\n  };\n}, [roomId, theme]);\n```\n\n### 3. ä½¿ç”¨ eslint-plugin-react-hooks\n\nç¡®ä¿åœ¨é¡¹ç›®ä¸­å¯ç”¨å¹¶é…ç½®è¯¥æ’ä»¶ï¼š\n\n```json\n{\n  \&quot;plugins\&quot;: [\&quot;react-hooks\&quot;],\n  \&quot;rules\&quot;: {\n    \&quot;react-hooks/rules-of-hooks\&quot;: \&quot;error\&quot;,\n    \&quot;react-hooks/exhaustive-deps\&quot;: \&quot;warn\&quot;\n  }\n}\n```\n\n## å¸¸è§è¯¯åŒº\n\n### è¯¯åŒº 1ï¼šç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½\n\n```javascript\n// âŒ é”™è¯¯ç†è§£\nuseEffect(() =&gt; {\n  setCount(count + 1); // count æ°¸è¿œæ˜¯åˆå§‹å€¼\n}, []); // ç¼ºå°‘ count ä¾èµ–\n```\n\n### è¯¯åŒº 2ï¼šä¾èµ–è¶Šå°‘è¶Šå¥½\n\nä¾èµ–å°‘ä¸æ˜¯ç›®æ ‡ï¼Œ**å‡†ç¡®çš„ä¾èµ–**æ‰æ˜¯ç›®æ ‡ã€‚ä¸è¦ä¸ºäº†å‡å°‘ä¾èµ–è€Œç‰ºç‰²æ­£ç¡®æ€§ã€‚\n\n### è¯¯åŒº 3ï¼šéšæ„ç¦ç”¨ ESLint è§„åˆ™\n\n```javascript\n// âŒ è¿™æ˜¯æŠ€æœ¯å€ºåŠ¡\nuseEffect(() =&gt; {\n  // ...\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n}, []);\n```\n\nè¿™ä¼šåœ¨æœªæ¥å¼•å‘éš¾ä»¥è¿½è¸ªçš„ bugï¼Œç»å¯¹ä¸è¦è¿™æ ·åšã€‚\n\n## æ€§èƒ½ä¼˜åŒ–å»ºè®®\n\n1. **ä¼˜å…ˆä½¿ç”¨äº‹ä»¶å¤„ç†å™¨**ï¼šèƒ½ç”¨äº‹ä»¶å¤„ç†å™¨å°±ä¸ç”¨ Effect\n2. **æ‹†åˆ†ç»†ç²’åº¦ Effect**ï¼šæ¯ä¸ª Effect åªè´Ÿè´£ä¸€ä»¶äº‹\n3. **åˆç†ä½¿ç”¨ useMemo/useCallback**ï¼šå¯¹å¤æ‚å¯¹è±¡å’Œå‡½æ•°è¿›è¡Œç¼“å­˜\n4. **é¿å…è¿‡åº¦ä¼˜åŒ–**ï¼šå…ˆä¿è¯æ­£ç¡®æ€§ï¼Œå†ä¼˜åŒ–æ€§èƒ½\n\n## æ€»ç»“\n\nEffect ä¾èµ–ç®¡ç†æ˜¯ React Hooks å¼€å‘ä¸­çš„é‡è¦æŠ€èƒ½ã€‚å…³é”®è¦ç‚¹ï¼š\n\n1. **ä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…** - è¿™æ˜¯ä¸å¯å¦¥åçš„åŸåˆ™\n2. **æ°¸è¿œä¸è¦ç¦ç”¨ ESLint è§„åˆ™** - æŠŠä¾èµ–è­¦å‘Šå½“ä½œç¼–è¯‘é”™è¯¯å¯¹å¾…\n3. **ä¼˜å…ˆä½¿ç”¨äº‹ä»¶å¤„ç†å™¨** - ä¸æ˜¯æ‰€æœ‰é€»è¾‘éƒ½éœ€è¦ Effect\n4. **ä½¿ç”¨æ›´æ–°å‡½æ•°** - å‡å°‘å¯¹ state çš„ä¾èµ–\n5. **é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–** - å®ƒä»¬æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°çš„\n6. **ç†è§£æºç å®ç°** - å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨ API\n\né€šè¿‡éµå¾ªè¿™äº›æœ€ä½³å®è·µï¼Œä½ å¯ä»¥å†™å‡ºæ›´é«˜æ•ˆã€æ›´æ˜“ç»´æŠ¤çš„ React ä»£ç ï¼Œé¿å…å¸¸è§çš„ Effect ä¾èµ–é™·é˜±ã€‚\n\n## å‚è€ƒèµ„æ–™\n\n- [React å®˜æ–¹æ–‡æ¡£ - Removing Effect Dependencies](https://react.dev/learn/removing-effect-dependencies#removing-unnecessary-dependencies)\n- [React æºç  - ReactFiberHooks.js](https://github.com/facebook/react/blob/v19.1.1/packages/react-reconciler/src/ReactFiberHooks.js#L2927-L2942)\n- [eslint-plugin-react-hooks](https://www.npmjs.com/package/eslint-plugin-react-hooks)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/React-Effectä¾èµ–ä¼˜åŒ–æœ€ä½³å®è·µä¸æºç è§£æ.md&quot;],&quot;digest&quot;:[0,&quot;dada54ea90bf331d&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;å‰è¨€\&quot;&gt;å‰è¨€&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‰è¨€\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;åœ¨ä½¿ç”¨ React Hooks å¼€å‘æ—¶ï¼Œ&lt;code&gt;useEffect&lt;/code&gt; çš„ä¾èµ–æ•°ç»„ç®¡ç†æ˜¯ä¸€ä¸ªå¸¸è§çš„ç—›ç‚¹ã€‚å¾ˆå¤šå¼€å‘è€…é‡åˆ°è¿‡è¿™æ ·çš„å›°æ‰°ï¼šä¾èµ–é¡¹è¿‡å¤šå¯¼è‡´ Effect é¢‘ç¹æ‰§è¡Œï¼Œæˆ–è€…ä¸ºäº†å›¾æ–¹ä¾¿ç›´æ¥ç¦ç”¨ ESLint è§„åˆ™ï¼Œæœ€ç»ˆå¼•å‘éš¾ä»¥è°ƒè¯•çš„ bugã€‚&lt;/p&gt;\n&lt;p&gt;æœ¬æ–‡å°†ä» React å®˜æ–¹æ–‡æ¡£å’Œæºç å±‚é¢æ·±å…¥æ¢è®¨å¦‚ä½•æ­£ç¡®ç®¡ç† Effect ä¾èµ–ï¼Œå¸®åŠ©ä½ å†™å‡ºæ›´é«˜æ•ˆã€æ›´å¯ç»´æŠ¤çš„ React ä»£ç ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ ¸å¿ƒåŸåˆ™ä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…\&quot;&gt;æ ¸å¿ƒåŸåˆ™ï¼šä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ ¸å¿ƒåŸåˆ™ä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;React å®˜æ–¹æ–‡æ¡£æ˜ç¡®æŒ‡å‡ºï¼š&lt;strong&gt;ä¾èµ–åº”è¯¥ä¸ä»£ç åŒ¹é…&lt;/strong&gt;ã€‚è¿™æ„å‘³ç€ Effect ä¸­ä½¿ç”¨çš„æ¯ä¸€ä¸ªå“åº”å¼å€¼ï¼ˆpropsã€stateï¼‰éƒ½å¿…é¡»å‡ºç°åœ¨ä¾èµ–æ•°ç»„ä¸­ã€‚&lt;/p&gt;\n&lt;p&gt;React çš„ ESLint æ’ä»¶ &lt;code&gt;eslint-plugin-react-hooks&lt;/code&gt; ä¼šè‡ªåŠ¨æ£€æŸ¥è¿™ä¸€è§„åˆ™ï¼Œç¡®ä¿ä½ çš„ä¾èµ–å£°æ˜æ˜¯å®Œæ•´çš„ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;ï¸-å…³é”®è­¦å‘Š\&quot;&gt;âš ï¸ å…³é”®è­¦å‘Š&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ï¸-å…³é”®è­¦å‘Š\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;strong&gt;æ°¸è¿œä¸è¦ç”¨æ³¨é‡Šç¦ç”¨ä¾èµ–æ£€æŸ¥ï¼š&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ å±é™©åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // eslint-disable-next-line react-hooks/exhaustive-deps&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, []);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;React æ–‡æ¡£å¼ºè°ƒï¼š&lt;strong&gt;åº”è¯¥æŠŠä¾èµ–æ£€æŸ¥é”™è¯¯å½“ä½œç¼–è¯‘é”™è¯¯æ¥å¯¹å¾…&lt;/strong&gt;ã€‚å¿½ç•¥å®ƒä¼šå¯¼è‡´å¾®å¦™ä¸”éš¾ä»¥è¯Šæ–­çš„ bugã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–\&quot;&gt;å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;1-å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨\&quot;&gt;1. å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#1-å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å¦‚æœæŸæ®µä»£ç åº”è¯¥å“åº”ç‰¹å®šçš„ç”¨æˆ·äº¤äº’è€Œéå“åº”å¼å˜åŒ–ï¼Œåº”è¯¥æ”¾åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ ä¸å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;roomId&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;message&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setMessage&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (message) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      logVisit&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId, message);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [roomId, message]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// message å˜åŒ–ä¼šé‡å¤è®°å½•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;input&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{message} &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;onChange&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;e&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; setMessage&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(e.target.value)} /&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;roomId&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;message&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setMessage&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; handleSend&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    logVisit&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId, message); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// åªåœ¨å‘é€æ—¶è®°å½•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    &amp;#x3C;&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;input&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{message} &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;onChange&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;e&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; setMessage&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(e.target.value)} /&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;button&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; onClick&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{handleSend}&gt;å‘é€&amp;#x3C;/&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;button&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    &amp;#x3C;/&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  );&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;2-æ‹†åˆ†å¤šç›®çš„-effect\&quot;&gt;2. æ‹†åˆ†å¤šç›®çš„ Effect&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#2-æ‹†åˆ†å¤šç›®çš„-effect\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å½“ä¸€ä¸ª Effect åŒæ­¥å¤šä¸ªä¸ç›¸å…³çš„è¿‡ç¨‹æ—¶,åº”è¯¥æ‹†åˆ†æˆå¤šä¸ª Effectï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ ä¸å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  connectToChat&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  trackPageView&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(page);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, [roomId, page]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// roomId å˜åŒ–ä¼šè§¦å‘ä¸å¿…è¦çš„é¡µé¢è¿½è¸ª&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  connectToChat&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, [roomId]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  trackPageView&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(page);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, [page]);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;3-ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°\&quot;&gt;3. ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#3-ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;é€šè¿‡ä¼ é€’æ›´æ–°å‡½æ•°è€Œéç›´æ¥è¯»å– stateï¼Œå¯ä»¥ç§»é™¤çŠ¶æ€ä¾èµ–ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ ä¸å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Counter&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;() {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;count&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setCount&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; timer&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; setInterval&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      setCount&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(count &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¾èµ– count&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1000&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; clearInterval&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(timer);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [count]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// æ¯æ¬¡ count å˜åŒ–éƒ½ä¼šé‡ç½®å®šæ—¶å™¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;{count}&amp;#x3C;/&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Counter&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;() {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;count&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setCount&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; timer&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; setInterval&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      setCount&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;c&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; c &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨æ›´æ–°å‡½æ•°,ä¸ä¾èµ– count&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1000&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; clearInterval&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(timer);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, []); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ç©ºä¾èµ–æ•°ç»„,å®šæ—¶å™¨ä¸ä¼šé‡ç½®&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;{count}&amp;#x3C;/&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;4-ä½¿ç”¨-effect-eventå®éªŒæ€§\&quot;&gt;4. ä½¿ç”¨ Effect Eventï¼ˆå®éªŒæ€§ï¼‰&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#4-ä½¿ç”¨-effect-eventå®éªŒæ€§\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;code&gt;useEffectEvent&lt;/code&gt; å…è®¸ä½ æå–éå“åº”å¼é€»è¾‘ï¼Œè¯»å–æœ€æ–°å€¼è€Œä¸è§¦å‘é‡æ–°åŒæ­¥ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… ä½¿ç”¨ Effect Event&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;roomId&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;theme&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; onConnected&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useEffectEvent&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    showNotification&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;å·²è¿æ¥&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, theme); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// è¯»å–æœ€æ–°çš„ theme&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; connection&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; connectToChat&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;connected&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, onConnected);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;disconnect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [roomId]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// theme å˜åŒ–ä¸ä¼šé‡æ–°è¿æ¥&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼š&lt;/strong&gt; &lt;code&gt;useEffectEvent&lt;/code&gt; ç›®å‰ä»æ˜¯å®éªŒæ€§ APIï¼Œå°šæœªåŒ…å«åœ¨ç¨³å®šç‰ˆ React ä¸­ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;5-é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–\&quot;&gt;5. é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#5-é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å¯¹è±¡å’Œå‡½æ•°åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½æ˜¯æ–°çš„å¼•ç”¨ï¼Œä¼šå¯¼è‡´ä¸å¿…è¦çš„é‡æ–°æ‰§è¡Œï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ ä¸å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; SearchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;query&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; options&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°å¯¹è±¡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    includeArchived: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    fetchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(query, options);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [query, options]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// options æ¯æ¬¡éƒ½ä¼šè§¦å‘&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… è§£å†³æ–¹æ¡ˆ 1: ç§»åˆ° Effect å†…éƒ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; SearchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;query&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; options&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { includeArchived: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    fetchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(query, options);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [query]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… è§£å†³æ–¹æ¡ˆ 2: ç§»åˆ°ç»„ä»¶å¤–éƒ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; OPTIONS&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { includeArchived: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; SearchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;query&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    fetchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(query, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;OPTIONS&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [query]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… è§£å†³æ–¹æ¡ˆ 3: ä½¿ç”¨ useMemo&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; SearchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;query&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;includeArchived&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; options&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useMemo&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; ({&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    includeArchived&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }), [includeArchived]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    fetchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(query, options);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [query, options]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;6-æå–åŸå§‹å€¼\&quot;&gt;6. æå–åŸå§‹å€¼&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#6-æå–åŸå§‹å€¼\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å½“æ¥æ”¶å¯¹è±¡ props æ—¶ï¼Œè§£æ„å‡ºåŸå§‹å€¼ä½œä¸ºä¾èµ–ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ ä¸å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;options&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    connectToChat&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(options.roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [options]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// options å¯¹è±¡æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°çš„&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;options&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;roomId&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; options;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    connectToChat&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [roomId]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// åªä¾èµ–åŸå§‹å€¼&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;æºç è§£æreact-å¦‚ä½•åˆå§‹åŒ–-state\&quot;&gt;æºç è§£æï¼šReact å¦‚ä½•åˆå§‹åŒ– State&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æºç è§£æreact-å¦‚ä½•åˆå§‹åŒ–-state\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è®©æˆ‘ä»¬æ·±å…¥ React æºç ï¼Œçœ‹çœ‹ &lt;code&gt;useState&lt;/code&gt; èƒŒåçš„å®ç°æœºåˆ¶ã€‚ä»¥ä¸‹ä»£ç æ¥è‡ª React v19.1.1 çš„ &lt;code&gt;ReactFiberHooks.js&lt;/code&gt;ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; mountStateImpl&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;S&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;initialState&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; S&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; S&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Hook&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; hook&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; mountWorkInProgressHook&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;typeof&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; initialState &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;function&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; initialStateInitializer&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; initialState;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // æ‰§è¡Œåˆå§‹åŒ–å‡½æ•°è·å–åˆå§‹å€¼&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    initialState &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; initialStateInitializer&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (shouldDoubleInvokeUserFnsInHooksDEV) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      setIsStrictModeForDevtools&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      try&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;        // ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæ‰§è¡Œä¸¤æ¬¡,æ£€æµ‹å‰¯ä½œç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;        initialStateInitializer&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;finally&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;        setIsStrictModeForDevtools&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;false&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  hook.memoizedState &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; hook.baseState &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; initialState;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;æºç è¦ç‚¹è§£è¯»\&quot;&gt;æºç è¦ç‚¹è§£è¯»&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æºç è¦ç‚¹è§£è¯»\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;æƒ°æ€§åˆå§‹åŒ–æ”¯æŒ&lt;/strong&gt;ï¼šå½“ &lt;code&gt;initialState&lt;/code&gt; æ˜¯å‡½æ•°æ—¶ï¼ŒReact ä¼šæ‰§è¡Œå®ƒæ¥è·å–åˆå§‹å€¼ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥å†™ &lt;code&gt;useState(() =&gt; expensiveComputation())&lt;/code&gt;ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;ä¸¥æ ¼æ¨¡å¼åŒé‡è°ƒç”¨&lt;/strong&gt;ï¼šåœ¨å¼€å‘æ¨¡å¼çš„ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåˆå§‹åŒ–å‡½æ•°ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡ã€‚è¿™æ˜¯ React çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨äºå¸®åŠ©æ£€æµ‹ä¸çº¯çš„åˆå§‹åŒ–å‡½æ•°ä¸­çš„å‰¯ä½œç”¨ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;çŠ¶æ€å­˜å‚¨&lt;/strong&gt;ï¼šåˆå§‹å€¼ä¼šåŒæ—¶å­˜å‚¨åœ¨ &lt;code&gt;memoizedState&lt;/code&gt;ï¼ˆå½“å‰çŠ¶æ€ï¼‰å’Œ &lt;code&gt;baseState&lt;/code&gt;ï¼ˆåŸºç¡€çŠ¶æ€ï¼‰ä¸­ã€‚è¿™æ˜¯ React å®ç°çŠ¶æ€æ›´æ–°å’Œå¹¶å‘æ¸²æŸ“çš„åŸºç¡€ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&quot;ä¸-effect-ä¾èµ–çš„å…³è”\&quot;&gt;ä¸ Effect ä¾èµ–çš„å…³è”&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¸-effect-ä¾èµ–çš„å…³è”\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;ç†è§£ &lt;code&gt;useState&lt;/code&gt; çš„å®ç°æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°ç®¡ç† Effect ä¾èµ–ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¸ºä»€ä¹ˆæƒ°æ€§åˆå§‹åŒ–ä¸éœ€è¦ä¾èµ–&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Component&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;() {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // âœ… åˆå§‹åŒ–å‡½æ•°åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;data&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    return&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; expensiveComputation&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¸ä¼šé‡å¤æ‰§è¡Œ&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // data æ¥è‡ª state,æ˜¯å“åº”å¼çš„,éœ€è¦ä½œä¸ºä¾èµ–&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    processData&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(data);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [data]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;å®æˆ˜æ¡ˆä¾‹èŠå¤©å®¤è¿æ¥ç®¡ç†\&quot;&gt;å®æˆ˜æ¡ˆä¾‹ï¼šèŠå¤©å®¤è¿æ¥ç®¡ç†&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®æˆ˜æ¡ˆä¾‹èŠå¤©å®¤è¿æ¥ç®¡ç†\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­æ•´åˆè¿™äº›æœ€ä½³å®è·µï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;roomId&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;theme&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;currentUser&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;messages&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setMessages&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;([]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;isConnected&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setIsConnected&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;false&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // âœ… ä½¿ç”¨ Effect Event å¤„ç†éå“åº”å¼é€»è¾‘&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; onMessage&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useEffectEvent&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;((&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;message&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    setMessages&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;msgs&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;...&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;msgs, message]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨æ›´æ–°å‡½æ•°&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    showNotification&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(message, theme); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// è¯»å–æœ€æ–° theme,ä½†ä¸è§¦å‘é‡è¿&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; onConnectionChange&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useEffectEvent&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;((&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;connected&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    setIsConnected&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(connected);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (connected) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      logUserActivity&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(currentUser.id); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// è¯»å–æœ€æ–° user,ä½†ä¸è§¦å‘é‡è¿&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // âœ… åªåœ¨ roomId å˜åŒ–æ—¶é‡æ–°è¿æ¥&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; connection&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; createConnection&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;message&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, onMessage);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;connection&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, onConnectionChange);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;connect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;disconnect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [roomId]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// åªä¾èµ– roomId&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; className&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{theme}&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;ConnectionStatus&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; isConnected&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{isConnected} /&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;MessageList&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; messages&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{messages} /&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    &amp;#x3C;/&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  );&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹\&quot;&gt;è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;æœ€å°åŒ–ä¾èµ–&lt;/strong&gt;ï¼šEffect åªä¾èµ– &lt;code&gt;roomId&lt;/code&gt;ï¼Œåªåœ¨åˆ‡æ¢æˆ¿é—´æ—¶é‡æ–°è¿æ¥&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¿å…ä¸å¿…è¦çš„é‡è¿&lt;/strong&gt;ï¼š&lt;code&gt;theme&lt;/code&gt; å’Œ &lt;code&gt;currentUser&lt;/code&gt; å˜åŒ–ä¸ä¼šå¯¼è‡´é‡æ–°è¿æ¥&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä½¿ç”¨æ›´æ–°å‡½æ•°&lt;/strong&gt;ï¼š&lt;code&gt;setMessages(msgs =&gt; [...msgs, message])&lt;/code&gt; é¿å…ä¾èµ– &lt;code&gt;messages&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ¸…æ™°çš„èŒè´£åˆ†ç¦»&lt;/strong&gt;ï¼šè¿æ¥é€»è¾‘ã€æ¶ˆæ¯å¤„ç†ã€é€šçŸ¥å±•ç¤ºå„å¸å…¶èŒ&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;è°ƒè¯•æŠ€å·§\&quot;&gt;è°ƒè¯•æŠ€å·§&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è°ƒè¯•æŠ€å·§\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;1-ä½¿ç”¨-react-devtools\&quot;&gt;1. ä½¿ç”¨ React DevTools&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#1-ä½¿ç”¨-react-devtools\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;React DevTools çš„ Profiler å¯ä»¥å¸®ä½ è¯†åˆ«å“ªäº›ç»„ä»¶å› ä¸º Effect é‡æ–°æ¸²æŸ“ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;è®°å½•æ¸²æŸ“åŸå› &lt;/li&gt;\n&lt;li&gt;æŸ¥çœ‹ Hook çš„ä¾èµ–å˜åŒ–&lt;/li&gt;\n&lt;li&gt;è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;2-æ·»åŠ æ—¥å¿—\&quot;&gt;2. æ·»åŠ æ—¥å¿—&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#2-æ·»åŠ æ—¥å¿—\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨å¼€å‘ç¯å¢ƒæ·»åŠ æ—¥å¿—å¸®åŠ©ç†è§£ Effect æ‰§è¡Œæ—¶æœºï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  console.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;Effect æ‰§è¡Œ:&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, { roomId, theme });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    console.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;Effect æ¸…ç†:&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, { roomId, theme });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, [roomId, theme]);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;3-ä½¿ç”¨-eslint-plugin-react-hooks\&quot;&gt;3. ä½¿ç”¨ eslint-plugin-react-hooks&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#3-ä½¿ç”¨-eslint-plugin-react-hooks\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;ç¡®ä¿åœ¨é¡¹ç›®ä¸­å¯ç”¨å¹¶é…ç½®è¯¥æ’ä»¶ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;json\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;  \&quot;plugins\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: [&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;react-hooks\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;],&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;  \&quot;rules\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    \&quot;react-hooks/rules-of-hooks\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;error\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    \&quot;react-hooks/exhaustive-deps\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;warn\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;å¸¸è§è¯¯åŒº\&quot;&gt;å¸¸è§è¯¯åŒº&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å¸¸è§è¯¯åŒº\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;è¯¯åŒº-1ç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½\&quot;&gt;è¯¯åŒº 1ï¼šç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è¯¯åŒº-1ç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ é”™è¯¯ç†è§£&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  setCount&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(count &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// count æ°¸è¿œæ˜¯åˆå§‹å€¼&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, []); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ç¼ºå°‘ count ä¾èµ–&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;è¯¯åŒº-2ä¾èµ–è¶Šå°‘è¶Šå¥½\&quot;&gt;è¯¯åŒº 2ï¼šä¾èµ–è¶Šå°‘è¶Šå¥½&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è¯¯åŒº-2ä¾èµ–è¶Šå°‘è¶Šå¥½\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;ä¾èµ–å°‘ä¸æ˜¯ç›®æ ‡ï¼Œ&lt;strong&gt;å‡†ç¡®çš„ä¾èµ–&lt;/strong&gt;æ‰æ˜¯ç›®æ ‡ã€‚ä¸è¦ä¸ºäº†å‡å°‘ä¾èµ–è€Œç‰ºç‰²æ­£ç¡®æ€§ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;è¯¯åŒº-3éšæ„ç¦ç”¨-eslint-è§„åˆ™\&quot;&gt;è¯¯åŒº 3ï¼šéšæ„ç¦ç”¨ ESLint è§„åˆ™&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è¯¯åŒº-3éšæ„ç¦ç”¨-eslint-è§„åˆ™\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ è¿™æ˜¯æŠ€æœ¯å€ºåŠ¡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // eslint-disable-next-line react-hooks/exhaustive-deps&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, []);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿™ä¼šåœ¨æœªæ¥å¼•å‘éš¾ä»¥è¿½è¸ªçš„ bugï¼Œç»å¯¹ä¸è¦è¿™æ ·åšã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ€§èƒ½ä¼˜åŒ–å»ºè®®\&quot;&gt;æ€§èƒ½ä¼˜åŒ–å»ºè®®&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€§èƒ½ä¼˜åŒ–å»ºè®®\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆä½¿ç”¨äº‹ä»¶å¤„ç†å™¨&lt;/strong&gt;ï¼šèƒ½ç”¨äº‹ä»¶å¤„ç†å™¨å°±ä¸ç”¨ Effect&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ‹†åˆ†ç»†ç²’åº¦ Effect&lt;/strong&gt;ï¼šæ¯ä¸ª Effect åªè´Ÿè´£ä¸€ä»¶äº‹&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åˆç†ä½¿ç”¨ useMemo/useCallback&lt;/strong&gt;ï¼šå¯¹å¤æ‚å¯¹è±¡å’Œå‡½æ•°è¿›è¡Œç¼“å­˜&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¿å…è¿‡åº¦ä¼˜åŒ–&lt;/strong&gt;ï¼šå…ˆä¿è¯æ­£ç¡®æ€§ï¼Œå†ä¼˜åŒ–æ€§èƒ½&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;æ€»ç»“\&quot;&gt;æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;Effect ä¾èµ–ç®¡ç†æ˜¯ React Hooks å¼€å‘ä¸­çš„é‡è¦æŠ€èƒ½ã€‚å…³é”®è¦ç‚¹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;ä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…&lt;/strong&gt; - è¿™æ˜¯ä¸å¯å¦¥åçš„åŸåˆ™&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ°¸è¿œä¸è¦ç¦ç”¨ ESLint è§„åˆ™&lt;/strong&gt; - æŠŠä¾èµ–è­¦å‘Šå½“ä½œç¼–è¯‘é”™è¯¯å¯¹å¾…&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆä½¿ç”¨äº‹ä»¶å¤„ç†å™¨&lt;/strong&gt; - ä¸æ˜¯æ‰€æœ‰é€»è¾‘éƒ½éœ€è¦ Effect&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä½¿ç”¨æ›´æ–°å‡½æ•°&lt;/strong&gt; - å‡å°‘å¯¹ state çš„ä¾èµ–&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–&lt;/strong&gt; - å®ƒä»¬æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°çš„&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç†è§£æºç å®ç°&lt;/strong&gt; - å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨ API&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;é€šè¿‡éµå¾ªè¿™äº›æœ€ä½³å®è·µï¼Œä½ å¯ä»¥å†™å‡ºæ›´é«˜æ•ˆã€æ›´æ˜“ç»´æŠ¤çš„ React ä»£ç ï¼Œé¿å…å¸¸è§çš„ Effect ä¾èµ–é™·é˜±ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;å‚è€ƒèµ„æ–™\&quot;&gt;å‚è€ƒèµ„æ–™&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‚è€ƒèµ„æ–™\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&quot;https://react.dev/learn/removing-effect-dependencies#removing-unnecessary-dependencies\&quot;&gt;React å®˜æ–¹æ–‡æ¡£ - Removing Effect Dependencies&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&quot;https://github.com/facebook/react/blob/v19.1.1/packages/react-reconciler/src/ReactFiberHooks.js#L2927-L2942\&quot;&gt;React æºç  - ReactFiberHooks.js&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;\n&lt;div class=\&quot;link-preview-block not-prose\&quot; data-state=\&quot;error\&quot;&gt;\n  &lt;a href=\&quot;https://www.npmjs.com/package/eslint-plugin-react-hooks\&quot; target=\&quot;_blank\&quot; class=\&quot;hover:border-primary/50 group block rounded-lg border bg-card p-4 transition-all hover:shadow-md\&quot; aria-label=\&quot;https://www.npmjs.com/package/eslint-plugin-react-hooks\&quot;&gt;\n    &lt;div class=\&quot;flex items-center justify-between gap-3\&quot;&gt;\n      &lt;div class=\&quot;flex items-center gap-3 min-w-0 flex-1\&quot;&gt;\n        &lt;div class=\&quot;bg-primary/10 text-primary flex h-10 w-10 shrink-0 items-center justify-center rounded-lg\&quot;&gt;\n          &lt;svg class=\&quot;h-5 w-5\&quot; viewBox=\&quot;0 0 24 24\&quot; aria-hidden=\&quot;true\&quot;&gt;&lt;path fill=\&quot;none\&quot; stroke=\&quot;currentColor\&quot; stroke-dasharray=\&quot;28\&quot; stroke-dashoffset=\&quot;28\&quot; stroke-linecap=\&quot;round\&quot; stroke-linejoin=\&quot;round\&quot; stroke-width=\&quot;2\&quot; d=\&quot;M13 6l2 -2c1 -1 3 -1 4 0l1 1c1 1 1 3 0 4l-5 5c-1 1 -3 1 -4 0M11 18l-2 2c-1 1 -3 1 -4 0l-1 -1c-1 -1 -1 -3 0 -4l5 -5c1 -1 3 -1 4 0\&quot;&gt;&lt;animate fill=\&quot;freeze\&quot; attributeName=\&quot;stroke-dashoffset\&quot; dur=\&quot;0.6s\&quot; values=\&quot;28;0\&quot;&gt;&lt;/animate&gt;&lt;/path&gt;&lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;div class=\&quot;min-w-0 flex-1\&quot;&gt;\n          &lt;div class=\&quot;text-foreground font-medium truncate\&quot;&gt;https://www.npmjs.com/package/eslint-plugin-react-hooks&lt;/div&gt;\n          &lt;div class=\&quot;text-muted-foreground text-xs truncate mt-0.5\&quot;&gt;npmjs.com&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;svg class=\&quot;text-primary h-5 w-5 shrink-0 transition-transform group-hover:translate-x-1\&quot; fill=\&quot;none\&quot; stroke=\&quot;currentColor\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;\n        &lt;path stroke-linecap=\&quot;round\&quot; stroke-linejoin=\&quot;round\&quot; stroke-width=\&quot;2\&quot; d=\&quot;M14 5l7 7m0 0l-7 7m7-7H3\&quot;&gt;&lt;/path&gt;\n      &lt;/svg&gt;\n    &lt;/div&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n&lt;/li&gt;\n&lt;/ul&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‰è¨€&quot;],&quot;text&quot;:[0,&quot;å‰è¨€&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ ¸å¿ƒåŸåˆ™ä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…&quot;],&quot;text&quot;:[0,&quot;æ ¸å¿ƒåŸåˆ™ï¼šä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;ï¸-å…³é”®è­¦å‘Š&quot;],&quot;text&quot;:[0,&quot;âš ï¸ å…³é”®è­¦å‘Š&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–&quot;],&quot;text&quot;:[0,&quot;å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1-å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨&quot;],&quot;text&quot;:[0,&quot;1. å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2-æ‹†åˆ†å¤šç›®çš„-effect&quot;],&quot;text&quot;:[0,&quot;2. æ‹†åˆ†å¤šç›®çš„ Effect&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3-ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°&quot;],&quot;text&quot;:[0,&quot;3. ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;4-ä½¿ç”¨-effect-eventå®éªŒæ€§&quot;],&quot;text&quot;:[0,&quot;4. ä½¿ç”¨ Effect Eventï¼ˆå®éªŒæ€§ï¼‰&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;5-é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–&quot;],&quot;text&quot;:[0,&quot;5. é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;6-æå–åŸå§‹å€¼&quot;],&quot;text&quot;:[0,&quot;6. æå–åŸå§‹å€¼&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æºç è§£æreact-å¦‚ä½•åˆå§‹åŒ–-state&quot;],&quot;text&quot;:[0,&quot;æºç è§£æï¼šReact å¦‚ä½•åˆå§‹åŒ– State&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;æºç è¦ç‚¹è§£è¯»&quot;],&quot;text&quot;:[0,&quot;æºç è¦ç‚¹è§£è¯»&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;ä¸-effect-ä¾èµ–çš„å…³è”&quot;],&quot;text&quot;:[0,&quot;ä¸ Effect ä¾èµ–çš„å…³è”&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å®æˆ˜æ¡ˆä¾‹èŠå¤©å®¤è¿æ¥ç®¡ç†&quot;],&quot;text&quot;:[0,&quot;å®æˆ˜æ¡ˆä¾‹ï¼šèŠå¤©å®¤è¿æ¥ç®¡ç†&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹&quot;],&quot;text&quot;:[0,&quot;è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;è°ƒè¯•æŠ€å·§&quot;],&quot;text&quot;:[0,&quot;è°ƒè¯•æŠ€å·§&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1-ä½¿ç”¨-react-devtools&quot;],&quot;text&quot;:[0,&quot;1. ä½¿ç”¨ React DevTools&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2-æ·»åŠ æ—¥å¿—&quot;],&quot;text&quot;:[0,&quot;2. æ·»åŠ æ—¥å¿—&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3-ä½¿ç”¨-eslint-plugin-react-hooks&quot;],&quot;text&quot;:[0,&quot;3. ä½¿ç”¨ eslint-plugin-react-hooks&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å¸¸è§è¯¯åŒº&quot;],&quot;text&quot;:[0,&quot;å¸¸è§è¯¯åŒº&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;è¯¯åŒº-1ç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½&quot;],&quot;text&quot;:[0,&quot;è¯¯åŒº 1ï¼šç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;è¯¯åŒº-2ä¾èµ–è¶Šå°‘è¶Šå¥½&quot;],&quot;text&quot;:[0,&quot;è¯¯åŒº 2ï¼šä¾èµ–è¶Šå°‘è¶Šå¥½&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;è¯¯åŒº-3éšæ„ç¦ç”¨-eslint-è§„åˆ™&quot;],&quot;text&quot;:[0,&quot;è¯¯åŒº 3ï¼šéšæ„ç¦ç”¨ ESLint è§„åˆ™&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€§èƒ½ä¼˜åŒ–å»ºè®®&quot;],&quot;text&quot;:[0,&quot;æ€§èƒ½ä¼˜åŒ–å»ºè®®&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;æ€»ç»“&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‚è€ƒèµ„æ–™&quot;],&quot;text&quot;:[0,&quot;å‚è€ƒèµ„æ–™&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;React Effect ä¾èµ–ä¼˜åŒ–æœ€ä½³å®è·µ&quot;],&quot;date&quot;:[3,&quot;2025-10-21T21:00:34.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;React&quot;],[0,&quot;Hooks&quot;],[0,&quot;æ€§èƒ½ä¼˜åŒ–&quot;],[0,&quot;æºç è§£æ&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/14&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;hexoåšå®¢github-actionsè‡ªåŠ¨éƒ¨ç½²é…ç½®&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Hexoåšå®¢GitHub Actionsè‡ªåŠ¨éƒ¨ç½²é…ç½®&quot;],&quot;date&quot;:[3,&quot;2025-10-18T04:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Hexo&quot;],[0,&quot;CI/CD&quot;],[0,&quot;GitHub Actions&quot;],[0,&quot;è‡ªåŠ¨åŒ–éƒ¨ç½²&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;body&quot;:[0,&quot;## å‰è¨€\n\nä½œä¸ºä¸€ä¸ªä½¿ç”¨ Hexo æ­å»ºåšå®¢çš„å¼€å‘è€…ï¼Œæ¯æ¬¡å†™å®Œæ–‡ç« éƒ½è¦æ‰‹åŠ¨æ‰§è¡Œ \n```bash\nhexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy\n```\nè¿™ä¸€ç³»åˆ—å‘½ä»¤æ˜¯ä¸æ˜¯å¾ˆéº»çƒ¦ï¼Ÿä»Šå¤©å°±æ•™å¤§å®¶å¦‚ä½•ä½¿ç”¨ GitHub Actions å®ç° Hexo åšå®¢çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚\n\n## ä»€ä¹ˆæ˜¯ GitHub Actions\n\nGitHub Actions æ˜¯ GitHub æä¾›çš„æŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰æœåŠ¡ã€‚å®ƒå¯ä»¥åœ¨ä»£ç ä»“åº“å‘ç”Ÿç‰¹å®šäº‹ä»¶æ—¶è‡ªåŠ¨æ‰§è¡Œé¢„å®šä¹‰çš„å·¥ä½œæµç¨‹ï¼Œæ¯”å¦‚ä»£ç æäº¤ã€PR åˆ›å»ºç­‰ã€‚\n\n## è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ\n\næˆ‘ä»¬çš„æ–¹æ¡ˆæ˜¯ï¼š\n1. æºä»£ç ä»“åº“ï¼šå­˜æ”¾ Hexo æºæ–‡ä»¶ï¼ˆMarkdown æ–‡ç« ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰\n2. GitHub Pages ä»“åº“ï¼šå­˜æ”¾ç¼–è¯‘åçš„é™æ€ç½‘ç«™æ–‡ä»¶\n3. GitHub Actionsï¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²åˆ° GitHub Pages ä»“åº“\n\n## é…ç½®æ­¥éª¤\n\n### 1. åˆ›å»º GitHub Actions å·¥ä½œæµ\n\nåœ¨ Hexo åšå®¢æºç ä»“åº“æ ¹ç›®å½•ä¸‹åˆ›å»º `.github/workflows/deploy.yml` æ–‡ä»¶ï¼š\n\n```yaml\nname: Deploy Hexo to GitHub Pages\n\non:\n  push:\n    branches:\n      - main\n    paths:\n      - &#39;source/_posts/**&#39;\n      - &#39;source/**&#39;\n      - &#39;themes/**&#39;\n      - &#39;_config*.yml&#39;\n      - &#39;package.json&#39;\n  workflow_dispatch:\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout source\n        uses: actions/checkout@v4\n        with:\n          submodules: true\n          fetch-depth: 0\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: &#39;18&#39;\n          cache: &#39;npm&#39;\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Clean and generate static files\n        run: |\n          npm run clean\n          npm run build\n\n      - name: Deploy to GitHub Pages\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          personal_token: ${{ secrets.DEPLOY_TOKEN }}\n          external_repository: ä½ çš„ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io\n          publish_branch: main\n          publish_dir: ./public\n          user_name: &#39;github-actions[bot]&#39;\n          user_email: &#39;github-actions[bot]@users.noreply.github.com&#39;\n          commit_message: ${{ github.event.head_commit.message }}\n```\n\n### 2. é…ç½®è§¦å‘æ¡ä»¶\n\nåœ¨ä¸Šè¿°é…ç½®ä¸­ï¼Œå·¥ä½œæµä¼šåœ¨ä»¥ä¸‹æƒ…å†µè§¦å‘ï¼š\n- æ¨é€åˆ° `main` åˆ†æ”¯\n- ä¿®æ”¹äº† `source/_posts/**`ã€`source/**`ã€`themes/**` ç›®å½•ä¸‹çš„æ–‡ä»¶\n- ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ `_config*.yml` æˆ– `package.json`\n- æ‰‹åŠ¨è§¦å‘ï¼ˆ`workflow_dispatch`ï¼‰\n\n### 3. åˆ›å»º GitHub Personal Access Token\n\n1. è®¿é—® GitHub è®¾ç½®é¡µé¢ï¼šhttps://github.com/settings/tokens\n2. ç‚¹å‡» \&quot;Generate new token\&quot; â†’ \&quot;Generate new token (classic)\&quot;\n3. å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š\n   - **Note**: `Hexo Blog Deploy`ï¼ˆæˆ–å…¶ä»–æè¿°ï¼‰\n   - **Expiration**: é€‰æ‹©è¿‡æœŸæ—¶é—´ï¼ˆå»ºè®® 1 year æˆ– No expirationï¼‰\n   - **Select scopes**: å‹¾é€‰ **repo**ï¼ˆå®Œæ•´çš„ä»“åº“æƒé™ï¼‰\n4. ç‚¹å‡» \&quot;Generate token\&quot;\n5. **ç«‹å³å¤åˆ¶ç”Ÿæˆçš„ token**ï¼ˆåªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œå…³é—­é¡µé¢åæ— æ³•å†æ¬¡æŸ¥çœ‹ï¼‰\n\n### 4. æ·»åŠ  Secret åˆ°æºç ä»“åº“\n\n1. è¿›å…¥ä½ çš„ Hexo æºç ä»“åº“\n2. ç‚¹å‡» `Settings` â†’ `Secrets and variables` â†’ `Actions`\n3. ç‚¹å‡» \&quot;New repository secret\&quot;\n4. å¡«å†™ï¼š\n   - **Name**: `DEPLOY_TOKEN`\n   - **Secret**: ç²˜è´´åˆšæ‰å¤åˆ¶çš„ token\n5. ç‚¹å‡» \&quot;Add secret\&quot;\n\n### 5. ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å\n\nå°† `deploy.yml` ä¸­çš„ `external_repository` æ”¹ä¸ºä½ çš„ GitHub Pages ä»“åº“åï¼š\n\n```yaml\nexternal_repository: ä½ çš„ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io\n```\n\n## ä½¿ç”¨æµç¨‹\n\né…ç½®å®Œæˆåï¼Œä½¿ç”¨æµç¨‹å˜å¾—éå¸¸ç®€å•ï¼š\n\n1. åœ¨ `source/_posts` ç›®å½•ä¸‹åˆ›å»ºæˆ–ä¿®æ”¹ Markdown æ–‡ç« \n2. æäº¤ä»£ç åˆ° Git ä»“åº“ï¼š\n   ```bash\n   git add .\n   git commit -m \&quot;æ–°å¢æ–‡ç« ï¼šHexo è‡ªåŠ¨éƒ¨ç½²é…ç½®\&quot;\n   git push origin main\n   ```\n3. GitHub Actions è‡ªåŠ¨è§¦å‘ï¼Œæ„å»ºå¹¶éƒ¨ç½²\n4. å‡ åˆ†é’Ÿåï¼Œè®¿é—®ä½ çš„ GitHub Pages ç½‘ç«™å³å¯çœ‹åˆ°æ›´æ–°\n\n## æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€\n\n1. è¿›å…¥æºç ä»“åº“çš„ `Actions` é¡µé¢\n2. æŸ¥çœ‹æœ€æ–°çš„å·¥ä½œæµè¿è¡ŒçŠ¶æ€\n3. ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼Œæ’æŸ¥é—®é¢˜\n\n## ä¼˜åŠ¿æ€»ç»“\n\nä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š\n\n1. **çœæ—¶çœåŠ›**: ä¸éœ€è¦æ‰‹åŠ¨æ‰§è¡Œæ„å»ºå’Œéƒ¨ç½²å‘½ä»¤\n2. **ç¯å¢ƒä¸€è‡´**: åœ¨äº‘ç«¯ç»Ÿä¸€çš„ç¯å¢ƒä¸­æ„å»ºï¼Œé¿å…æœ¬åœ°ç¯å¢ƒé—®é¢˜\n3. **éšæ—¶éšåœ°**: åªè¦èƒ½æäº¤ä»£ç å°±èƒ½å‘å¸ƒæ–‡ç« ï¼Œç”šè‡³å¯ä»¥åœ¨ GitHub ç½‘é¡µç«¯ç›´æ¥ç¼–è¾‘\n4. **ç‰ˆæœ¬ç®¡ç†**: æºæ–‡ä»¶å’Œéƒ¨ç½²æ–‡ä»¶åˆ†ç¦»ï¼Œæºç æœ‰å®Œæ•´çš„ Git å†å²è®°å½•\n5. **å…è´¹ä½¿ç”¨**: GitHub Actions å¯¹å…¬å¼€ä»“åº“å®Œå…¨å…è´¹\n\n## å¸¸è§é—®é¢˜\n\n### Q: éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ\nA: æŸ¥çœ‹ Actions é¡µé¢çš„è¯¦ç»†æ—¥å¿—ï¼Œå¸¸è§é—®é¢˜åŒ…æ‹¬ï¼š\n- Token æƒé™ä¸è¶³æˆ–è¿‡æœŸ\n- ä»“åº“åé…ç½®é”™è¯¯\n- ä¾èµ–å®‰è£…å¤±è´¥\n\n### Q: èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸåï¼Ÿ\nA: å¯ä»¥ï¼Œåœ¨ `source` ç›®å½•ä¸‹æ·»åŠ  `CNAME` æ–‡ä»¶ï¼Œå†…å®¹ä¸ºä½ çš„åŸŸåå³å¯ã€‚\n\n### Q: æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠï¼Ÿ\nA: å¯ä»¥ä½¿ç”¨ `npm ci` ä»£æ›¿ `npm install`ï¼Œå¹¶å¯ç”¨ npm ç¼“å­˜ï¼ˆé…ç½®ä¸­å·²åŒ…å«ï¼‰ã€‚\n\n## æ€»ç»“\n\né€šè¿‡ GitHub Actionsï¼Œæˆ‘ä»¬å®ç°äº† Hexo åšå®¢çš„å…¨è‡ªåŠ¨éƒ¨ç½²ã€‚ä»æ­¤ä»¥åï¼Œå†™åšå®¢åªéœ€è¦ä¸“æ³¨äºå†…å®¹åˆ›ä½œï¼Œæäº¤ä»£ç ååç­‰è‡ªåŠ¨éƒ¨ç½²å®Œæˆå³å¯ã€‚&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Hexoåšå®¢GitHub-Actionsè‡ªåŠ¨éƒ¨ç½²é…ç½®.md&quot;],&quot;digest&quot;:[0,&quot;20743aa9e10c6ede&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;å‰è¨€\&quot;&gt;å‰è¨€&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‰è¨€\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ä½œä¸ºä¸€ä¸ªä½¿ç”¨ Hexo æ­å»ºåšå®¢çš„å¼€å‘è€…ï¼Œæ¯æ¬¡å†™å®Œæ–‡ç« éƒ½è¦æ‰‹åŠ¨æ‰§è¡Œ&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;hexo&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; clean&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; &amp;#x26;&amp;#x26; &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;hexo&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; generate&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; &amp;#x26;&amp;#x26; &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;hexo&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; deploy&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿™ä¸€ç³»åˆ—å‘½ä»¤æ˜¯ä¸æ˜¯å¾ˆéº»çƒ¦ï¼Ÿä»Šå¤©å°±æ•™å¤§å®¶å¦‚ä½•ä½¿ç”¨ GitHub Actions å®ç° Hexo åšå®¢çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä»€ä¹ˆæ˜¯-github-actions\&quot;&gt;ä»€ä¹ˆæ˜¯ GitHub Actions&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä»€ä¹ˆæ˜¯-github-actions\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;GitHub Actions æ˜¯ GitHub æä¾›çš„æŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰æœåŠ¡ã€‚å®ƒå¯ä»¥åœ¨ä»£ç ä»“åº“å‘ç”Ÿç‰¹å®šäº‹ä»¶æ—¶è‡ªåŠ¨æ‰§è¡Œé¢„å®šä¹‰çš„å·¥ä½œæµç¨‹ï¼Œæ¯”å¦‚ä»£ç æäº¤ã€PR åˆ›å»ºç­‰ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ\&quot;&gt;è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;æˆ‘ä»¬çš„æ–¹æ¡ˆæ˜¯ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;æºä»£ç ä»“åº“ï¼šå­˜æ”¾ Hexo æºæ–‡ä»¶ï¼ˆMarkdown æ–‡ç« ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰&lt;/li&gt;\n&lt;li&gt;GitHub Pages ä»“åº“ï¼šå­˜æ”¾ç¼–è¯‘åçš„é™æ€ç½‘ç«™æ–‡ä»¶&lt;/li&gt;\n&lt;li&gt;GitHub Actionsï¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²åˆ° GitHub Pages ä»“åº“&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;é…ç½®æ­¥éª¤\&quot;&gt;é…ç½®æ­¥éª¤&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é…ç½®æ­¥éª¤\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;1-åˆ›å»º-github-actions-å·¥ä½œæµ\&quot;&gt;1. åˆ›å»º GitHub Actions å·¥ä½œæµ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#1-åˆ›å»º-github-actions-å·¥ä½œæµ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨ Hexo åšå®¢æºç ä»“åº“æ ¹ç›®å½•ä¸‹åˆ›å»º &lt;code&gt;.github/workflows/deploy.yml&lt;/code&gt; æ–‡ä»¶ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;yaml\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Deploy Hexo to GitHub Pages&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;  push&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;    branches&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;main&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;    paths&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;source/_posts/**&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;source/**&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;themes/**&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;_config*.yml&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;package.json&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;  workflow_dispatch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;jobs&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;  deploy&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;    runs-on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;ubuntu-latest&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;    steps&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Checkout source&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        uses&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;actions/checkout@v4&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        with&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          submodules&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          fetch-depth&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Setup Node.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        uses&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;actions/setup-node@v4&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        with&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          node-version&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;18&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          cache&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;npm&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Install dependencies&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        run&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;npm ci&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Clean and generate static files&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        run&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;          npm run clean&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;          npm run build&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Deploy to GitHub Pages&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        uses&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;peaceiris/actions-gh-pages@v3&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        with&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          personal_token&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;${{ secrets.DEPLOY_TOKEN }}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          external_repository&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;ä½ çš„ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          publish_branch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;main&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          publish_dir&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;./public&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          user_name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;github-actions[bot]&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          user_email&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;github-actions[bot]@users.noreply.github.com&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          commit_message&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;${{ github.event.head_commit.message }}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;2-é…ç½®è§¦å‘æ¡ä»¶\&quot;&gt;2. é…ç½®è§¦å‘æ¡ä»¶&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#2-é…ç½®è§¦å‘æ¡ä»¶\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨ä¸Šè¿°é…ç½®ä¸­ï¼Œå·¥ä½œæµä¼šåœ¨ä»¥ä¸‹æƒ…å†µè§¦å‘ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;æ¨é€åˆ° &lt;code&gt;main&lt;/code&gt; åˆ†æ”¯&lt;/li&gt;\n&lt;li&gt;ä¿®æ”¹äº† &lt;code&gt;source/_posts/**&lt;/code&gt;ã€&lt;code&gt;source/**&lt;/code&gt;ã€&lt;code&gt;themes/**&lt;/code&gt; ç›®å½•ä¸‹çš„æ–‡ä»¶&lt;/li&gt;\n&lt;li&gt;ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ &lt;code&gt;_config*.yml&lt;/code&gt; æˆ– &lt;code&gt;package.json&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;æ‰‹åŠ¨è§¦å‘ï¼ˆ&lt;code&gt;workflow_dispatch&lt;/code&gt;ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;3-åˆ›å»º-github-personal-access-token\&quot;&gt;3. åˆ›å»º GitHub Personal Access Token&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#3-åˆ›å»º-github-personal-access-token\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;è®¿é—® GitHub è®¾ç½®é¡µé¢ï¼š&lt;a href=\&quot;https://github.com/settings/tokens\&quot;&gt;https://github.com/settings/tokens&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡» â€œGenerate new tokenâ€ â†’ â€œGenerate new token (classic)â€&lt;/li&gt;\n&lt;li&gt;å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Note&lt;/strong&gt;: &lt;code&gt;Hexo Blog Deploy&lt;/code&gt;ï¼ˆæˆ–å…¶ä»–æè¿°ï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Expiration&lt;/strong&gt;: é€‰æ‹©è¿‡æœŸæ—¶é—´ï¼ˆå»ºè®® 1 year æˆ– No expirationï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Select scopes&lt;/strong&gt;: å‹¾é€‰ &lt;strong&gt;repo&lt;/strong&gt;ï¼ˆå®Œæ•´çš„ä»“åº“æƒé™ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡» â€œGenerate tokenâ€&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç«‹å³å¤åˆ¶ç”Ÿæˆçš„ token&lt;/strong&gt;ï¼ˆåªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œå…³é—­é¡µé¢åæ— æ³•å†æ¬¡æŸ¥çœ‹ï¼‰&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&quot;4-æ·»åŠ -secret-åˆ°æºç ä»“åº“\&quot;&gt;4. æ·»åŠ  Secret åˆ°æºç ä»“åº“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#4-æ·»åŠ -secret-åˆ°æºç ä»“åº“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;è¿›å…¥ä½ çš„ Hexo æºç ä»“åº“&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡» &lt;code&gt;Settings&lt;/code&gt; â†’ &lt;code&gt;Secrets and variables&lt;/code&gt; â†’ &lt;code&gt;Actions&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡» â€œNew repository secretâ€&lt;/li&gt;\n&lt;li&gt;å¡«å†™ï¼š\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Name&lt;/strong&gt;: &lt;code&gt;DEPLOY_TOKEN&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Secret&lt;/strong&gt;: ç²˜è´´åˆšæ‰å¤åˆ¶çš„ token&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡» â€œAdd secretâ€&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&quot;5-ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å\&quot;&gt;5. ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#5-ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å°† &lt;code&gt;deploy.yml&lt;/code&gt; ä¸­çš„ &lt;code&gt;external_repository&lt;/code&gt; æ”¹ä¸ºä½ çš„ GitHub Pages ä»“åº“åï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;yaml\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;external_repository&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;ä½ çš„ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;ä½¿ç”¨æµç¨‹\&quot;&gt;ä½¿ç”¨æµç¨‹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä½¿ç”¨æµç¨‹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é…ç½®å®Œæˆåï¼Œä½¿ç”¨æµç¨‹å˜å¾—éå¸¸ç®€å•ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;åœ¨ &lt;code&gt;source/_posts&lt;/code&gt; ç›®å½•ä¸‹åˆ›å»ºæˆ–ä¿®æ”¹ Markdown æ–‡ç« &lt;/li&gt;\n&lt;li&gt;æäº¤ä»£ç åˆ° Git ä»“åº“ï¼š\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;git&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; add&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; .&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;git&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; commit&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -m&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; \&quot;æ–°å¢æ–‡ç« ï¼šHexo è‡ªåŠ¨éƒ¨ç½²é…ç½®\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;git&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; push&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; origin&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; main&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;GitHub Actions è‡ªåŠ¨è§¦å‘ï¼Œæ„å»ºå¹¶éƒ¨ç½²&lt;/li&gt;\n&lt;li&gt;å‡ åˆ†é’Ÿåï¼Œè®¿é—®ä½ çš„ GitHub Pages ç½‘ç«™å³å¯çœ‹åˆ°æ›´æ–°&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€\&quot;&gt;æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;è¿›å…¥æºç ä»“åº“çš„ &lt;code&gt;Actions&lt;/code&gt; é¡µé¢&lt;/li&gt;\n&lt;li&gt;æŸ¥çœ‹æœ€æ–°çš„å·¥ä½œæµè¿è¡ŒçŠ¶æ€&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼Œæ’æŸ¥é—®é¢˜&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;ä¼˜åŠ¿æ€»ç»“\&quot;&gt;ä¼˜åŠ¿æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¼˜åŠ¿æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;çœæ—¶çœåŠ›&lt;/strong&gt;: ä¸éœ€è¦æ‰‹åŠ¨æ‰§è¡Œæ„å»ºå’Œéƒ¨ç½²å‘½ä»¤&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç¯å¢ƒä¸€è‡´&lt;/strong&gt;: åœ¨äº‘ç«¯ç»Ÿä¸€çš„ç¯å¢ƒä¸­æ„å»ºï¼Œé¿å…æœ¬åœ°ç¯å¢ƒé—®é¢˜&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;éšæ—¶éšåœ°&lt;/strong&gt;: åªè¦èƒ½æäº¤ä»£ç å°±èƒ½å‘å¸ƒæ–‡ç« ï¼Œç”šè‡³å¯ä»¥åœ¨ GitHub ç½‘é¡µç«¯ç›´æ¥ç¼–è¾‘&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç‰ˆæœ¬ç®¡ç†&lt;/strong&gt;: æºæ–‡ä»¶å’Œéƒ¨ç½²æ–‡ä»¶åˆ†ç¦»ï¼Œæºç æœ‰å®Œæ•´çš„ Git å†å²è®°å½•&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å…è´¹ä½¿ç”¨&lt;/strong&gt;: GitHub Actions å¯¹å…¬å¼€ä»“åº“å®Œå…¨å…è´¹&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;å¸¸è§é—®é¢˜\&quot;&gt;å¸¸è§é—®é¢˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å¸¸è§é—®é¢˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;q-éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠ\&quot;&gt;Q: éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q-éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: æŸ¥çœ‹ Actions é¡µé¢çš„è¯¦ç»†æ—¥å¿—ï¼Œå¸¸è§é—®é¢˜åŒ…æ‹¬ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Token æƒé™ä¸è¶³æˆ–è¿‡æœŸ&lt;/li&gt;\n&lt;li&gt;ä»“åº“åé…ç½®é”™è¯¯&lt;/li&gt;\n&lt;li&gt;ä¾èµ–å®‰è£…å¤±è´¥&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;q-èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸå\&quot;&gt;Q: èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸåï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q-èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸå\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: å¯ä»¥ï¼Œåœ¨ &lt;code&gt;source&lt;/code&gt; ç›®å½•ä¸‹æ·»åŠ  &lt;code&gt;CNAME&lt;/code&gt; æ–‡ä»¶ï¼Œå†…å®¹ä¸ºä½ çš„åŸŸåå³å¯ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;q-æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠ\&quot;&gt;Q: æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q-æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: å¯ä»¥ä½¿ç”¨ &lt;code&gt;npm ci&lt;/code&gt; ä»£æ›¿ &lt;code&gt;npm install&lt;/code&gt;ï¼Œå¹¶å¯ç”¨ npm ç¼“å­˜ï¼ˆé…ç½®ä¸­å·²åŒ…å«ï¼‰ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ€»ç»“\&quot;&gt;æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é€šè¿‡ GitHub Actionsï¼Œæˆ‘ä»¬å®ç°äº† Hexo åšå®¢çš„å…¨è‡ªåŠ¨éƒ¨ç½²ã€‚ä»æ­¤ä»¥åï¼Œå†™åšå®¢åªéœ€è¦ä¸“æ³¨äºå†…å®¹åˆ›ä½œï¼Œæäº¤ä»£ç ååç­‰è‡ªåŠ¨éƒ¨ç½²å®Œæˆå³å¯ã€‚&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‰è¨€&quot;],&quot;text&quot;:[0,&quot;å‰è¨€&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä»€ä¹ˆæ˜¯-github-actions&quot;],&quot;text&quot;:[0,&quot;ä»€ä¹ˆæ˜¯ GitHub Actions&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ&quot;],&quot;text&quot;:[0,&quot;è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é…ç½®æ­¥éª¤&quot;],&quot;text&quot;:[0,&quot;é…ç½®æ­¥éª¤&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1-åˆ›å»º-github-actions-å·¥ä½œæµ&quot;],&quot;text&quot;:[0,&quot;1. åˆ›å»º GitHub Actions å·¥ä½œæµ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2-é…ç½®è§¦å‘æ¡ä»¶&quot;],&quot;text&quot;:[0,&quot;2. é…ç½®è§¦å‘æ¡ä»¶&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3-åˆ›å»º-github-personal-access-token&quot;],&quot;text&quot;:[0,&quot;3. åˆ›å»º GitHub Personal Access Token&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;4-æ·»åŠ -secret-åˆ°æºç ä»“åº“&quot;],&quot;text&quot;:[0,&quot;4. æ·»åŠ  Secret åˆ°æºç ä»“åº“&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;5-ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å&quot;],&quot;text&quot;:[0,&quot;5. ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä½¿ç”¨æµç¨‹&quot;],&quot;text&quot;:[0,&quot;ä½¿ç”¨æµç¨‹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€&quot;],&quot;text&quot;:[0,&quot;æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä¼˜åŠ¿æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;ä¼˜åŠ¿æ€»ç»“&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å¸¸è§é—®é¢˜&quot;],&quot;text&quot;:[0,&quot;å¸¸è§é—®é¢˜&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q-éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠ&quot;],&quot;text&quot;:[0,&quot;Q: éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q-èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸå&quot;],&quot;text&quot;:[0,&quot;Q: èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸåï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q-æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠ&quot;],&quot;text&quot;:[0,&quot;Q: æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;æ€»ç»“&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Hexoåšå®¢GitHub Actionsè‡ªåŠ¨éƒ¨ç½²é…ç½®&quot;],&quot;date&quot;:[3,&quot;2025-10-18T04:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Hexo&quot;],[0,&quot;CI/CD&quot;],[0,&quot;GitHub Actions&quot;],[0,&quot;è‡ªåŠ¨åŒ–éƒ¨ç½²&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/12&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;nestjså…³äºå¾ªç¯ä¾èµ–&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;NestJså…³äºå¾ªç¯ä¾èµ–&quot;],&quot;date&quot;:[3,&quot;2023-11-15T21:21:35.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## æœ‰æ„Ÿè€Œå‘\n\nNestJSå¾ªç¯ä¾èµ–é—®é¢˜ï¼šè§’è‰²ä¾èµ–äº†æƒé™ï¼Œæƒé™ä¾èµ–äº†è§’è‰²æ¨¡å—ã€‚ä½¿ç”¨äº†å¾ªç¯ä¾èµ–å¯¼å…¥ã€‚\n\nä½†æ˜¯ï¼Œåœ¨è§’è‰²æ¨¡å—çš„æœåŠ¡é‡Œä½¿ç”¨æƒé™æ¨¡å—é‡Œçš„serviceæ–¹æ³•æ—¶ï¼Œå°±ä¼šæç¤ºå¯¼å…¥çš„æƒé™æ¨¡å—ä¸æ­£ç¡®ã€‚\n\nä½†æ˜¯ï¼ŒæŠŠè§’è‰²é‡Œè°ƒç”¨æƒé™æ¨¡å—çš„æ–¹æ³•é€»è¾‘åˆ äº†ï¼Œå°±æ­£å¸¸äº†ã€‚\n\nä½†æ˜¯è¿™æ®µé€»è¾‘æ”¾è§’è‰²æ§åˆ¶å™¨é‡Œè°ƒç”¨å¹¶ä¸ä¼šæŠ¥é”™ã€‚\n\nå°±å¾ˆå¥‡å¦™ï¼Œæ‰€ä»¥ï¼Œ**è¿˜æ˜¯å¾—é¿å…ä½¿ç”¨å¾ªç¯ä¾èµ–**ã€‚æˆ‘æŸ¥é˜…äº†æ–‡æ¡£åæ‰å¾—çŸ¥å®˜ç½‘ä¸æ¨èè¿™ä¹ˆåšã€‚\n\n## æ€»ç»“\n\nNestJSå¼€å‘è€…ä»¬ï¼Œå¸Œæœ›ä¸è¦å’Œæˆ‘ä¸€æ ·ã€‚**å°½é‡é¿å…å¾ªç¯ä¾èµ–å§**ï¼\n\n## ç›¸å…³æˆªå›¾\n\n![img.png](../img/img_8.png)\n![img_1.png](../img/img_9.png)\n![img_2.png](../img/img_10.png)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/NestJså…³äºå¾ªç¯ä¾èµ–.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/img_8.png&quot;],[0,&quot;../img/img_9.png&quot;],[0,&quot;../img/img_10.png&quot;]]],&quot;digest&quot;:[0,&quot;0db331e629a639de&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;æœ‰æ„Ÿè€Œå‘\&quot;&gt;æœ‰æ„Ÿè€Œå‘&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æœ‰æ„Ÿè€Œå‘\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;NestJSå¾ªç¯ä¾èµ–é—®é¢˜ï¼šè§’è‰²ä¾èµ–äº†æƒé™ï¼Œæƒé™ä¾èµ–äº†è§’è‰²æ¨¡å—ã€‚ä½¿ç”¨äº†å¾ªç¯ä¾èµ–å¯¼å…¥ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æ˜¯ï¼Œåœ¨è§’è‰²æ¨¡å—çš„æœåŠ¡é‡Œä½¿ç”¨æƒé™æ¨¡å—é‡Œçš„serviceæ–¹æ³•æ—¶ï¼Œå°±ä¼šæç¤ºå¯¼å…¥çš„æƒé™æ¨¡å—ä¸æ­£ç¡®ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æ˜¯ï¼ŒæŠŠè§’è‰²é‡Œè°ƒç”¨æƒé™æ¨¡å—çš„æ–¹æ³•é€»è¾‘åˆ äº†ï¼Œå°±æ­£å¸¸äº†ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æ˜¯è¿™æ®µé€»è¾‘æ”¾è§’è‰²æ§åˆ¶å™¨é‡Œè°ƒç”¨å¹¶ä¸ä¼šæŠ¥é”™ã€‚&lt;/p&gt;\n&lt;p&gt;å°±å¾ˆå¥‡å¦™ï¼Œæ‰€ä»¥ï¼Œ&lt;strong&gt;è¿˜æ˜¯å¾—é¿å…ä½¿ç”¨å¾ªç¯ä¾èµ–&lt;/strong&gt;ã€‚æˆ‘æŸ¥é˜…äº†æ–‡æ¡£åæ‰å¾—çŸ¥å®˜ç½‘ä¸æ¨èè¿™ä¹ˆåšã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ€»ç»“\&quot;&gt;æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;NestJSå¼€å‘è€…ä»¬ï¼Œå¸Œæœ›ä¸è¦å’Œæˆ‘ä¸€æ ·ã€‚&lt;strong&gt;å°½é‡é¿å…å¾ªç¯ä¾èµ–å§&lt;/strong&gt;ï¼&lt;/p&gt;\n&lt;h2 id=\&quot;ç›¸å…³æˆªå›¾\&quot;&gt;ç›¸å…³æˆªå›¾&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ç›¸å…³æˆªå›¾\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_8.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;\n&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_9.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img_1.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;\n&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_10.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img_2.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æœ‰æ„Ÿè€Œå‘&quot;],&quot;text&quot;:[0,&quot;æœ‰æ„Ÿè€Œå‘&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;æ€»ç»“&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ç›¸å…³æˆªå›¾&quot;],&quot;text&quot;:[0,&quot;ç›¸å…³æˆªå›¾&quot;]}]]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/img_8.png&quot;],[0,&quot;../img/img_9.png&quot;],[0,&quot;../img/img_10.png&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;NestJså…³äºå¾ªç¯ä¾èµ–&quot;],&quot;date&quot;:[3,&quot;2023-11-15T21:21:35.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/img_8.png&quot;],[0,&quot;../img/img_9.png&quot;],[0,&quot;../img/img_10.png&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/11&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;å…³äºvue3å¦‚ä½•åˆ¤æ–­çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ äº†æ’æ§½&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;å…³äºVue3å¦‚ä½•åˆ¤æ–­çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ äº†æ’æ§½&quot;],&quot;date&quot;:[3,&quot;2023-08-03T15:20:21.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## é—®é¢˜èƒŒæ™¯\n\né¦–å…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç ã€‚\n\n![img.png](../img/img_5.png)\n\né‡è§äº†ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦åœ¨éƒ¨é—¨é€‰æ‹©çš„æ—¶å€™ï¼Œåç§°å‰é¢åŠ ä¸Šä¸€çº§éƒ¨é—¨ã€‚\n\nä½†æ˜¯ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½ç”¨åˆ°äº†è¿™ä¸ªå°è£…çš„ç»„ä»¶ã€‚å¦‚ä½•è®©è¿™ä¸ªåœ°æ–¹ä¼˜é›…çš„å¤„ç†æ‰ï¼Œåˆä¸å½±å“åˆ°åˆ«çš„åœ°æ–¹å‘¢?\n\n## è§£å†³æ€è·¯\n\næˆ‘æƒ³åˆ°äº†ä¸€ä¸ªç‚¹å­ã€‚å­ç»„ä»¶åˆ¤æ–­çˆ¶ç»„ä»¶æœ‰æ²¡æœ‰ä¼ é€’æ’æ§½ã€‚å¦‚æœä¼ äº†çš„è¯ï¼Œå°±ç»™elOptionä¼ é€’å¤„ç†é€‰æ‹©æ˜¾ç¤ºçš„æ’æ§½ã€‚\n\nç»è¿‡æˆ‘ä¸€ç•ªæŸ¥é˜…æ–‡æ¡£å’Œç™¾åº¦ï¼Œå‘ç°setupè¯­æ³•ç³–æ²¡æ³•å®ç°ã€‚åªèƒ½æ”¹æˆsetupåŠ returné‚£ç§ã€‚\n\nsetupå‡½æ•°é‡Œç¬¬äºŒä¸ªå‚æ•°ä¸­å»æ¥æ”¶slotæ’æ§½ã€‚ç„¶ååˆ©ç”¨jsxçš„çµæ´»æ€§å°±èƒ½å¤Ÿä¼˜é›…åœ°å®ç°éœ€æ±‚äº†ã€‚\n\n## ä¸ºä»€ä¹ˆä½¿ç”¨JSX\n\nä¸ºå•¥è¦ç”¨jsx?å› ä¸ºtemplateä¸­ç»™Eloptionä¼ é€’æ’æ§½æ²¡æ³•ç”¨å¯¹è±¡çš„æ–¹å¼ï¼Œåªè¦å¯¹åº”ä¸Šäº†æ’æ§½åEloptionå°±ä¼šæ¸²æŸ“ã€‚\n\n## ä»£ç å®ç°\n\nä»£ç è§ä¸‹å›¾ï¼š\n\n![img.png](../img/img_6.png)\n![img.png](../img/img_7.png)\n\n[ä»£ç è¯¦æƒ…](https://github.com/XueHua-s/personUntil/blob/main/Vue3Components/requesetEnumSearchSelect.vue)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/å…³äºVue3å¦‚ä½•åˆ¤æ–­çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ äº†æ’æ§½.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/img_5.png&quot;],[0,&quot;../img/img_6.png&quot;],[0,&quot;../img/img_7.png&quot;]]],&quot;digest&quot;:[0,&quot;92e3abb9744dc4e4&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;é—®é¢˜èƒŒæ™¯\&quot;&gt;é—®é¢˜èƒŒæ™¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é—®é¢˜èƒŒæ™¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é¦–å…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_5.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;é‡è§äº†ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦åœ¨éƒ¨é—¨é€‰æ‹©çš„æ—¶å€™ï¼Œåç§°å‰é¢åŠ ä¸Šä¸€çº§éƒ¨é—¨ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æ˜¯ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½ç”¨åˆ°äº†è¿™ä¸ªå°è£…çš„ç»„ä»¶ã€‚å¦‚ä½•è®©è¿™ä¸ªåœ°æ–¹ä¼˜é›…çš„å¤„ç†æ‰ï¼Œåˆä¸å½±å“åˆ°åˆ«çš„åœ°æ–¹å‘¢?&lt;/p&gt;\n&lt;h2 id=\&quot;è§£å†³æ€è·¯\&quot;&gt;è§£å†³æ€è·¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è§£å†³æ€è·¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;æˆ‘æƒ³åˆ°äº†ä¸€ä¸ªç‚¹å­ã€‚å­ç»„ä»¶åˆ¤æ–­çˆ¶ç»„ä»¶æœ‰æ²¡æœ‰ä¼ é€’æ’æ§½ã€‚å¦‚æœä¼ äº†çš„è¯ï¼Œå°±ç»™elOptionä¼ é€’å¤„ç†é€‰æ‹©æ˜¾ç¤ºçš„æ’æ§½ã€‚&lt;/p&gt;\n&lt;p&gt;ç»è¿‡æˆ‘ä¸€ç•ªæŸ¥é˜…æ–‡æ¡£å’Œç™¾åº¦ï¼Œå‘ç°setupè¯­æ³•ç³–æ²¡æ³•å®ç°ã€‚åªèƒ½æ”¹æˆsetupåŠ returné‚£ç§ã€‚&lt;/p&gt;\n&lt;p&gt;setupå‡½æ•°é‡Œç¬¬äºŒä¸ªå‚æ•°ä¸­å»æ¥æ”¶slotæ’æ§½ã€‚ç„¶ååˆ©ç”¨jsxçš„çµæ´»æ€§å°±èƒ½å¤Ÿä¼˜é›…åœ°å®ç°éœ€æ±‚äº†ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä¸ºä»€ä¹ˆä½¿ç”¨jsx\&quot;&gt;ä¸ºä»€ä¹ˆä½¿ç”¨JSX&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¸ºä»€ä¹ˆä½¿ç”¨jsx\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ä¸ºå•¥è¦ç”¨jsx?å› ä¸ºtemplateä¸­ç»™Eloptionä¼ é€’æ’æ§½æ²¡æ³•ç”¨å¯¹è±¡çš„æ–¹å¼ï¼Œåªè¦å¯¹åº”ä¸Šäº†æ’æ§½åEloptionå°±ä¼šæ¸²æŸ“ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä»£ç å®ç°\&quot;&gt;ä»£ç å®ç°&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä»£ç å®ç°\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ä»£ç è§ä¸‹å›¾ï¼š&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_6.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;\n&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_7.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;&lt;a href=\&quot;https://github.com/XueHua-s/personUntil/blob/main/Vue3Components/requesetEnumSearchSelect.vue\&quot;&gt;ä»£ç è¯¦æƒ…&lt;/a&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é—®é¢˜èƒŒæ™¯&quot;],&quot;text&quot;:[0,&quot;é—®é¢˜èƒŒæ™¯&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;è§£å†³æ€è·¯&quot;],&quot;text&quot;:[0,&quot;è§£å†³æ€è·¯&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä¸ºä»€ä¹ˆä½¿ç”¨jsx&quot;],&quot;text&quot;:[0,&quot;ä¸ºä»€ä¹ˆä½¿ç”¨JSX&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä»£ç å®ç°&quot;],&quot;text&quot;:[0,&quot;ä»£ç å®ç°&quot;]}]]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/img_5.png&quot;],[0,&quot;../img/img_6.png&quot;],[0,&quot;../img/img_7.png&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;å…³äºVue3å¦‚ä½•åˆ¤æ–­çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ äº†æ’æ§½&quot;],&quot;date&quot;:[3,&quot;2023-08-03T15:20:21.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/img_5.png&quot;],[0,&quot;../img/img_6.png&quot;],[0,&quot;../img/img_7.png&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/10&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;element-plusè¡¨æ ¼éšè—è¡Œæ•°åŠŸèƒ½&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;element-plusè¡¨æ ¼éšè—è¡Œæ•°åŠŸèƒ½&quot;],&quot;date&quot;:[3,&quot;2023-07-27T15:42:08.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;![emj](../img/img_1.png)\n\n## éœ€æ±‚èƒŒæ™¯\n\nå¦‚å›¾æ‰€ç¤ºï¼Œelement-plusä¸­æ‰€å¸¦çš„ï¼Œè¿™äº›æŠ˜å å±æŠ˜å è¡Œã€è¿™äº›åŠŸèƒ½å¯èƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚\n\næœ€è¿‘æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯è¡¨æ ¼å¦‚æœè¶…å‡ºäº†æŸè¡Œï¼Œéå°†å¤šä½™çš„è¡Œæ•°ç»™è¿›è¡ŒæŠ˜å ã€‚\n\né‚£ä¹ˆ,æœ‰ä»€ä¹ˆåŠæ³•èƒ½å¤Ÿç»™element-plusæ·»åŠ æ˜“äºç»´æŠ¤çš„æ‹“å±•ä»£ç å—?\n\næˆ‘ä¹Ÿè‡ªè¡Œç™¾åº¦è¿‡ä¸€ç•ªï¼Œä½†æ˜¯ç™¾åº¦ä¸Šçš„ç­”æ¡ˆï¼Œå¾ˆæ˜æ˜¾å¹¶ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚\n\nç»è¿‡æˆ‘ä¸€ç•ªæ€ç´¢ï¼Œæƒ³åˆ°äº†cssçš„åºå·é€‰æ‹©å™¨ã€‚åºå·é€‰æ‹©å™¨ä¸“é—¨å†™ä¸€ä¸ªå­å…ƒç´ è¶…è¿‡3éšè—çš„ç±»å‹åã€‚\n\n## CSSæ ·å¼å®ç°\n\næ ·å¼å¦‚ä¸‹ï¼š\n\n```css\n.el-folding &gt; tr:nth-child(n + 4) {\n    display: none;\n}\n.el-folding-line {\n    transition-duration: 200ms;\n    cursor: pointer;\n    border-bottom: 1px solid var(--el-table-border-color);\n}\n.el-folding-line:active {\n    background-color: #F5F6FB;\n}\n.el-folding-extends {\n    /*cursor: pointer;*/\n    transition-duration: 400ms;\n}\n.el-folding-extends.rotate {\n    cursor: pointer;\n    transform: rotate(180deg);\n}\n```\n\n## Vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°\n\nå¦‚ä½•è®©è¿™ä¸ªåŠŸèƒ½æ˜“äºä½¿ç”¨å’Œç»´æŠ¤ï¼Œæˆ‘è¿™é‡Œæƒ³åˆ°äº†ä½¿ç”¨vueçš„è‡ªå®šä¹‰æŒ‡ä»¤ï¼š\n\n```javascript\n// element-tableæŠ˜å æŒ‡ä»¤\napp.directive(&#39;elfold&#39;, (el, binding) =&gt; {\n  const elBody = el.querySelector(\&quot;.el-table__body&gt;tbody\&quot;)\n  const elBodyC = elBody.children\n  if (elBodyC.length &gt; 3) {\n    // ç»™è¡¨æ ¼æ·»åŠ åªå±•ç¤ºä¸‰è¡Œçš„ç±»å\n    if (el.querySelector(&#39;.rotate&#39;)) {\n      elBody.classList.remove(&#39;el-folding&#39;)\n    } else {\n      elBody.classList.add(&#39;el-folding&#39;)\n    }\n    // åˆ¤æ–­æœ‰æ²¡æœ‰åˆ›å»ºè¿‡é¢æ¿\n    const foldingLine = el.querySelector(&#39;.el-folding-line&#39;)\n    if (foldingLine) {\n      if (el?.removeElement) {\n        el.removeElement(foldingLine)\n      }\n    }\n    if (!foldingLine) {\n      // åˆ›å»ºæŠ˜å é¢æ¿å…ƒç´ \n      const extendsTop = document.createElement(&#39;div&#39;)\n      extendsTop.className = \&quot;flex-ct p5 el-folding-line\&quot;\n      const extendsTopButton = document.createElement(&#39;i&#39;)\n      extendsTopButton.className = \&quot;fa fa-angle-down el-folding-extends\&quot;\n      extendsTopButton.style.fontSize = \&quot;30px\&quot;\n      extendsTop.append(extendsTopButton)\n      el.append(extendsTop)\n      // æ§åˆ¶å˜é‡\n      let controller = true\n      extendsTop.addEventListener(&#39;click&#39;, () =&gt; {\n        if (controller) {\n          extendsTopButton.classList.add(&#39;rotate&#39;)\n          elBody.classList.remove(&#39;el-folding&#39;)\n        } else {\n          extendsTopButton.classList.remove(&#39;rotate&#39;)\n          elBody.classList.add(&#39;el-folding&#39;)\n        }\n        controller = !controller\n      })\n    }\n  } else {\n    elBody.classList.remove(&#39;el-folding&#39;)\n  }\n})\n```\n\n## æ•ˆæœå±•ç¤º\n\nè¯ºï¼Œæœ€åçš„æ•ˆæœå°±å¦‚å›¾æ‰€ç¤ºäº†ã€‚\n\n![emj](../img/img_2.png)\n![emj](../img/img_3.png)\n![emj](../img/img_4.png)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/element-plusè¡¨æ ¼éšè—è¡Œæ•°åŠŸèƒ½.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/img_1.png&quot;],[0,&quot;../img/img_2.png&quot;],[0,&quot;../img/img_3.png&quot;],[0,&quot;../img/img_4.png&quot;]]],&quot;digest&quot;:[0,&quot;14e29c90a34dbd86&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_1.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;\n&lt;h2 id=\&quot;éœ€æ±‚èƒŒæ™¯\&quot;&gt;éœ€æ±‚èƒŒæ™¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#éœ€æ±‚èƒŒæ™¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å¦‚å›¾æ‰€ç¤ºï¼Œelement-plusä¸­æ‰€å¸¦çš„ï¼Œè¿™äº›æŠ˜å å±æŠ˜å è¡Œã€è¿™äº›åŠŸèƒ½å¯èƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚&lt;/p&gt;\n&lt;p&gt;æœ€è¿‘æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯è¡¨æ ¼å¦‚æœè¶…å‡ºäº†æŸè¡Œï¼Œéå°†å¤šä½™çš„è¡Œæ•°ç»™è¿›è¡ŒæŠ˜å ã€‚&lt;/p&gt;\n&lt;p&gt;é‚£ä¹ˆ,æœ‰ä»€ä¹ˆåŠæ³•èƒ½å¤Ÿç»™element-plusæ·»åŠ æ˜“äºç»´æŠ¤çš„æ‹“å±•ä»£ç å—?&lt;/p&gt;\n&lt;p&gt;æˆ‘ä¹Ÿè‡ªè¡Œç™¾åº¦è¿‡ä¸€ç•ªï¼Œä½†æ˜¯ç™¾åº¦ä¸Šçš„ç­”æ¡ˆï¼Œå¾ˆæ˜æ˜¾å¹¶ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚&lt;/p&gt;\n&lt;p&gt;ç»è¿‡æˆ‘ä¸€ç•ªæ€ç´¢ï¼Œæƒ³åˆ°äº†cssçš„åºå·é€‰æ‹©å™¨ã€‚åºå·é€‰æ‹©å™¨ä¸“é—¨å†™ä¸€ä¸ªå­å…ƒç´ è¶…è¿‡3éšè—çš„ç±»å‹åã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;cssæ ·å¼å®ç°\&quot;&gt;CSSæ ·å¼å®ç°&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#cssæ ·å¼å®ç°\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;æ ·å¼å¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;css\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;.el-folding&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; &gt;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt; tr&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;:nth-child&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;n + 4&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    display&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;none&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;.el-folding-line&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    transition-duration&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;200&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;ms&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    cursor&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;pointer&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    border-bottom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;px&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; solid&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; var&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;--el-table-border-color&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;.el-folding-line:active&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    background-color&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;#F5F6FB&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;.el-folding-extends&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    /*cursor: pointer;*/&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    transition-duration&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;400&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;ms&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;.el-folding-extends.rotate&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    cursor&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;pointer&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    transform&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;rotate&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;180&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;deg&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°\&quot;&gt;Vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å¦‚ä½•è®©è¿™ä¸ªåŠŸèƒ½æ˜“äºä½¿ç”¨å’Œç»´æŠ¤ï¼Œæˆ‘è¿™é‡Œæƒ³åˆ°äº†ä½¿ç”¨vueçš„è‡ªå®šä¹‰æŒ‡ä»¤ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// element-tableæŠ˜å æŒ‡ä»¤&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;directive&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;elfold&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, (&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;el&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;binding&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; elBody&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; el.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;querySelector&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;.el-table__body&gt;tbody\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; elBodyC&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; elBody.children&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (elBodyC.&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; &gt;&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 3&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // ç»™è¡¨æ ¼æ·»åŠ åªå±•ç¤ºä¸‰è¡Œçš„ç±»å&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (el.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;querySelector&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;.rotate&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      elBody.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;remove&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;el-folding&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      elBody.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;el-folding&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // åˆ¤æ–­æœ‰æ²¡æœ‰åˆ›å»ºè¿‡é¢æ¿&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; foldingLine&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; el.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;querySelector&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;.el-folding-line&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (foldingLine) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (el?.removeElement) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        el.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;removeElement&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(foldingLine)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;foldingLine) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;      // åˆ›å»ºæŠ˜å é¢æ¿å…ƒç´ &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; extendsTop&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; document.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;createElement&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;div&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      extendsTop.className &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; \&quot;flex-ct p5 el-folding-line\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; extendsTopButton&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; document.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;createElement&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;i&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      extendsTopButton.className &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; \&quot;fa fa-angle-down el-folding-extends\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      extendsTopButton.style.fontSize &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; \&quot;30px\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      extendsTop.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;append&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(extendsTopButton)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      el.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;append&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(extendsTop)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;      // æ§åˆ¶å˜é‡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; controller &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; true&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      extendsTop.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;addEventListener&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;click&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (controller) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;          extendsTopButton.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;rotate&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;          elBody.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;remove&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;el-folding&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;          extendsTopButton.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;remove&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;rotate&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;          elBody.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;el-folding&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        controller &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; !&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;controller&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      })&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    elBody.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;remove&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;el-folding&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;})&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;æ•ˆæœå±•ç¤º\&quot;&gt;æ•ˆæœå±•ç¤º&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ•ˆæœå±•ç¤º\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è¯ºï¼Œæœ€åçš„æ•ˆæœå°±å¦‚å›¾æ‰€ç¤ºäº†ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_2.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;\n&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_3.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;\n&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_4.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;éœ€æ±‚èƒŒæ™¯&quot;],&quot;text&quot;:[0,&quot;éœ€æ±‚èƒŒæ™¯&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;cssæ ·å¼å®ç°&quot;],&quot;text&quot;:[0,&quot;CSSæ ·å¼å®ç°&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°&quot;],&quot;text&quot;:[0,&quot;Vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ•ˆæœå±•ç¤º&quot;],&quot;text&quot;:[0,&quot;æ•ˆæœå±•ç¤º&quot;]}]]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/img_1.png&quot;],[0,&quot;../img/img_2.png&quot;],[0,&quot;../img/img_3.png&quot;],[0,&quot;../img/img_4.png&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;element-plusè¡¨æ ¼éšè—è¡Œæ•°åŠŸèƒ½&quot;],&quot;date&quot;:[3,&quot;2023-07-27T15:42:08.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/img_1.png&quot;],[0,&quot;../img/img_2.png&quot;],[0,&quot;../img/img_3.png&quot;],[0,&quot;../img/img_4.png&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/9&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;å‰ç«¯é“¾è¡¨è¿ç”¨åœºæ™¯&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;å‰ç«¯é“¾è¡¨è¿ç”¨åœºæ™¯&quot;],&quot;date&quot;:[3,&quot;2023-06-24T13:55:42.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜\n\nçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š\n\n```javascript\nconst arr = [1, 2, 3, 4, 5]\narr.unshift(0)\n```\n\næ¯”å¦‚åƒä¸Šé¢é‚£ä¸¤è¡Œä»£ç , å¤§å®¶éƒ½çŸ¥é“æ•°ç»„æ˜¯æœ‰ä¸‹æ ‡çš„ã€‚\n\nå¦‚æœå¾€è¾“å…¥å‰é¢æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåé¢çš„æ‰€æœ‰å…ƒç´ ä¸‹æ ‡æ•´ä½“éƒ½æ˜¯ä¼šå¾€åç§»åŠ¨çš„ã€‚è¿™ä¸ªæ•°ç»„çš„ä¸‹æ ‡ç§»åŠ¨ï¼Œä¸€æ—¦æ•°æ®é‡è¿‡å¤šçš„è¯ï¼Œå°±ä¼šé€ æˆå¾ˆä¸¥é‡çš„æ€§èƒ½æŸè€—ã€‚\n\n## å®é™…åº”ç”¨åœºæ™¯\n\n### åœºæ™¯ä¸€ï¼šç‰©è”ç½‘é¡¹ç›®\n\nä¾‹å¦‚: ç‰©è”ç½‘é¡¹ç›®ï¼Œä¸€ä¸ªè®¾å¤‡çš„æ¨¡æ¿ï¼Œæ•°æ®é‡å¤§çš„å¯èƒ½æœ‰å‡ åƒä¸ªå‚æ•°ã€‚å¦‚æœæŠŠç¬¬ä¸€ä¸ªåˆ é™¤åˆ é™¤äº†ï¼Œåé¢ææ€–çš„æ•°æ®é‡çš„ä¸‹æ ‡å‰ç§»ï¼Œä¼šç»™é¡µé¢é€ æˆå¤§æ¦‚ä¸€ç§’é’Ÿçš„å¡é¡¿æ„Ÿã€‚\n\n### åœºæ™¯äºŒï¼šæ»‘åŠ¨åŠ è½½é¡µé¢\n\nå†æ¯”å¦‚ä¸€äº›æ»‘åŠ¨åŠ è½½çš„é¡µé¢ï¼Œé‚£ä¸ªé¡µé¢è¿˜å…·æœ‰ï¼Œè‡ªå·±çš„æ–‡ç« èƒ½å³æ»‘åˆ é™¤çš„åŠŸèƒ½ã€‚\n\nå¦‚æœå­˜æ”¾æ–‡ç« çš„æ•°æ®åˆ°è¾¾äº†ä¸€å®šæ•°é‡ï¼Œç”¨æˆ·å†åˆ é™¤æ–‡ç« ï¼Œå¦‚æœæˆ‘ä»¬é‡æ–°è¯·æ±‚æ¥å£ï¼ŒåŠ è½½åˆ—è¡¨ã€‚è¿™æ ·æ˜¾ç„¶ï¼Œç”¨æˆ·çš„ä½“éªŒæ˜¯æ›´ä¸å¥½çš„ã€‚ä¸€èˆ¬åœ¨æ¥å£è¯·æ±‚åˆ é™¤æˆåŠŸåï¼Œå¯¹æœ¬åœ°çš„é‚£ä¸ªæ–‡ç« åœ¨è¿›è¡Œåˆ é™¤ã€‚ä½†æ˜¯ï¼Œæ˜¾ç„¶æœ‰æ—¶å€™ä¹Ÿä¼šé€ æˆä¸å¥½çš„ä½“éªŒã€‚\n\n## è§£å†³æ–¹æ¡ˆ\n\nè¿™ä¸ªæ—¶å€™é“¾è¡¨è¿™ç§æ•°æ®ç»“æ„, å†é…åˆä¸Šes6çš„è¿­ä»£å™¨å°±å¾ˆåˆé€‚äº†ã€‚\n\nä»£ç è§ä»¥ä¸‹é“¾æ¥ï¼š\n\n[åŒç«¯å¾ªç¯é“¾è¡¨](https://github.com/XueHua-s/adt-customer/blob/main/link.js)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/å‰ç«¯é“¾è¡¨è¿ç”¨åœºæ™¯.md&quot;],&quot;digest&quot;:[0,&quot;a8a12636b257714c&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜\&quot;&gt;æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; arr&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;3&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;4&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;5&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;]&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;arr.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;unshift&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ¯”å¦‚åƒä¸Šé¢é‚£ä¸¤è¡Œä»£ç , å¤§å®¶éƒ½çŸ¥é“æ•°ç»„æ˜¯æœ‰ä¸‹æ ‡çš„ã€‚&lt;/p&gt;\n&lt;p&gt;å¦‚æœå¾€è¾“å…¥å‰é¢æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåé¢çš„æ‰€æœ‰å…ƒç´ ä¸‹æ ‡æ•´ä½“éƒ½æ˜¯ä¼šå¾€åç§»åŠ¨çš„ã€‚è¿™ä¸ªæ•°ç»„çš„ä¸‹æ ‡ç§»åŠ¨ï¼Œä¸€æ—¦æ•°æ®é‡è¿‡å¤šçš„è¯ï¼Œå°±ä¼šé€ æˆå¾ˆä¸¥é‡çš„æ€§èƒ½æŸè€—ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;å®é™…åº”ç”¨åœºæ™¯\&quot;&gt;å®é™…åº”ç”¨åœºæ™¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®é™…åº”ç”¨åœºæ™¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;åœºæ™¯ä¸€ç‰©è”ç½‘é¡¹ç›®\&quot;&gt;åœºæ™¯ä¸€ï¼šç‰©è”ç½‘é¡¹ç›®&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#åœºæ™¯ä¸€ç‰©è”ç½‘é¡¹ç›®\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;ä¾‹å¦‚: ç‰©è”ç½‘é¡¹ç›®ï¼Œä¸€ä¸ªè®¾å¤‡çš„æ¨¡æ¿ï¼Œæ•°æ®é‡å¤§çš„å¯èƒ½æœ‰å‡ åƒä¸ªå‚æ•°ã€‚å¦‚æœæŠŠç¬¬ä¸€ä¸ªåˆ é™¤åˆ é™¤äº†ï¼Œåé¢ææ€–çš„æ•°æ®é‡çš„ä¸‹æ ‡å‰ç§»ï¼Œä¼šç»™é¡µé¢é€ æˆå¤§æ¦‚ä¸€ç§’é’Ÿçš„å¡é¡¿æ„Ÿã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;åœºæ™¯äºŒæ»‘åŠ¨åŠ è½½é¡µé¢\&quot;&gt;åœºæ™¯äºŒï¼šæ»‘åŠ¨åŠ è½½é¡µé¢&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#åœºæ™¯äºŒæ»‘åŠ¨åŠ è½½é¡µé¢\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å†æ¯”å¦‚ä¸€äº›æ»‘åŠ¨åŠ è½½çš„é¡µé¢ï¼Œé‚£ä¸ªé¡µé¢è¿˜å…·æœ‰ï¼Œè‡ªå·±çš„æ–‡ç« èƒ½å³æ»‘åˆ é™¤çš„åŠŸèƒ½ã€‚&lt;/p&gt;\n&lt;p&gt;å¦‚æœå­˜æ”¾æ–‡ç« çš„æ•°æ®åˆ°è¾¾äº†ä¸€å®šæ•°é‡ï¼Œç”¨æˆ·å†åˆ é™¤æ–‡ç« ï¼Œå¦‚æœæˆ‘ä»¬é‡æ–°è¯·æ±‚æ¥å£ï¼ŒåŠ è½½åˆ—è¡¨ã€‚è¿™æ ·æ˜¾ç„¶ï¼Œç”¨æˆ·çš„ä½“éªŒæ˜¯æ›´ä¸å¥½çš„ã€‚ä¸€èˆ¬åœ¨æ¥å£è¯·æ±‚åˆ é™¤æˆåŠŸåï¼Œå¯¹æœ¬åœ°çš„é‚£ä¸ªæ–‡ç« åœ¨è¿›è¡Œåˆ é™¤ã€‚ä½†æ˜¯ï¼Œæ˜¾ç„¶æœ‰æ—¶å€™ä¹Ÿä¼šé€ æˆä¸å¥½çš„ä½“éªŒã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;è§£å†³æ–¹æ¡ˆ\&quot;&gt;è§£å†³æ–¹æ¡ˆ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è§£å†³æ–¹æ¡ˆ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è¿™ä¸ªæ—¶å€™é“¾è¡¨è¿™ç§æ•°æ®ç»“æ„, å†é…åˆä¸Šes6çš„è¿­ä»£å™¨å°±å¾ˆåˆé€‚äº†ã€‚&lt;/p&gt;\n&lt;p&gt;ä»£ç è§ä»¥ä¸‹é“¾æ¥ï¼š&lt;/p&gt;\n&lt;p&gt;&lt;a href=\&quot;https://github.com/XueHua-s/adt-customer/blob/main/link.js\&quot;&gt;åŒç«¯å¾ªç¯é“¾è¡¨&lt;/a&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜&quot;],&quot;text&quot;:[0,&quot;æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å®é™…åº”ç”¨åœºæ™¯&quot;],&quot;text&quot;:[0,&quot;å®é™…åº”ç”¨åœºæ™¯&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;åœºæ™¯ä¸€ç‰©è”ç½‘é¡¹ç›®&quot;],&quot;text&quot;:[0,&quot;åœºæ™¯ä¸€ï¼šç‰©è”ç½‘é¡¹ç›®&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;åœºæ™¯äºŒæ»‘åŠ¨åŠ è½½é¡µé¢&quot;],&quot;text&quot;:[0,&quot;åœºæ™¯äºŒï¼šæ»‘åŠ¨åŠ è½½é¡µé¢&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;è§£å†³æ–¹æ¡ˆ&quot;],&quot;text&quot;:[0,&quot;è§£å†³æ–¹æ¡ˆ&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;å‰ç«¯é“¾è¡¨è¿ç”¨åœºæ™¯&quot;],&quot;date&quot;:[3,&quot;2023-06-24T13:55:42.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/8&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;å…³äºå‰ç«¯æ•°æ®åº“indexdb&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;å…³äºå‰ç«¯æ•°æ®åº“indexDB&quot;],&quot;date&quot;:[3,&quot;2023-06-23T14:25:11.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## ä¸ºä»€ä¹ˆéœ€è¦IndexDB\n\nå‰ç«¯åŠ è½½æŸäº›è¿‡å¤§çš„é™æ€æ–‡ä»¶ï¼Œè€Œä¸”è¿˜æ˜¯æ— æ³•è¢«æµè§ˆå™¨ç¼“å­˜çš„èµ„æºæ—¶ã€‚æ¯æ¬¡éƒ½è¦æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚\n\næ¯”å¦‚three.jséœ€è¦ä½¿ç”¨çš„å»ºæ¨¡æ–‡ä»¶ã€‚å¦‚æœåªæœ‰å‡ åkbï¼Œå‡ MBçš„è¯å€’è¿˜å¥½ã€‚å¦‚æœæ¨¡å‹æ–‡ä»¶åå¤šMï¼Œç”šè‡³æ˜¯å‡ ç™¾å¤šMçš„è¯ã€‚æ¯æ¬¡å…³é—­ç½‘é¡µå†é‡æ–°æ‰“å¼€ï¼Œå°±åˆé‡æ–°åŠ è½½ä¸€éã€‚é•¿æ—¶é—´çš„é‡å¤ç­‰å¾…å®åœ¨æ˜¯å€’äººèƒƒå£ã€‚\n\nè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨indexDBå°†è¿™äº›å¤§å‹æ–‡ä»¶å­˜èµ·æ¥ã€‚é¿å…é‡å¤åŠ è½½è¿™äº›èµ„æºï¼Œè€Œå€’äººèƒƒå£ã€‚\n\n## ä½¿ç”¨ä½“éªŒ\n\nå…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è‡ªå·±é’»ç ”äº†ä¸€ä¸‹ï¼Œå¹¶ä¸”å°è£…äº†ä¸€ä¸ªæ“ä½œIndexDBçš„æ–¹æ³•(è¯¦æƒ…è§æ–‡ç« ä¸‹é“¾æ¥)ã€‚\n\næœ‰ä¸€è¯´ä¸€ï¼Œè¿™ä¸ªä¸œè¥¿æ¯”MongoDBéš¾ç”¨ã€‚ä¸èƒ½å¤Ÿç›´æ¥æ–°å»ºè¡¨ï¼Œå¿…é¡»æ¯æ¬¡åœ¨å‡çº§æ•°æ®ç‰ˆæœ¬çš„æ—¶å€™ï¼Œè§¦å‘çš„å‘¨æœŸé‡Œæ‰èƒ½å»æ–°å»ºã€‚å®åœ¨æ˜¯ï¼Œå¤ªéš¾å—äº†ã€‚\n\n![emj](../img/src=http___img.nga.178.com_attachments_mon_202206_26_i2Q2q-8ns4Z1vT3cSwi-wi.jpg&amp;refer=http___img.nga.178.webp)\n\n## ç›¸å…³èµ„æº\n\n[IndexDBä½¿ç”¨æ–¹æ³•](https://github.com/XueHua-s/personUntil/blob/main/indexDB.js)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/å…³äºå‰ç«¯æ•°æ®åº“indexDB.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/src=http___img.nga.178.com_attachments_mon_202206_26_i2Q2q-8ns4Z1vT3cSwi-wi.jpg&amp;refer=http___img.nga.178.webp&quot;]]],&quot;digest&quot;:[0,&quot;71fd74995e3a8bc9&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;ä¸ºä»€ä¹ˆéœ€è¦indexdb\&quot;&gt;ä¸ºä»€ä¹ˆéœ€è¦IndexDB&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¸ºä»€ä¹ˆéœ€è¦indexdb\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å‰ç«¯åŠ è½½æŸäº›è¿‡å¤§çš„é™æ€æ–‡ä»¶ï¼Œè€Œä¸”è¿˜æ˜¯æ— æ³•è¢«æµè§ˆå™¨ç¼“å­˜çš„èµ„æºæ—¶ã€‚æ¯æ¬¡éƒ½è¦æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚&lt;/p&gt;\n&lt;p&gt;æ¯”å¦‚three.jséœ€è¦ä½¿ç”¨çš„å»ºæ¨¡æ–‡ä»¶ã€‚å¦‚æœåªæœ‰å‡ åkbï¼Œå‡ MBçš„è¯å€’è¿˜å¥½ã€‚å¦‚æœæ¨¡å‹æ–‡ä»¶åå¤šMï¼Œç”šè‡³æ˜¯å‡ ç™¾å¤šMçš„è¯ã€‚æ¯æ¬¡å…³é—­ç½‘é¡µå†é‡æ–°æ‰“å¼€ï¼Œå°±åˆé‡æ–°åŠ è½½ä¸€éã€‚é•¿æ—¶é—´çš„é‡å¤ç­‰å¾…å®åœ¨æ˜¯å€’äººèƒƒå£ã€‚&lt;/p&gt;\n&lt;p&gt;è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨indexDBå°†è¿™äº›å¤§å‹æ–‡ä»¶å­˜èµ·æ¥ã€‚é¿å…é‡å¤åŠ è½½è¿™äº›èµ„æºï¼Œè€Œå€’äººèƒƒå£ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä½¿ç”¨ä½“éªŒ\&quot;&gt;ä½¿ç”¨ä½“éªŒ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä½¿ç”¨ä½“éªŒ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è‡ªå·±é’»ç ”äº†ä¸€ä¸‹ï¼Œå¹¶ä¸”å°è£…äº†ä¸€ä¸ªæ“ä½œIndexDBçš„æ–¹æ³•(è¯¦æƒ…è§æ–‡ç« ä¸‹é“¾æ¥)ã€‚&lt;/p&gt;\n&lt;p&gt;æœ‰ä¸€è¯´ä¸€ï¼Œè¿™ä¸ªä¸œè¥¿æ¯”MongoDBéš¾ç”¨ã€‚ä¸èƒ½å¤Ÿç›´æ¥æ–°å»ºè¡¨ï¼Œå¿…é¡»æ¯æ¬¡åœ¨å‡çº§æ•°æ®ç‰ˆæœ¬çš„æ—¶å€™ï¼Œè§¦å‘çš„å‘¨æœŸé‡Œæ‰èƒ½å»æ–°å»ºã€‚å®åœ¨æ˜¯ï¼Œå¤ªéš¾å—äº†ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/src=http___img.nga.178.com_attachments_mon_202206_26_i2Q2q-8ns4Z1vT3cSwi-wi.jpg&amp;#x26;refer=http___img.nga.178.webp&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;\n&lt;h2 id=\&quot;ç›¸å…³èµ„æº\&quot;&gt;ç›¸å…³èµ„æº&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ç›¸å…³èµ„æº\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;&lt;a href=\&quot;https://github.com/XueHua-s/personUntil/blob/main/indexDB.js\&quot;&gt;IndexDBä½¿ç”¨æ–¹æ³•&lt;/a&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä¸ºä»€ä¹ˆéœ€è¦indexdb&quot;],&quot;text&quot;:[0,&quot;ä¸ºä»€ä¹ˆéœ€è¦IndexDB&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä½¿ç”¨ä½“éªŒ&quot;],&quot;text&quot;:[0,&quot;ä½¿ç”¨ä½“éªŒ&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ç›¸å…³èµ„æº&quot;],&quot;text&quot;:[0,&quot;ç›¸å…³èµ„æº&quot;]}]]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/src=http___img.nga.178.com_attachments_mon_202206_26_i2Q2q-8ns4Z1vT3cSwi-wi.jpg&amp;refer=http___img.nga.178.webp&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;å…³äºå‰ç«¯æ•°æ®åº“indexDB&quot;],&quot;date&quot;:[3,&quot;2023-06-23T14:25:11.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/src=http___img.nga.178.com_attachments_mon_202206_26_i2Q2q-8ns4Z1vT3cSwi-wi.jpg&amp;refer=http___img.nga.178.webp&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/7&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;è¡¨æ ¼æ‹–æ‹½æ–¹æ³•æ‰‹å†™&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;è¡¨æ ¼æ‹–æ‹½æ–¹æ³•æ‰‹å†™&quot;],&quot;date&quot;:[3,&quot;2023-06-22T21:31:40.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## é¡¹ç›®éœ€æ±‚\n\nè¿™å‡ å¤©å…¬å¸åšä¸€ä¸ªé¡¹ç›®ï¼Œé‡è§äº†ä¸€ä¸ªéœ€è¦æ‹–æ‹½è¡¨æ ¼é¡ºåºçš„é¡¹ç›®ã€‚\n\nä½†æ˜¯UIç”¨çš„åˆæ˜¯elementã€‚æ˜¯æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½çš„ï¼Œæ‰€ä»¥è‡ªå·±å°±æ‰‹å†™äº†ä¸€ä¸ªæ’ä»¶ã€‚\n\nå‘åœ¨äº†githubä¸Šé¢ã€‚å¦‚æœæœ‰éœ€è¦ç”¨åˆ°çš„æœ‹å‹å¯ä»¥ç§»æ­¥ä¸‹é¢ã€‚\n\n## ä»£ç åœ°å€\n\n&lt;a href=\&quot;https://github.com/XueHua-s/personUntil/blob/main/elementTableDrap.js\&quot; target=\&quot;_blank\&quot;&gt;\næ‰“å¼€githubé“¾æ¥\n&lt;/a&gt;&quot;],&quot;filePath&quot;:[0,&quot;source/posts/è¡¨æ ¼æ‹–æ‹½æ–¹æ³•æ‰‹å†™.md&quot;],&quot;digest&quot;:[0,&quot;187f30350c33ca9b&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;é¡¹ç›®éœ€æ±‚\&quot;&gt;é¡¹ç›®éœ€æ±‚&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é¡¹ç›®éœ€æ±‚\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è¿™å‡ å¤©å…¬å¸åšä¸€ä¸ªé¡¹ç›®ï¼Œé‡è§äº†ä¸€ä¸ªéœ€è¦æ‹–æ‹½è¡¨æ ¼é¡ºåºçš„é¡¹ç›®ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æ˜¯UIç”¨çš„åˆæ˜¯elementã€‚æ˜¯æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½çš„ï¼Œæ‰€ä»¥è‡ªå·±å°±æ‰‹å†™äº†ä¸€ä¸ªæ’ä»¶ã€‚&lt;/p&gt;\n&lt;p&gt;å‘åœ¨äº†githubä¸Šé¢ã€‚å¦‚æœæœ‰éœ€è¦ç”¨åˆ°çš„æœ‹å‹å¯ä»¥ç§»æ­¥ä¸‹é¢ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä»£ç åœ°å€\&quot;&gt;ä»£ç åœ°å€&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä»£ç åœ°å€\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;a href=\&quot;https://github.com/XueHua-s/personUntil/blob/main/elementTableDrap.js\&quot; target=\&quot;_blank\&quot;&gt;\næ‰“å¼€githubé“¾æ¥\n&lt;/a&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é¡¹ç›®éœ€æ±‚&quot;],&quot;text&quot;:[0,&quot;é¡¹ç›®éœ€æ±‚&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä»£ç åœ°å€&quot;],&quot;text&quot;:[0,&quot;ä»£ç åœ°å€&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;layout&quot;:[0,&quot;element&quot;],&quot;title&quot;:[0,&quot;è¡¨æ ¼æ‹–æ‹½æ–¹æ³•æ‰‹å†™&quot;],&quot;date&quot;:[3,&quot;2023-06-22T21:31:40.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/6&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;jså¾ªç¯ä¾èµ–å¯¹è±¡æ·±æ‹·è´&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;jså¾ªç¯ä¾èµ–å¯¹è±¡æ·±æ‹·è´&quot;],&quot;date&quot;:[3,&quot;2023-03-07T13:37:26.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## å¾ªç¯ä¾èµ–ç¤ºä¾‹\n\n```javascript\nlet a = {}\nlet b = { a }\na.b = b\n```\n\n## ç»éªŒåˆ†äº«\n\nè¿™æ ·çš„å¾ªç¯ä¾èµ–çš„å¯¹è±¡ï¼Œéœ€è¦æ¯æ¬¡é€’å½’çš„æ—¶å€™ä¿ç•™ä¸Šä¸€æ¬¡é€’å½’çš„å±‚çº§ã€‚\nå¹¶åˆ¤æ–­è¿™æ¬¡é€’å½’çš„å†…å®¹ä¸­ï¼Œæœ‰æ²¡æœ‰ä¸Šä¸€æ¬¡çš„å†…å®¹ã€‚\nå¦‚æœæœ‰çš„è¯ï¼Œå°±ç›´æ¥è¿”å›ä¸Šä¸€æ¬¡çš„å†…å®¹å°±è¡Œäº†ã€‚ä¸­æ–­äº†é€’å½’ã€‚\n\n## ä»£ç å®ç°\n\n```javascript\n/**\n * @param { object } obj\n * @returns { object }\n */\nconst deepCopy = (obj, stack = []) =&gt; {\n  let target = null\n  if (typeof obj === &#39;object&#39;) {\n    if(stack.includes(obj)) {\n      return obj\n    } else {\n      stack.push(obj)\n    }\n    if (Array.isArray(obj)) {\n      target = []\n      obj.forEach(item =&gt; {\n        target.push(deepCopy(item, stack))\n      })\n    } else if (obj) {\n      target = {}\n      for (const [key, value] of Object.entries(obj)) {\n        target[key] = deepCopy(obj[key], stack)\n      }\n    } else {\n      target = obj\n    }\n  } else {\n    target = obj\n  }\n  return target\n}\nexport default deepCopy\n```&quot;],&quot;filePath&quot;:[0,&quot;source/posts/jså¾ªç¯ä¾èµ–å¯¹è±¡æ·±æ‹·è´.md&quot;],&quot;digest&quot;:[0,&quot;da127793cf375128&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;å¾ªç¯ä¾èµ–ç¤ºä¾‹\&quot;&gt;å¾ªç¯ä¾èµ–ç¤ºä¾‹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å¾ªç¯ä¾èµ–ç¤ºä¾‹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; a &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; b &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { a }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;a.b &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; b&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;ç»éªŒåˆ†äº«\&quot;&gt;ç»éªŒåˆ†äº«&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ç»éªŒåˆ†äº«\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è¿™æ ·çš„å¾ªç¯ä¾èµ–çš„å¯¹è±¡ï¼Œéœ€è¦æ¯æ¬¡é€’å½’çš„æ—¶å€™ä¿ç•™ä¸Šä¸€æ¬¡é€’å½’çš„å±‚çº§ã€‚\nå¹¶åˆ¤æ–­è¿™æ¬¡é€’å½’çš„å†…å®¹ä¸­ï¼Œæœ‰æ²¡æœ‰ä¸Šä¸€æ¬¡çš„å†…å®¹ã€‚\nå¦‚æœæœ‰çš„è¯ï¼Œå°±ç›´æ¥è¿”å›ä¸Šä¸€æ¬¡çš„å†…å®¹å°±è¡Œäº†ã€‚ä¸­æ–­äº†é€’å½’ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä»£ç å®ç°\&quot;&gt;ä»£ç å®ç°&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä»£ç å®ç°\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; * &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;@param&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; { object }&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; * &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;@returns&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; { object }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; */&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;obj&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;stack&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; []) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; null&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;typeof&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;object&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(stack.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;includes&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      stack.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (Array.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;isArray&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; []&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      obj.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;forEach&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;item&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        target.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(item, stack))&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      })&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (obj) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      for&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;key&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;value&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;of&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; Object.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;entries&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        target[key] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj[key], stack)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; target&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; default&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; deepCopy&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å¾ªç¯ä¾èµ–ç¤ºä¾‹&quot;],&quot;text&quot;:[0,&quot;å¾ªç¯ä¾èµ–ç¤ºä¾‹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ç»éªŒåˆ†äº«&quot;],&quot;text&quot;:[0,&quot;ç»éªŒåˆ†äº«&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä»£ç å®ç°&quot;],&quot;text&quot;:[0,&quot;ä»£ç å®ç°&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;jså¾ªç¯ä¾èµ–å¯¹è±¡æ·±æ‹·è´&quot;],&quot;date&quot;:[3,&quot;2023-03-07T13:37:26.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/5&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;jså¯¹è±¡æ•°ç»„æ·±æ‹·è´&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;JSå¯¹è±¡æ•°ç»„æ·±æ‹·è´&quot;],&quot;date&quot;:[3,&quot;2023-02-08T21:52:20.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;```javascript\n/**\n * @param { object } obj\n * @returns { object }\n */\nconst deepCopy = (obj) =&gt; {\n  let target = null\n  if (typeof obj === &#39;object&#39;) {\n    if (Array.isArray(obj)) {\n      target = []\n      obj.forEach(item =&gt; {\n        target.push(deepCopy(item))\n      })\n    } else if (obj) {\n      target = {}\n      for (const [key, value] of Object.entries(obj)) {\n        target[key] = deepCopy(obj[key])\n      }\n    } else {\n      target = obj\n    }\n  } else {\n    target = obj\n  }\n  return target\n}\n```&quot;],&quot;filePath&quot;:[0,&quot;source/posts/JSå¯¹è±¡æ•°ç»„æ·±æ‹·è´.md&quot;],&quot;digest&quot;:[0,&quot;81324560e5f70a7f&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; * &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;@param&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; { object }&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; * &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;@returns&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; { object }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; */&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;obj&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; null&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;typeof&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;object&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (Array.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;isArray&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; []&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      obj.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;forEach&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;item&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        target.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(item))&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      })&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (obj) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      for&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;key&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;value&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;of&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; Object.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;entries&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        target[key] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj[key])&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; target&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;JSå¯¹è±¡æ•°ç»„æ·±æ‹·è´&quot;],&quot;date&quot;:[3,&quot;2023-02-08T21:52:20.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/4&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;cenos-7-6æ­å»ºpptpæœåŠ¡&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;CenOS-7.6æ­å»ºpptpæœåŠ¡&quot;],&quot;date&quot;:[3,&quot;2023-02-05T10:36:58.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## å‚è€ƒæ•™ç¨‹\n\n&lt;a href=\&quot;https://help.aliyun.com/document_detail/41345.html\&quot; target=\&quot;_blank\&quot;&gt;è§é˜¿é‡Œäº‘æ•™ç¨‹&lt;/a&gt;\n\n## é˜²ç«å¢™é…ç½®é—®é¢˜\n\næŒ‰ç…§é˜¿é‡Œäº‘æ­¥éª¤èµ°å®Œï¼Œå¦‚æœæé†’è¿œç¨‹è¿æ¥è®¡ç®—æœºç«¯å£å·²å…³é—­çš„è¯ã€‚å¯èƒ½æ˜¯æ²¡å¼€æ”¾ç«¯å£ã€‚\n\néœ€è¦æ›´æ”¹é˜²ç«å¢™çš„ç­–ç•¥ã€‚\n\n```bash\n# æŸ¥çœ‹é˜²ç«å¢™å½“å‰é…ç½®\niptables -L -n\n\n# å…è®¸æ‰€æœ‰è¯·æ±‚\niptables -P INPUT ACCEPT\n\n# æ¸…ç©ºé»˜è®¤æ‰€æœ‰è§„åˆ™\niptables -F\n\n# æ¸…ç©ºè‡ªå®šä¹‰æ‰€æœ‰è§„åˆ™\niptables -X\n\n# è®¡æ•°å™¨ç½®0\niptables -Z\n\n# å…è®¸127.0.0.1è®¿é—®æœ¬åœ°æœåŠ¡\niptables -A INPUT -i lo -j ACCEPT\n\n# å…è®¸è®¿é—®å¤–éƒ¨æœåŠ¡\niptables -A INPUT -m state --state ESTABLISHED -j ACCEPT\n\n# å…è®¸ ping\niptables -A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT\n\n# å¼€å¯ ssh ç«¯å£\niptables -A INPUT -p tcp --dport 22 -j ACCEPT\n\n# å¼€å¯ pptpd ç«¯å£\niptables -A INPUT -p tcp --dport 1723 -j ACCEPT\n```\n\n## æ³¨æ„äº‹é¡¹\n\nå“å˜¿,æ˜¨å¤©æˆ‘æäº†åŠå¤©è¿ä¸ä¸Šã€‚åæ¥çœ‹äº†å¾ˆå¤šæ•™ç¨‹ã€‚æ‰çŸ¥é“æ˜¯æˆ‘é˜²ç«å¢™æœªæ”¾è¡Œã€‚\n\nå¾ˆå¤šç½‘ä¸Šçš„æ•™ç¨‹å¹¶æœªæåŠé˜²ç«å¢™æ”¾è¡Œè¿™ä¸€æ­¥æ­¥éª¤ã€‚\n\n### è¡¥å……è¯´æ˜\n\næ¯æ¬¡å¦‚æœæ›´æ”¹äº†DNSå’Œipæ®µé…ç½®åã€‚éƒ½è¦è¿è¡Œè¿™ä¸ªå‘½ä»¤æ¥ç”Ÿæ•ˆå“¦ï¼š\n\n```bash\nsysctl -p              # ç”Ÿæ•ˆé…ç½®\nservice iptables save  # ä¿å­˜é˜²ç«å¢™é…ç½®\nservice iptables restart  # é‡å¯é˜²ç«å¢™\n```\n\nå¦‚æœæ›´æ”¹ï¼Œæˆ–æ·»åŠ pptpdè´¦å·ã€‚ä¹Ÿæ˜¯éœ€è¦é‡å¯pptpçš„ã€‚\n\n```bash\nservice pptpd restart  # é‡å¯pptp\n```&quot;],&quot;filePath&quot;:[0,&quot;source/posts/CenOS-7-6æ­å»ºpptpæœåŠ¡.md&quot;],&quot;digest&quot;:[0,&quot;a05f5af800f47570&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;å‚è€ƒæ•™ç¨‹\&quot;&gt;å‚è€ƒæ•™ç¨‹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‚è€ƒæ•™ç¨‹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;&lt;a href=\&quot;https://help.aliyun.com/document_detail/41345.html\&quot; target=\&quot;_blank\&quot;&gt;è§é˜¿é‡Œäº‘æ•™ç¨‹&lt;/a&gt;&lt;/p&gt;\n&lt;h2 id=\&quot;é˜²ç«å¢™é…ç½®é—®é¢˜\&quot;&gt;é˜²ç«å¢™é…ç½®é—®é¢˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é˜²ç«å¢™é…ç½®é—®é¢˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;æŒ‰ç…§é˜¿é‡Œäº‘æ­¥éª¤èµ°å®Œï¼Œå¦‚æœæé†’è¿œç¨‹è¿æ¥è®¡ç®—æœºç«¯å£å·²å…³é—­çš„è¯ã€‚å¯èƒ½æ˜¯æ²¡å¼€æ”¾ç«¯å£ã€‚&lt;/p&gt;\n&lt;p&gt;éœ€è¦æ›´æ”¹é˜²ç«å¢™çš„ç­–ç•¥ã€‚&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# æŸ¥çœ‹é˜²ç«å¢™å½“å‰é…ç½®&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -L&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -n&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å…è®¸æ‰€æœ‰è¯·æ±‚&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -P&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# æ¸…ç©ºé»˜è®¤æ‰€æœ‰è§„åˆ™&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -F&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# æ¸…ç©ºè‡ªå®šä¹‰æ‰€æœ‰è§„åˆ™&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -X&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# è®¡æ•°å™¨ç½®0&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -Z&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å…è®¸127.0.0.1è®¿é—®æœ¬åœ°æœåŠ¡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -A&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -i&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; lo&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -j&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å…è®¸è®¿é—®å¤–éƒ¨æœåŠ¡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -A&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -m&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; state&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; --state&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ESTABLISHED&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -j&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å…è®¸ ping&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -A&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -p&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; icmp&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -m&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; icmp&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; --icmp-type&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 8&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -j&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å¼€å¯ ssh ç«¯å£&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -A&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -p&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; tcp&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; --dport&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 22&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -j&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å¼€å¯ pptpd ç«¯å£&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -A&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -p&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; tcp&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; --dport&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 1723&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -j&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;æ³¨æ„äº‹é¡¹\&quot;&gt;æ³¨æ„äº‹é¡¹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ³¨æ„äº‹é¡¹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å“å˜¿,æ˜¨å¤©æˆ‘æäº†åŠå¤©è¿ä¸ä¸Šã€‚åæ¥çœ‹äº†å¾ˆå¤šæ•™ç¨‹ã€‚æ‰çŸ¥é“æ˜¯æˆ‘é˜²ç«å¢™æœªæ”¾è¡Œã€‚&lt;/p&gt;\n&lt;p&gt;å¾ˆå¤šç½‘ä¸Šçš„æ•™ç¨‹å¹¶æœªæåŠé˜²ç«å¢™æ”¾è¡Œè¿™ä¸€æ­¥æ­¥éª¤ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;è¡¥å……è¯´æ˜\&quot;&gt;è¡¥å……è¯´æ˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è¡¥å……è¯´æ˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;æ¯æ¬¡å¦‚æœæ›´æ”¹äº†DNSå’Œipæ®µé…ç½®åã€‚éƒ½è¦è¿è¡Œè¿™ä¸ªå‘½ä»¤æ¥ç”Ÿæ•ˆå“¦ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;sysctl&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -p&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;              # ç”Ÿæ•ˆé…ç½®&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;service&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; iptables&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; save&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  # ä¿å­˜é˜²ç«å¢™é…ç½®&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;service&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; iptables&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; restart&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  # é‡å¯é˜²ç«å¢™&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¦‚æœæ›´æ”¹ï¼Œæˆ–æ·»åŠ pptpdè´¦å·ã€‚ä¹Ÿæ˜¯éœ€è¦é‡å¯pptpçš„ã€‚&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;service&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; pptpd&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; restart&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  # é‡å¯pptp&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‚è€ƒæ•™ç¨‹&quot;],&quot;text&quot;:[0,&quot;å‚è€ƒæ•™ç¨‹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é˜²ç«å¢™é…ç½®é—®é¢˜&quot;],&quot;text&quot;:[0,&quot;é˜²ç«å¢™é…ç½®é—®é¢˜&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ³¨æ„äº‹é¡¹&quot;],&quot;text&quot;:[0,&quot;æ³¨æ„äº‹é¡¹&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;è¡¥å……è¯´æ˜&quot;],&quot;text&quot;:[0,&quot;è¡¥å……è¯´æ˜&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;CenOS-7.6æ­å»ºpptpæœåŠ¡&quot;],&quot;date&quot;:[3,&quot;2023-02-05T10:36:58.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/3&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;date&quot;:[3,&quot;2023-02-04T21:09:52.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;body&quot;:[0,&quot;&lt;p&gt;è·ç¦»SRSè¿˜æœ‰12å¤©å¤§æ¦‚çš„æ ·å­å§ã€‚å¦‚æœä¸å‡ºæ„å¤–çš„è¯ã€‚&lt;/p&gt;\n&lt;p&gt;è¯´å®è¯ä¸ªäººæ„Ÿè§‰æŒºæ…Œçš„&lt;/p&gt;\n&lt;p&gt;æœ¯å‰ç´§å¼ ã€‚è‚¯å®šæœ‰çš„ã€‚å®³!!&lt;/p&gt;\n&lt;p&gt;ä½†æ„¿æœªæ¥èƒ½å¤Ÿä¸€åˆ‡é¡ºåˆ©å§&lt;/p&gt;\n\n![emj](../img/QQå›¾ç‰‡20230204211241.jpg)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]],&quot;digest&quot;:[0,&quot;04770aeaaedfdf6c&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;è·ç¦»SRSè¿˜æœ‰12å¤©å¤§æ¦‚çš„æ ·å­å§ã€‚å¦‚æœä¸å‡ºæ„å¤–çš„è¯ã€‚&lt;/p&gt;\n&lt;p&gt;è¯´å®è¯ä¸ªäººæ„Ÿè§‰æŒºæ…Œçš„&lt;/p&gt;\n&lt;p&gt;æœ¯å‰ç´§å¼ ã€‚è‚¯å®šæœ‰çš„ã€‚å®³!!&lt;/p&gt;\n&lt;p&gt;ä½†æ„¿æœªæ¥èƒ½å¤Ÿä¸€åˆ‡é¡ºåˆ©å§&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/QQå›¾ç‰‡20230204211241.jpg&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;date&quot;:[3,&quot;2023-02-04T21:09:52.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/2&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´&quot;],&quot;date&quot;:[3,&quot;2023-01-18T00:06:04.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;body&quot;:[0,&quot;&lt;p&gt;\n æ²¡è½¦ç¥¨ï¼Œé»„ç‰›ç¥¨å¤ªè´µã€‚ä¸å¤ªæƒ³å›å»è¿‡å¹´ã€‚è€Œä¸”ï¼Œæœ€è¿‘çš„çƒ¦å¿ƒäº‹çœŸçš„æ˜¯å¥½å¤šã€‚ä»Šå¹´ä¸‰æœˆã€å››æœˆå¯èƒ½è¦è¿›è¡ŒSRSğŸ¥ï¼Œè¦å‘å…¬å¸è¯·ä¸€ä¸ªæœˆå‡ï¼Œå°±éå¸¸åœ°å¤´ç–¼ã€‚\n&lt;/p&gt;\n\n![emj](../img/u=3523309784,1268457401&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG.webp)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/u=3523309784,1268457401&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG.webp&quot;]]],&quot;digest&quot;:[0,&quot;1592ef77e31722b1&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;\n æ²¡è½¦ç¥¨ï¼Œé»„ç‰›ç¥¨å¤ªè´µã€‚ä¸å¤ªæƒ³å›å»è¿‡å¹´ã€‚è€Œä¸”ï¼Œæœ€è¿‘çš„çƒ¦å¿ƒäº‹çœŸçš„æ˜¯å¥½å¤šã€‚ä»Šå¹´ä¸‰æœˆã€å››æœˆå¯èƒ½è¦è¿›è¡ŒSRSğŸ¥ï¼Œè¦å‘å…¬å¸è¯·ä¸€ä¸ªæœˆå‡ï¼Œå°±éå¸¸åœ°å¤´ç–¼ã€‚\n&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/u=3523309784,1268457401&amp;#x26;fm=253&amp;#x26;fmt=auto&amp;#x26;app=138&amp;#x26;f=JPEG.webp&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/u=3523309784,1268457401&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG.webp&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´&quot;],&quot;date&quot;:[3,&quot;2023-01-18T00:06:04.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/u=3523309784,1268457401&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG.webp&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/1&quot;]}]]],&quot;currentPostSlug&quot;:[0,&quot;ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´&quot;],&quot;prevPostItem&quot;:[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;date&quot;:[3,&quot;2023-02-04T21:09:52.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;body&quot;:[0,&quot;&lt;p&gt;è·ç¦»SRSè¿˜æœ‰12å¤©å¤§æ¦‚çš„æ ·å­å§ã€‚å¦‚æœä¸å‡ºæ„å¤–çš„è¯ã€‚&lt;/p&gt;\n&lt;p&gt;è¯´å®è¯ä¸ªäººæ„Ÿè§‰æŒºæ…Œçš„&lt;/p&gt;\n&lt;p&gt;æœ¯å‰ç´§å¼ ã€‚è‚¯å®šæœ‰çš„ã€‚å®³!!&lt;/p&gt;\n&lt;p&gt;ä½†æ„¿æœªæ¥èƒ½å¤Ÿä¸€åˆ‡é¡ºåˆ©å§&lt;/p&gt;\n\n![emj](../img/QQå›¾ç‰‡20230204211241.jpg)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]],&quot;digest&quot;:[0,&quot;04770aeaaedfdf6c&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;è·ç¦»SRSè¿˜æœ‰12å¤©å¤§æ¦‚çš„æ ·å­å§ã€‚å¦‚æœä¸å‡ºæ„å¤–çš„è¯ã€‚&lt;/p&gt;\n&lt;p&gt;è¯´å®è¯ä¸ªäººæ„Ÿè§‰æŒºæ…Œçš„&lt;/p&gt;\n&lt;p&gt;æœ¯å‰ç´§å¼ ã€‚è‚¯å®šæœ‰çš„ã€‚å®³!!&lt;/p&gt;\n&lt;p&gt;ä½†æ„¿æœªæ¥èƒ½å¤Ÿä¸€åˆ‡é¡ºåˆ©å§&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/QQå›¾ç‰‡20230204211241.jpg&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;date&quot;:[3,&quot;2023-02-04T21:09:52.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/2&quot;]}],&quot;nextPostItem&quot;:[0,null]}" ssr client="load" opts="{&quot;name&quot;:&quot;HomeSiderPanel&quot;,&quot;value&quot;:true}" await-children><link rel="preload" as="image" href="/img/724d7fb480c8ac0db472ca5c7e36d239.jpg" fetchPriority="high"/><div class="cursor-pointer rounded-sm bg-black/8 p-1 font-semibold backdrop-blur-lg select-none my-4 flex w-full justify-between text-sm/6"><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs opacity-50 grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM15.8329 7.33748C16.0697 7.17128 16.3916 7.19926 16.5962 7.40381C16.8002 7.60784 16.8267 7.92955 16.6587 8.16418C14.479 11.2095 13.2796 12.8417 13.0607 13.0607C12.4749 13.6464 11.5251 13.6464 10.9393 13.0607C10.3536 12.4749 10.3536 11.5251 10.9393 10.9393C11.3126 10.5661 12.9438 9.36549 15.8329 7.33748ZM17.5 11C18.0523 11 18.5 11.4477 18.5 12C18.5 12.5523 18.0523 13 17.5 13C16.9477 13 16.5 12.5523 16.5 12C16.5 11.4477 16.9477 11 17.5 11ZM6.5 11C7.05228 11 7.5 11.4477 7.5 12C7.5 12.5523 7.05228 13 6.5 13C5.94772 13 5.5 12.5523 5.5 12C5.5 11.4477 5.94772 11 6.5 11ZM8.81802 7.40381C9.20854 7.79433 9.20854 8.4275 8.81802 8.81802C8.4275 9.20854 7.79433 9.20854 7.40381 8.81802C7.01328 8.4275 7.01328 7.79433 7.40381 7.40381C7.79433 7.01328 8.4275 7.01328 8.81802 7.40381ZM12 5.5C12.5523 5.5 13 5.94772 13 6.5C13 7.05228 12.5523 7.5 12 7.5C11.4477 7.5 11 7.05228 11 6.5C11 5.94772 11.4477 5.5 12 5.5Z"></path></svg></span></div><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs text-primary-foreground grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5.75024 3.5H4.71733L3.25 3.89317V5.44582L4.25002 5.17782L4.25018 8.5H3V10H7V8.5H5.75024V3.5ZM10 4H21V6H10V4ZM10 11H21V13H10V11ZM10 18H21V20H10V18ZM2.875 15.625C2.875 14.4514 3.82639 13.5 5 13.5C6.17361 13.5 7.125 14.4514 7.125 15.625C7.125 16.1106 6.96183 16.5587 6.68747 16.9167L6.68271 16.9229L5.31587 18.5H7V20H3.00012L2.99959 18.8786L5.4717 16.035C5.5673 15.9252 5.625 15.7821 5.625 15.625C5.625 15.2798 5.34518 15 5 15C4.67378 15 4.40573 15.2501 4.37747 15.5688L4.3651 15.875H2.875V15.625Z"></path></svg></span><span class="overflow-hidden whitespace-nowrap" style="width:auto;opacity:1">æ–‡ç« ç›®å½•</span><div class="bg-gradient-shoka-button absolute inset-0 -z-10 rounded-sm" style="will-change:transform"></div></div><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs opacity-50 grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM7 6H11V10H7V6ZM7 12H17V14H7V12ZM7 16H17V18H7V16ZM13 7H17V9H13V7Z"></path></svg></span></div></div><div class="vertical-scrollbar pt-10 scroll-gutter-stable relative block w-full flex-1 min-h-0 overflow-x-hidden overflow-y-auto md:pt-4 md:pl-3" data-type="post" data-default-type="directory"><div class="sider-slot" data-slot-type="info"><div class="flex flex-col items-center"><div class="h-40 w-40 rounded-full"><img class="shadow-card-darker hover:animate-shake h-full w-full rounded-full transition" src="/img/724d7fb480c8ac0db472ca5c7e36d239.jpg" alt="snow avatar" loading="eager" fetchPriority="high"/></div><p class="mt-2">snow</p><p class="text-muted-foreground mt-3 text-center">ACG / å…»çŒ«äºº / èœé€¼ / å‰ç«¯ä»€é”¦</p><div class="mt-2 grid grid-cols-3 gap-2"><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#191717" data-platform="github" href="https://github.com/XueHua-s" title="GitHub" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="GitHub"><i class="fa-brands fa-github social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#4b9ae4" data-platform="x" href="https://x.com/xiaoxueljx?s=21" title="X (æ¨ç‰¹)" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="X (æ¨ç‰¹)"><i class="fa-brands fa-x-twitter social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#55acd5" data-platform="email" href="mailto:xuehualjx@gmail.com" title="Email" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="Email"><i class="fa-regular fa-envelope social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div></div><div class="text-muted-foreground mt-3 flex justify-center text-center text-sm/4 whitespace-nowrap select-none dark:text-white/80"><a href="/blog" class="hover:text-blue flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">23</span>æ–‡ç« </a><div class="bg-muted-foreground mx-3 w-px"></div><a href="/blog/categories" aria-label="åˆ†ç±»" class="hover:text-blue"><p class="flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">5</span>åˆ†ç±»</p></a><div class="bg-muted-foreground mx-3 w-px"></div><a href="/blog/tags" class="hover:text-blue flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">38</span>æ ‡ç­¾</a></div><div class="mt-6 flex w-full flex-col items-center gap-2.5"><a href="/blog" aria-label="é¦–é¡µ" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-house-chimney" aria-hidden="true"></i>é¦–é¡µ</a><div class="bg-foreground/10 flex w-40 flex-col rounded-xl opacity-75 transition-all duration-300 hover:opacity-100" data-collapsible="true"><button class="flex-center hover:bg-foreground/5 h-12 w-full cursor-pointer rounded-xl transition-colors" aria-expanded="false" aria-controls="_r10R_a_-collapse-1" aria-label="æ–‡ç« èœå•" type="button"><i class="mr-1.5 fa-solid fa-pen-nib" aria-hidden="true"></i>æ–‡ç« <i class="fa-solid fa-caret-down ml-2 text-base transition-transform duration-300" aria-hidden="true"></i></button><div id="_r10R_a_-collapse-1" class="collapse-content collapse-hidden" data-collapse-content="true"><div class="flex flex-col items-center"><a href="/blog/categories" aria-label="åˆ†ç±»" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-layer-group" aria-hidden="true"></i>åˆ†ç±»</a><a href="/blog/tags" aria-label="æ ‡ç­¾" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-tags" aria-hidden="true"></i>æ ‡ç­¾</a></div></div></div><a href="/blog/friends" aria-label="å‹é“¾" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-link" aria-hidden="true"></i>å‹é“¾</a><a href="/blog/about" aria-label="å…³äº" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-regular fa-circle-user" aria-hidden="true"></i>å…³äº</a></div></div></div><div class="sider-slot hidden" data-slot-type="directory"></div><div class="sider-slot hidden" data-slot-type="series"><div class="flex flex-col gap-1"><a href="/blog/post/22" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">Rust æ ‘ç»“æ„ä¸­ Rc ä¸ Weak çš„é…åˆä½¿ç”¨</span></a><a href="/blog/post/21" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">Rust Cowï¼ˆClone-On-Writeï¼‰å­¦ä¹ ç¬”è®°ï¼šç†è§£ Borrowed çŠ¶æ€</span></a><a href="/blog/post/17" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">Electron çƒ­æ›´æ–°åå¯åŠ¨æ€§èƒ½ä¼˜åŒ–ï¼šV8 ç¼“å­˜ä¸ä»£ç æ‹†åŒ…å®æˆ˜</span></a><a href="/blog/post/15" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">é…ç½® Codex è‡ªå®šä¹‰ä¸‰æ–¹API</span></a><a href="/blog/post/14" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">React Effect ä¾èµ–ä¼˜åŒ–æœ€ä½³å®è·µ</span></a><a href="/blog/post/12" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">Hexoåšå®¢GitHub Actionsè‡ªåŠ¨éƒ¨ç½²é…ç½®</span></a><a href="/blog/post/11" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">NestJså…³äºå¾ªç¯ä¾èµ–</span></a><a href="/blog/post/10" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">å…³äºVue3å¦‚ä½•åˆ¤æ–­çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ äº†æ’æ§½</span></a><a href="/blog/post/9" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">element-plusè¡¨æ ¼éšè—è¡Œæ•°åŠŸèƒ½</span></a><a href="/blog/post/8" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">å‰ç«¯é“¾è¡¨è¿ç”¨åœºæ™¯</span></a><a href="/blog/post/7" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">å…³äºå‰ç«¯æ•°æ®åº“indexDB</span></a><a href="/blog/post/6" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">è¡¨æ ¼æ‹–æ‹½æ–¹æ³•æ‰‹å†™</span></a><a href="/blog/post/5" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">jså¾ªç¯ä¾èµ–å¯¹è±¡æ·±æ‹·è´</span></a><a href="/blog/post/4" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">JSå¯¹è±¡æ•°ç»„æ·±æ‹·è´</span></a><a href="/blog/post/3" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">CenOS-7.6æ­å»ºpptpæœåŠ¡</span></a><a href="/blog/post/2" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†</span></a><a href="/blog/post/1" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50 text-primary font-medium"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-primary"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-primary">ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´</span></a></div></div></div><div class="border-border mt-4 flex flex-col gap-3 border-t pt-4 md:mt-0 md:pt-2 w-full px-2"><div class="flex items-center justify-between gap-2"><a href="/blog/post/2" class="group flex items-center gap-1.5 rounded-md px-2 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary max-w-[45%] min-w-0 flex-1" title="ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4 shrink-0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"></path></svg><span class="truncate text-xs">ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†</span></a><div class="max-w-[45%] flex-1"></div></div><div class="flex justify-center gap-2"><button class="flex items-center justify-center gap-1.5 rounded-md px-3 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary text-xs" title="å›åˆ°é¡¶éƒ¨" aria-label="å›åˆ°é¡¶éƒ¨"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.9999 10.8284L7.0502 15.7782L5.63599 14.364L11.9999 8L18.3639 14.364L16.9497 15.7782L11.9999 10.8284Z"></path></svg>å›åˆ°é¡¶éƒ¨</button><button class="flex items-center justify-center gap-1.5 rounded-md px-3 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary text-xs" title="æ»šåˆ°åº•éƒ¨" aria-label="æ»šåˆ°åº•éƒ¨"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"></path></svg>æ»šåˆ°åº•éƒ¨</button></div></div><div class="mt-auto w-full rounded-full pt-4 sticky bottom-0"><div class="bg-primary h-1 origin-left rounded-full scale-x-0"></div></div><!--astro:end--></astro-island> </div> <div class="flex min-w-0 grow flex-col gap-8 md:w-full">     <div class="shadow-box bg-gradient-start flex flex-col gap-2 px-10 py-8 tablet:px-6 tablet:pt-6 tablet:pb-2"> <!-- Breadcrumb Navigation --> <nav class="text-muted-foreground flex items-center gap-2 text-sm"> <div class="flex items-center gap-1"> <!-- Home Icon and Link --> <i class="fa-solid fa-house-chimney text-sm" aria-hidden="true"></i> <a href="/blog" aria-label="è¿”å›é¦–é¡µ"> <span class="hover:text-blue transition-colors duration-300">é¦–é¡µ</span> </a> </div> <!-- Category Breadcrumbs -->  <i class="fa-solid fa-angle-right text-muted-foreground/60 text-sm" aria-hidden="true"></i> <a href="/blog/categories/tech-tutorials" class="hover:text-blue transition-colors duration-300 text-primary bg-primary/10 hover:text-primary hover:bg-primary/20 rounded-full px-2.5 py-1" aria-label="å‰å¾€æŠ€æœ¯æ•™ç¨‹åˆ†ç±»"> æŠ€æœ¯æ•™ç¨‹ </a>  </nav> <astro-island uid="U4xsU" prefix="r3" component-url="/_astro/SummaryPanel.s-MDUzWg.js" component-export="SummaryPanel" renderer-url="/_astro/client.lBR8ML2S.js" props="{&quot;summary&quot;:[0,&quot;æ²¡è½¦ç¥¨ï¼Œé»„ç‰›ç¥¨å¤ªè´µã€‚ä¸å¤ªæƒ³å›å»è¿‡å¹´ã€‚è€Œä¸”ï¼Œæœ€è¿‘çš„çƒ¦å¿ƒäº‹çœŸçš„æ˜¯å¥½å¤šã€‚ä»Šå¹´ä¸‰æœˆã€å››æœˆå¯èƒ½è¦è¿›è¡ŒSRSğŸ¥ï¼Œè¦å‘å…¬å¸è¯·ä¸€ä¸ªæœˆå‡ï¼Œå°±éå¸¸åœ°å¤´ç–¼ã€‚ emj&quot;],&quot;source&quot;:[0,&quot;auto&quot;],&quot;className&quot;:[0,&quot;mt-2&quot;]}" ssr client="visible" opts="{&quot;name&quot;:&quot;SummaryPanel&quot;,&quot;value&quot;:true}" await-children><div class="overflow-hidden rounded-lg mt-2"><button class="bg-foreground/5 flex w-full cursor-pointer items-center justify-between px-4 py-3 transition-all duration-250 hover:bg-foreground/10 rounded-lg" aria-expanded="false" aria-controls="summary-panel-content"><div class="text-muted-foreground flex items-center gap-1.5 text-sm font-medium"><span class="transition-transform duration-300"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="text-primary size-4" aria-hidden="true"><path d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM7 6H11V10H7V6ZM7 12H17V14H7V12ZM7 16H17V18H7V16ZM13 7H17V9H13V7Z"></path></svg></span>æ‘˜è¦</div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="text-muted-foreground size-4 transition-transform duration-300" aria-hidden="true"><path d="M12 16L6 10H18L12 16Z"></path></svg></button><div id="summary-panel-content" class="grid transition-[grid-template-rows] duration-300 ease-out" style="grid-template-rows:0fr"><div class="overflow-hidden"><div class="bg-foreground/5 text-muted-foreground rounded-b-lg px-4 py-4 text-sm leading-relaxed"><span class="sr-only">æ²¡è½¦ç¥¨ï¼Œé»„ç‰›ç¥¨å¤ªè´µã€‚ä¸å¤ªæƒ³å›å»è¿‡å¹´ã€‚è€Œä¸”ï¼Œæœ€è¿‘çš„çƒ¦å¿ƒäº‹çœŸçš„æ˜¯å¥½å¤šã€‚ä»Šå¹´ä¸‰æœˆã€å››æœˆå¯èƒ½è¦è¿›è¡ŒSRSğŸ¥ï¼Œè¦å‘å…¬å¸è¯·ä¸€ä¸ªæœˆå‡ï¼Œå°±éå¸¸åœ°å¤´ç–¼ã€‚ emj</span><p aria-hidden="true"><span></span></p></div></div></div></div><!--astro:end--></astro-island> <article class="prose md:prose-sm dark:prose-invert"> <div class="custom-content"> <p>
 æ²¡è½¦ç¥¨ï¼Œé»„ç‰›ç¥¨å¤ªè´µã€‚ä¸å¤ªæƒ³å›å»è¿‡å¹´ã€‚è€Œä¸”ï¼Œæœ€è¿‘çš„çƒ¦å¿ƒäº‹çœŸçš„æ˜¯å¥½å¤šã€‚ä»Šå¹´ä¸‰æœˆã€å››æœˆå¯èƒ½è¦è¿›è¡ŒSRSğŸ¥ï¼Œè¦å‘å…¬å¸è¯·ä¸€ä¸ªæœˆå‡ï¼Œå°±éå¸¸åœ°å¤´ç–¼ã€‚
</p>
<p></p><figure class="markdown-image-wrapper"><img __ASTRO_IMAGE_="{&#x22;src&#x22;:&#x22;../img/u=3523309784,1268457401&#x26;fm=253&#x26;fmt=auto&#x26;app=138&#x26;f=JPEG.webp&#x22;,&#x22;alt&#x22;:&#x22;emj&#x22;,&#x22;loading&#x22;:&#x22;lazy&#x22;,&#x22;decoding&#x22;:&#x22;async&#x22;,&#x22;class&#x22;:&#x22;markdown-image&#x22;,&#x22;index&#x22;:0}"></figure><p></p> </div>  <astro-island uid="Z1v8zuY" prefix="r16" component-url="/_astro/EmbedHydrator.BYQxiqHV.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;EmbedHydrator&quot;,&quot;value&quot;:true}"></astro-island> <astro-island uid="1BDvuf" prefix="r17" component-url="/_astro/CustomContentEnhancer.BXo4OX_Z.js" component-export="CustomContentEnhancer" renderer-url="/_astro/client.lBR8ML2S.js" props="{&quot;config&quot;:[0,{&quot;addBlankTarget&quot;:[0,true],&quot;smoothScroll&quot;:[0,true],&quot;addHeadingLevel&quot;:[0,true],&quot;enhanceCodeBlock&quot;:[0,true],&quot;enableCodeCopy&quot;:[0,true],&quot;enableCodeFullscreen&quot;:[0,true],&quot;enableLinkEmbed&quot;:[0,true],&quot;enableTweetEmbed&quot;:[0,true],&quot;enableOGPreview&quot;:[0,true],&quot;previewCacheTime&quot;:[0,3600],&quot;lazyLoadEmbeds&quot;:[0,true]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;CustomContentEnhancer&quot;,&quot;value&quot;:true}"></astro-island> </article> <astro-island uid="wBKw9" prefix="r4" component-url="/_astro/GiscusComments.BNQOQ1R1.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;GiscusComments&quot;,&quot;value&quot;:true}" await-children><div class="w-full pb-12"></div><!--astro:end--></astro-island> </div>  <div class="tablet:grid-cols-1 grid grid-cols-2 gap-4 px-10 md:px-6"><div class="flex flex-col gap-4"><h2 class="text-foreground/80 text-2xl font-semibold">éšæœºæ–‡ç« </h2><div class="flex flex-col gap-2"><a href="/blog/post/15" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">1</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">æŠ€æœ¯æ•™ç¨‹</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">é…ç½® Codex è‡ªå®šä¹‰ä¸‰æ–¹API</div></div></a><a href="/blog/post/18" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">2</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Rust å­¦ä¹ ç¬”è®°</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Rust Traitï¼šä¸ºæ³›å‹ç±»å‹çš„å…·ä½“å®ä¾‹å®ç°ç‰¹å¾</div></div></a><a href="/blog/post/22" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">3</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">æŠ€æœ¯æ•™ç¨‹</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Rust æ ‘ç»“æ„ä¸­ Rc ä¸ Weak çš„é…åˆä½¿ç”¨</div></div></a><a href="/blog/post/20" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">4</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Rust å­¦ä¹ ç¬”è®°</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Rust ç®—æœ¯è¿ç®—çš„ Panic é™·é˜±ï¼šä»å–æ¨¡é›¶è¯´èµ·</div></div></a><a href="/blog/post/3" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">5</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">æŠ€æœ¯æ•™ç¨‹</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">CenOS-7.6æ­å»ºpptpæœåŠ¡</div></div></a></div></div><div class="flex flex-col gap-4"><h2 class="text-foreground/80 text-2xl font-semibold"></h2><div class="flex flex-col gap-2 -mt-4 pt-12 md:-mt-5 md:pt-0"><a href="/blog/post/7" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">6</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">æŠ€æœ¯æ•™ç¨‹</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">å…³äºå‰ç«¯æ•°æ®åº“indexDB</div></div></a><a href="/blog/post/2" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">7</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">æŠ€æœ¯æ•™ç¨‹</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†</div></div></a><a href="/blog/post/1" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">8</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">æŠ€æœ¯æ•™ç¨‹</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´</div></div></a><a href="/blog/post/4" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">9</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">æŠ€æœ¯æ•™ç¨‹</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">JSå¯¹è±¡æ•°ç»„æ·±æ‹·è´</div></div></a><a href="/blog/post/19" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">10</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Rust å­¦ä¹ ç¬”è®°</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Rust å¼•ç”¨ç”Ÿå‘½å‘¨æœŸï¼šä¸åªæ˜¯åˆ‡ç‰‡</div></div></a></div></div></div><footer class="mt-auto pb-6 md:pb-4"><div class="mx-auto flex flex-col items-center gap-3 px-6 md:px-3 max-w-7xl"><div class="text-muted-foreground flex flex-wrap items-center justify-center gap-6 text-sm md:gap-4"><button class="flex items-center gap-2 opacity-75 transition-opacity duration-300 hover:opacity-100" title="ç«™ç‚¹æ€»å­—æ•°"><i class="fa-regular fa-file-lines text-sm" aria-hidden="true"></i><span class="font-medium">19k</span><span class="text-xs">å­—</span></button><div class="bg-muted-foreground/30 h-4 w-px"></div><button class="flex items-center gap-2 opacity-75 transition-opacity duration-300 hover:opacity-100" title="ç«™ç‚¹é˜…è¯»æ—¶é•¿"><i class="fa-regular fa-clock text-sm" aria-hidden="true"></i><span class="font-medium">1:49</span></button><div class="bg-muted-foreground/30 h-4 w-px"></div><button class="flex items-center gap-2 opacity-75 transition-opacity duration-300 hover:opacity-100" title="æ–‡ç« æ€»æ•°"><i class="fa-regular fa-newspaper text-sm" aria-hidden="true"></i><span class="font-medium">23</span><span class="text-xs">ç¯‡</span></button></div><div class="text-muted-foreground flex items-center gap-0.5 text-sm"><span class="opacity-75">Ã‚Â©</span><span class="font-medium opacity-75">2022</span><span class="opacity-50">-</span><span class="font-medium opacity-75" itemProp="copyrightYear">2025</span><svg class="mx-1 size-5 animate-spin text-[#FFC0CB] duration-10000" viewBox="0 0 512 512" fill="currentColor"><g><path fill="currentColor" d="M330.555,101.873c0-34.164-13.767-65.108-36.047-87.622c-2.432-2.465-9.63-4.349-14.212,3.466
		c-4.589,7.808-17.205,27.431-17.205,27.431c-1.534,2.438-4.219,3.918-7.089,3.918c-2.883,0-5.555-1.48-7.089-3.918
		c0,0-12.623-19.623-17.205-27.431c-4.582-7.815-11.781-5.931-14.219-3.466c-22.274,22.514-36.04,53.458-36.04,87.622
		c0,51.02,30.663,94.847,74.553,114.142C299.892,196.72,330.555,152.892,330.555,101.873z"></path><path fill="currentColor" d="M204.51,253.425c-4.78-47.705-36.998-90.409-85.518-106.176c-32.492-10.554-66.177-7.027-94.47,7.205
		c-3.096,1.555-7.117,7.822-1.096,14.589c6.007,6.774,20.766,24.842,20.766,24.842c1.849,2.212,2.432,5.22,1.542,7.952
		c-0.891,2.74-3.13,4.829-5.918,5.528c0,0-22.562,5.945-31.404,7.89c-8.849,1.945-9.281,9.37-7.692,12.445
		c14.527,28.144,39.698,50.801,72.197,61.362C121.436,304.828,172.6,289.212,204.51,253.425z"></path><path fill="currentColor" d="M96.772,362.484c-20.082,27.643-27.136,60.766-22.342,92.074c0.527,3.424,5.233,9.178,13.527,5.554
		c8.308-3.63,30.054-12.088,30.054-12.088c2.672-1.062,5.698-0.692,8.041,1c2.329,1.692,3.623,4.466,3.418,7.335
		c0,0-1.308,23.294-2.199,32.315c-0.883,9.006,6.048,11.712,9.466,11.15c31.252-5.116,60.581-22.054,80.662-49.704
		c29.993-41.266,30.944-94.758,6.781-136.155C177.332,303.773,126.758,321.204,96.772,362.484z"></path><path fill="currentColor" d="M287.824,313.964c-24.165,41.397-23.212,94.888,6.78,136.155c20.082,27.65,49.41,44.588,80.663,49.704
		c3.418,0.562,10.349-2.144,9.466-11.15c-0.89-9.021-2.205-32.315-2.205-32.315c-0.198-2.869,1.102-5.643,3.431-7.335
		c2.322-1.692,5.363-2.062,8.034-1c0,0,21.746,8.458,30.047,12.088c8.294,3.623,13.007-2.13,13.534-5.554
		c4.787-31.308-2.254-64.43-22.342-92.074C385.246,321.204,334.672,303.766,287.824,313.964z"></path><path fill="currentColor" d="M503.6,215.254c-8.849-1.945-31.41-7.89-31.41-7.89c-2.795-0.706-5.027-2.788-5.918-5.528
		c-0.89-2.732-0.308-5.74,1.534-7.952c0,0,14.76-18.068,20.78-24.842c6.014-6.766,1.993-13.034-1.096-14.589
		c-28.301-14.232-61.978-17.76-94.485-7.205c-48.519,15.767-80.731,58.472-85.512,106.176
		c31.91,35.787,83.067,51.403,131.593,35.636c32.492-10.561,57.67-33.218,72.191-61.362
		C512.867,224.624,512.449,217.199,503.6,215.254z"></path></g></svg><span class="author font-medium opacity-75" itemProp="copyrightHolder">snow<!-- -->@snow</span></div><div class="text-muted-foreground/80 flex items-center gap-2 text-xs"><span class="opacity-75">Powered by theme</span><a href="https://github.com/XueHua-s/astro-snow" target="_blank" rel="noreferrer" class="footer-link font-medium transition-all duration-300">snow-koharu</a><span class="opacity-50">InÂ·</span><span class="opacity-75">From by</span><a href="https://github.com/amehime/hexo-theme-shoka" target="_blank" rel="noreferrer" class="footer-link font-medium transition-all duration-300">astro-koharu</a></div></div></footer> </div> </div> </div>  </main> <div id="floating-nav" class="text-primary fixed right-4 bottom-4 z-50 flex flex-col gap-2" data-expanded="true" data-astro-cid-uwaxo4qb> <div id="nav-content" class="flex scale-y-100 flex-col gap-2 opacity-100" data-astro-cid-uwaxo4qb> <button id="scroll-to-top" class="bg-background/80 hover:bg-background rounded-full p-2 shadow-lg backdrop-blur-sm transition-colors duration-200" aria-label="å›åˆ°é¡¶éƒ¨" title="å›åˆ°é¡¶éƒ¨" data-tooltip-interactive="false" data-tooltip-placement="left" data-astro-cid-uwaxo4qb> <i class="fa-solid fa-angle-up text-lg" aria-hidden="true" data-astro-cid-uwaxo4qb></i> </button> <button id="scroll-to-bottom" class="bg-background/80 hover:bg-background rounded-full p-2 shadow-lg backdrop-blur-sm transition-colors duration-200" aria-label="æ»šåˆ°åº•éƒ¨" title="æ»šåˆ°åº•éƒ¨" data-tooltip-interactive="false" data-tooltip-placement="left" data-astro-cid-uwaxo4qb> <i class="fa-solid fa-angle-down text-lg" aria-hidden="true" data-astro-cid-uwaxo4qb></i> </button> </div> <button id="toggle-nav" class="flex-center bg-background/80 hover:bg-background size-9 rounded-full shadow-lg backdrop-blur-sm transition-colors duration-200" aria-label="å±•å¼€/æ”¶èµ·å·¥å…·æ " title="å±•å¼€/æ”¶èµ·å·¥å…·æ " data-tooltip-interactive="false" data-tooltip-placement="left" data-astro-cid-uwaxo4qb> <i class="fa-solid fa-wand-magic-sparkles menu-nav-icon hidden text-sm transition-transform duration-300" aria-hidden="true" data-astro-cid-uwaxo4qb></i> <i class="fa-solid fa-xmark close-nav-icon text-sm transition-transform duration-300" aria-hidden="true" data-astro-cid-uwaxo4qb></i> </button> </div> <script type="module" src="/_astro/FloatingGroup.astro_astro_type_script_index_0_lang.Cau6IhNU.js"></script>  <astro-island uid="Z3QiW" prefix="r19" component-url="/_astro/MobileDrawerPanel.BLOi4PdL.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;MobileDrawerPanel&quot;,&quot;value&quot;:true}" await-children><div id="drawer-overlay" class="fixed inset-0 z-[60] bg-black/50 hidden" role="presentation" aria-hidden="true"></div><div id="mobile-drawer" class="bg-gradient-start tablet:flex fixed inset-y-0 left-0 z-[70] hidden h-screen w-[70vw] min-w-64 transform px-4 pt-6 shadow-lg backdrop-blur-sm transition-transform duration-300 md:px-0 -translate-x-full" role="dialog" aria-label="å¯¼èˆªèœå•" aria-modal="true"><div class="flex h-full w-full flex-col overflow-auto"><button id="close-drawer" aria-label="å…³é—­èœå•" class="invisible" type="button"><i class="fa-solid fa-xmark text-xl" aria-hidden="true"></i></button><astro-slot> <div class="page-home-sider shadow-home-sider sticky top-0 self-start max-w-64 flex-col overflow-hidden h-screen min-h-0 items-center tablet:flex mt-4 hidden w-full min-w-full p-0"> <astro-island uid="ZNyzT7" prefix="r15" component-url="/_astro/HomeSiderPanel.BUrtnNyF.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{&quot;type&quot;:[0,&quot;post&quot;],&quot;defaultSegmentType&quot;:[0,&quot;directory&quot;],&quot;homeInfo&quot;:[0,{&quot;avatar&quot;:[0,&quot;/img/724d7fb480c8ac0db472ca5c7e36d239.jpg&quot;],&quot;name&quot;:[0,&quot;snow&quot;],&quot;description&quot;:[0,&quot;ACG / å…»çŒ«äºº / èœé€¼ / å‰ç«¯ä»€é”¦&quot;],&quot;postCount&quot;:[0,23],&quot;categoryCount&quot;:[0,5],&quot;tagCount&quot;:[0,38],&quot;routes&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;é¦–é¡µ&quot;],&quot;path&quot;:[0,&quot;/blog&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-house-chimney&quot;]}],[0,{&quot;name&quot;:[0,&quot;æ–‡ç« &quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-pen-nib&quot;],&quot;children&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;åˆ†ç±»&quot;],&quot;path&quot;:[0,&quot;/blog/categories&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-layer-group&quot;]}],[0,{&quot;name&quot;:[0,&quot;æ ‡ç­¾&quot;],&quot;path&quot;:[0,&quot;/blog/tags&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-tags&quot;]}]]]}],[0,{&quot;name&quot;:[0,&quot;å‹é“¾&quot;],&quot;path&quot;:[0,&quot;/blog/friends&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-link&quot;]}],[0,{&quot;name&quot;:[0,&quot;å…³äº&quot;],&quot;path&quot;:[0,&quot;/blog/about&quot;],&quot;icon&quot;:[0,&quot;fa-regular fa-circle-user&quot;]}]]],&quot;currentPath&quot;:[0,&quot;/blog/post/1/&quot;]}],&quot;tocHeadings&quot;:[1,[]],&quot;tocNumbering&quot;:[0,true],&quot;seriesPostItems&quot;:[1,[[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;rust-æ ‘ç»“æ„ä¸­-rc-ä¸-weak-çš„é…åˆä½¿ç”¨&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Rust æ ‘ç»“æ„ä¸­ Rc ä¸ Weak çš„é…åˆä½¿ç”¨&quot;],&quot;description&quot;:[0,&quot;æ·±å…¥æ¢è®¨åœ¨ Rust ä¸­æ„å»ºæ ‘ç»“æ„æ—¶ï¼Œå¦‚ä½•é€šè¿‡ Rc å’Œ Weak æ™ºèƒ½æŒ‡é’ˆçš„é…åˆä½¿ç”¨æ¥é¿å…å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚æœ¬æ–‡è¯¦ç»†è®²è§£çˆ¶å­èŠ‚ç‚¹ä¹‹é—´çš„å¼•ç”¨å…³ç³»è®¾è®¡åŸåˆ™ï¼Œä»¥åŠä¸ºä»€ä¹ˆçˆ¶èŠ‚ç‚¹ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹ï¼Œè€Œå­èŠ‚ç‚¹ç”¨ Weak æŒ‡å‘çˆ¶èŠ‚ç‚¹ã€‚&quot;],&quot;date&quot;:[3,&quot;2025-12-06T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Rust&quot;],[0,&quot;Rc&quot;],[0,&quot;Weak&quot;],[0,&quot;Smart Pointers&quot;],[0,&quot;Data Structures&quot;]]]}],&quot;body&quot;:[0,&quot;åœ¨ Rust ä¸­æ„å»ºæ ‘å½¢æ•°æ®ç»“æ„æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†çˆ¶å­èŠ‚ç‚¹ä¹‹é—´çš„åŒå‘å¼•ç”¨å…³ç³»ã€‚å¦‚æœå¤„ç†ä¸å½“ï¼Œä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨ï¼ˆcircular referenceï¼‰å’Œå†…å­˜æ³„æ¼ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•é€šè¿‡ `Rc` å’Œ `Weak` æ™ºèƒ½æŒ‡é’ˆçš„é…åˆä½¿ç”¨æ¥ä¼˜é›…åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\n\n## æ ¸å¿ƒåŸåˆ™\n\nåœ¨æ ‘ç»“æ„ä¸­ï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„å¼•ç”¨éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š\n\n**çˆ¶èŠ‚ç‚¹æŒ‡å‘å­èŠ‚ç‚¹ï¼šä½¿ç”¨ `Rc&lt;T&gt;`**\n**å­èŠ‚ç‚¹æŒ‡å‘çˆ¶èŠ‚ç‚¹ï¼šä½¿ç”¨ `Weak&lt;T&gt;`**\n\nè¿™ä¸ªè®¾è®¡æ¨¡å¼æ˜¯é¿å…å¾ªç¯å¼•ç”¨çš„å…³é”®ã€‚\n\n## ä¸ºä»€ä¹ˆéœ€è¦ Weakï¼Ÿ\n\n### å¾ªç¯å¼•ç”¨é—®é¢˜\n\nå¦‚æœæˆ‘ä»¬åŒæ—¶ä½¿ç”¨ `Rc` æ¥è¡¨ç¤ºçˆ¶å­åŒå‘å¼•ç”¨ï¼Œä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨ï¼š\n\n```rust\nuse std::rc::Rc;\nuse std::cell::RefCell;\n\n// âŒ é”™è¯¯ç¤ºä¾‹ï¼šä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨\nstruct Node {\n    value: i32,\n    parent: Option&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;,    // ä½¿ç”¨ Rc æŒ‡å‘çˆ¶èŠ‚ç‚¹\n    children: Vec&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;,     // ä½¿ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹\n}\n```\n\nåœ¨è¿™ç§è®¾è®¡ä¸‹ï¼š\n- çˆ¶èŠ‚ç‚¹æŒæœ‰å­èŠ‚ç‚¹çš„ `Rc`ï¼Œå¼•ç”¨è®¡æ•° +1\n- å­èŠ‚ç‚¹æŒæœ‰çˆ¶èŠ‚ç‚¹çš„ `Rc`ï¼Œå¼•ç”¨è®¡æ•° +1\n- å½“æ ‘ç»“æ„ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œçˆ¶å­èŠ‚ç‚¹äº’ç›¸æŒæœ‰å¯¹æ–¹çš„å¼ºå¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¼šé™ä¸º 0\n- ç»“æœï¼šå†…å­˜æ³„æ¼\n\n### ä½¿ç”¨ Weak æ‰“ç ´å¾ªç¯\n\n`Weak&lt;T&gt;` æ˜¯ä¸€ç§ä¸å½±å“å¼•ç”¨è®¡æ•°çš„\&quot;å¼±å¼•ç”¨\&quot;ã€‚å®ƒå¯ä»¥è§‚å¯Ÿ `Rc&lt;T&gt;` æŒ‡å‘çš„æ•°æ®ï¼Œä½†ä¸ä¼šé˜»æ­¢æ•°æ®è¢«é‡Šæ”¾ã€‚\n\n```rust\nuse std::rc::{Rc, Weak};\nuse std::cell::RefCell;\n\n// âœ… æ­£ç¡®ç¤ºä¾‹ï¼šä½¿ç”¨ Weak æ‰“ç ´å¾ªç¯å¼•ç”¨\nstruct Node {\n    value: i32,\n    parent: Option&lt;Weak&lt;RefCell&lt;Node&gt;&gt;&gt;,  // ä½¿ç”¨ Weak æŒ‡å‘çˆ¶èŠ‚ç‚¹\n    children: Vec&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;,     // ä½¿ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹\n}\n\nimpl Node {\n    fn new(value: i32) -&gt; Rc&lt;RefCell&lt;Node&gt;&gt; {\n        Rc::new(RefCell::new(Node {\n            value,\n            parent: None,\n            children: Vec::new(),\n        }))\n    }\n}\n```\n\n## æ‰€æœ‰æƒå…³ç³»åˆ†æ\n\n### æ‰€æœ‰æƒæµå‘\n\nåœ¨æ ‘ç»“æ„ä¸­ï¼Œæ‰€æœ‰æƒçš„æµå‘æ˜¯ä»ä¸Šåˆ°ä¸‹çš„ï¼š\n\n1. **çˆ¶èŠ‚ç‚¹æ‹¥æœ‰å­èŠ‚ç‚¹**ï¼šçˆ¶èŠ‚ç‚¹é€šè¿‡ `Rc&lt;RefCell&lt;Node&gt;&gt;` æŒæœ‰å­èŠ‚ç‚¹çš„æ‰€æœ‰æƒ\n2. **å­èŠ‚ç‚¹ä¸æ‹¥æœ‰çˆ¶èŠ‚ç‚¹**ï¼šå­èŠ‚ç‚¹é€šè¿‡ `Weak&lt;RefCell&lt;Node&gt;&gt;` è§‚å¯Ÿçˆ¶èŠ‚ç‚¹ï¼Œä½†ä¸æŒæœ‰æ‰€æœ‰æƒ\n3. **é‡Šæ”¾é¡ºåº**ï¼šå½“æ ¹èŠ‚ç‚¹è¢«é‡Šæ”¾æ—¶ï¼Œå­èŠ‚ç‚¹çš„å¼•ç”¨è®¡æ•°ä¼šé€’å‡ï¼Œæœ€ç»ˆæ•´æ£µæ ‘è¢«æ­£ç¡®é‡Šæ”¾\n\n### ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘ï¼Ÿ\n\nè¿™ä¸ªè®¾è®¡ç¬¦åˆæ ‘ç»“æ„çš„è‡ªç„¶è¯­ä¹‰ï¼š\n\n- **çˆ¶èŠ‚ç‚¹æ§åˆ¶å­èŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸ**ï¼šçˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œå­èŠ‚ç‚¹æ‰æœ‰æ„ä¹‰\n- **å­èŠ‚ç‚¹ä¸åº”è¯¥å»¶é•¿çˆ¶èŠ‚ç‚¹çš„ç”Ÿå‘½**ï¼šå­èŠ‚ç‚¹è¢«æŸå¤„å¼•ç”¨æ—¶ï¼Œä¸åº”è¯¥é˜»æ­¢çˆ¶èŠ‚ç‚¹ï¼ˆä¹ƒè‡³æ•´æ£µæ ‘ï¼‰è¢«é‡Šæ”¾\n- **è®¿é—®çˆ¶èŠ‚ç‚¹éœ€è¦æ£€æŸ¥æœ‰æ•ˆæ€§**ï¼šé€šè¿‡ `Weak::upgrade()` è®¿é—®çˆ¶èŠ‚ç‚¹æ—¶ï¼Œä¼šå¾—åˆ° `Option&lt;Rc&lt;T&gt;&gt;`ï¼Œè‡ªåŠ¨å¤„ç†çˆ¶èŠ‚ç‚¹å·²è¢«é‡Šæ”¾çš„æƒ…å†µ\n\n## å®é™…ä½¿ç”¨ç¤ºä¾‹\n\n```rust\nuse std::rc::{Rc, Weak};\nuse std::cell::RefCell;\n\nstruct Node {\n    value: i32,\n    parent: Option&lt;Weak&lt;RefCell&lt;Node&gt;&gt;&gt;,\n    children: Vec&lt;Rc&lt;RefCell&lt;Node&gt;&gt;&gt;,\n}\n\nimpl Node {\n    fn new(value: i32) -&gt; Rc&lt;RefCell&lt;Node&gt;&gt; {\n        Rc::new(RefCell::new(Node {\n            value,\n            parent: None,\n            children: Vec::new(),\n        }))\n    }\n\n    fn add_child(parent: &amp;Rc&lt;RefCell&lt;Node&gt;&gt;, child_value: i32) -&gt; Rc&lt;RefCell&lt;Node&gt;&gt; {\n        let child = Node::new(child_value);\n\n        // å­èŠ‚ç‚¹è®¾ç½®çˆ¶èŠ‚ç‚¹çš„å¼±å¼•ç”¨\n        child.borrow_mut().parent = Some(Rc::downgrade(parent));\n\n        // çˆ¶èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹çš„å¼ºå¼•ç”¨\n        parent.borrow_mut().children.push(Rc::clone(&amp;child));\n\n        child\n    }\n\n    fn get_parent_value(node: &amp;Rc&lt;RefCell&lt;Node&gt;&gt;) -&gt; Option&lt;i32&gt; {\n        node.borrow()\n            .parent\n            .as_ref()\n            .and_then(|weak_parent| weak_parent.upgrade()) // å°è¯•å‡çº§ä¸ºå¼ºå¼•ç”¨\n            .map(|parent| parent.borrow().value)\n    }\n}\n\nfn main() {\n    // åˆ›å»ºæ ¹èŠ‚ç‚¹\n    let root = Node::new(1);\n\n    // æ·»åŠ å­èŠ‚ç‚¹\n    let child1 = Node::add_child(&amp;root, 2);\n    let child2 = Node::add_child(&amp;root, 3);\n\n    // ä¸ºå­èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹\n    let grandchild = Node::add_child(&amp;child1, 4);\n\n    // è®¿é—®çˆ¶èŠ‚ç‚¹\n    println!(\&quot;Grandchild&#39;s parent: {:?}\&quot;, Node::get_parent_value(&amp;grandchild)); // Some(2)\n    println!(\&quot;Child1&#39;s parent: {:?}\&quot;, Node::get_parent_value(&amp;child1));         // Some(1)\n\n    // å½“ root ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œæ•´æ£µæ ‘ä¼šè¢«æ­£ç¡®é‡Šæ”¾\n}\n```\n\n## RefCell çš„ä½œç”¨\n\nä½ å¯èƒ½æ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨äº† `Rc&lt;RefCell&lt;Node&gt;&gt;` è€Œä¸æ˜¯ `Rc&lt;Node&gt;`ã€‚è¿™æ˜¯å› ä¸ºï¼š\n\n- `Rc&lt;T&gt;` æä¾›å…±äº«æ‰€æœ‰æƒï¼Œä½†åªå…è®¸ä¸å¯å˜å€Ÿç”¨\n- `RefCell&lt;T&gt;` æä¾›å†…éƒ¨å¯å˜æ€§ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶è¿›è¡Œå¯å˜å€Ÿç”¨æ£€æŸ¥\n- ç»„åˆä½¿ç”¨å¯ä»¥å®ç°\&quot;å¤šä¸ªæ‰€æœ‰è€…å¯ä»¥ä¿®æ”¹æ•°æ®\&quot;çš„éœ€æ±‚\n\nåœ¨æ ‘ç»“æ„ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä»çˆ¶èŠ‚ç‚¹ä¿®æ”¹å­èŠ‚ç‚¹ï¼ˆæ·»åŠ å­èŠ‚ç‚¹ï¼‰ï¼Œä¹Ÿéœ€è¦ä»å­èŠ‚ç‚¹è®¾ç½®çˆ¶èŠ‚ç‚¹å¼•ç”¨ï¼Œå› æ­¤éœ€è¦ `RefCell` æä¾›çš„å†…éƒ¨å¯å˜æ€§ã€‚\n\n## å…³é”®è¦ç‚¹æ€»ç»“\n\n1. **çˆ¶ â†’ å­ï¼š`Rc`**ï¼Œè¡¨ç¤ºå¼ºå¼•ç”¨å’Œæ‰€æœ‰æƒ\n2. **å­ â†’ çˆ¶ï¼š`Weak`**ï¼Œè¡¨ç¤ºå¼±å¼•ç”¨å’Œè§‚å¯Ÿå…³ç³»\n3. **è®¿é—® Weak å¼•ç”¨**ï¼šä½¿ç”¨ `upgrade()` æ–¹æ³•å°è¯•è·å– `Rc`ï¼Œè¿”å› `Option&lt;Rc&lt;T&gt;&gt;`\n4. **åˆ›å»º Weak å¼•ç”¨**ï¼šä½¿ç”¨ `Rc::downgrade()` ä» `Rc` åˆ›å»º `Weak`\n5. **é¿å…å¾ªç¯å¼•ç”¨**ï¼šWeak ä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œæ‰“ç ´å¾ªç¯\n6. **é…åˆ RefCell**ï¼šå®ç°å…±äº«å¯å˜æ€§\n\né€šè¿‡è¿™ç§è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Rust ä¸­å®‰å…¨åœ°æ„å»ºå¤æ‚çš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œæ—¢æ»¡è¶³æ‰€æœ‰æƒè§„åˆ™ï¼Œåˆé¿å…å†…å­˜æ³„æ¼ã€‚&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Rust-æ ‘ç»“æ„ä¸­-Rc-ä¸-Weak-çš„é…åˆä½¿ç”¨.md&quot;],&quot;digest&quot;:[0,&quot;bb00752ff1310100&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;åœ¨ Rust ä¸­æ„å»ºæ ‘å½¢æ•°æ®ç»“æ„æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†çˆ¶å­èŠ‚ç‚¹ä¹‹é—´çš„åŒå‘å¼•ç”¨å…³ç³»ã€‚å¦‚æœå¤„ç†ä¸å½“ï¼Œä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨ï¼ˆcircular referenceï¼‰å’Œå†…å­˜æ³„æ¼ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•é€šè¿‡ &lt;code&gt;Rc&lt;/code&gt; å’Œ &lt;code&gt;Weak&lt;/code&gt; æ™ºèƒ½æŒ‡é’ˆçš„é…åˆä½¿ç”¨æ¥ä¼˜é›…åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ ¸å¿ƒåŸåˆ™\&quot;&gt;æ ¸å¿ƒåŸåˆ™&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ ¸å¿ƒåŸåˆ™\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;åœ¨æ ‘ç»“æ„ä¸­ï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„å¼•ç”¨éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;çˆ¶èŠ‚ç‚¹æŒ‡å‘å­èŠ‚ç‚¹ï¼šä½¿ç”¨ &lt;code&gt;Rc&amp;#x3C;T&gt;&lt;/code&gt;&lt;/strong&gt;\n&lt;strong&gt;å­èŠ‚ç‚¹æŒ‡å‘çˆ¶èŠ‚ç‚¹ï¼šä½¿ç”¨ &lt;code&gt;Weak&amp;#x3C;T&gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;è¿™ä¸ªè®¾è®¡æ¨¡å¼æ˜¯é¿å…å¾ªç¯å¼•ç”¨çš„å…³é”®ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä¸ºä»€ä¹ˆéœ€è¦-weak\&quot;&gt;ä¸ºä»€ä¹ˆéœ€è¦ Weakï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¸ºä»€ä¹ˆéœ€è¦-weak\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;å¾ªç¯å¼•ç”¨é—®é¢˜\&quot;&gt;å¾ªç¯å¼•ç”¨é—®é¢˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å¾ªç¯å¼•ç”¨é—®é¢˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å¦‚æœæˆ‘ä»¬åŒæ—¶ä½¿ç”¨ &lt;code&gt;Rc&lt;/code&gt; æ¥è¡¨ç¤ºçˆ¶å­åŒå‘å¼•ç”¨ï¼Œä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;rust\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;cell&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ é”™è¯¯ç¤ºä¾‹ï¼šä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;struct&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Option&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,    &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨ Rc æŒ‡å‘çˆ¶èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Vec&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,     &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åœ¨è¿™ç§è®¾è®¡ä¸‹ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;çˆ¶èŠ‚ç‚¹æŒæœ‰å­èŠ‚ç‚¹çš„ &lt;code&gt;Rc&lt;/code&gt;ï¼Œå¼•ç”¨è®¡æ•° +1&lt;/li&gt;\n&lt;li&gt;å­èŠ‚ç‚¹æŒæœ‰çˆ¶èŠ‚ç‚¹çš„ &lt;code&gt;Rc&lt;/code&gt;ï¼Œå¼•ç”¨è®¡æ•° +1&lt;/li&gt;\n&lt;li&gt;å½“æ ‘ç»“æ„ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œçˆ¶å­èŠ‚ç‚¹äº’ç›¸æŒæœ‰å¯¹æ–¹çš„å¼ºå¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¼šé™ä¸º 0&lt;/li&gt;\n&lt;li&gt;ç»“æœï¼šå†…å­˜æ³„æ¼&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;ä½¿ç”¨-weak-æ‰“ç ´å¾ªç¯\&quot;&gt;ä½¿ç”¨ Weak æ‰“ç ´å¾ªç¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä½¿ç”¨-weak-æ‰“ç ´å¾ªç¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;code&gt;Weak&amp;#x3C;T&gt;&lt;/code&gt; æ˜¯ä¸€ç§ä¸å½±å“å¼•ç”¨è®¡æ•°çš„â€å¼±å¼•ç”¨â€ã€‚å®ƒå¯ä»¥è§‚å¯Ÿ &lt;code&gt;Rc&amp;#x3C;T&gt;&lt;/code&gt; æŒ‡å‘çš„æ•°æ®ï¼Œä½†ä¸ä¼šé˜»æ­¢æ•°æ®è¢«é‡Šæ”¾ã€‚&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;rust\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Weak&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;};&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;cell&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… æ­£ç¡®ç¤ºä¾‹ï¼šä½¿ç”¨ Weak æ‰“ç ´å¾ªç¯å¼•ç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;struct&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Option&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Weak&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,  &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨ Weak æŒ‡å‘çˆ¶èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Vec&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,     &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;impl&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;        Rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            value,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; None&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Vec&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(),&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        }))&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;æ‰€æœ‰æƒå…³ç³»åˆ†æ\&quot;&gt;æ‰€æœ‰æƒå…³ç³»åˆ†æ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ‰€æœ‰æƒå…³ç³»åˆ†æ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;æ‰€æœ‰æƒæµå‘\&quot;&gt;æ‰€æœ‰æƒæµå‘&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ‰€æœ‰æƒæµå‘\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨æ ‘ç»“æ„ä¸­ï¼Œæ‰€æœ‰æƒçš„æµå‘æ˜¯ä»ä¸Šåˆ°ä¸‹çš„ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;çˆ¶èŠ‚ç‚¹æ‹¥æœ‰å­èŠ‚ç‚¹&lt;/strong&gt;ï¼šçˆ¶èŠ‚ç‚¹é€šè¿‡ &lt;code&gt;Rc&amp;#x3C;RefCell&amp;#x3C;Node&gt;&gt;&lt;/code&gt; æŒæœ‰å­èŠ‚ç‚¹çš„æ‰€æœ‰æƒ&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å­èŠ‚ç‚¹ä¸æ‹¥æœ‰çˆ¶èŠ‚ç‚¹&lt;/strong&gt;ï¼šå­èŠ‚ç‚¹é€šè¿‡ &lt;code&gt;Weak&amp;#x3C;RefCell&amp;#x3C;Node&gt;&gt;&lt;/code&gt; è§‚å¯Ÿçˆ¶èŠ‚ç‚¹ï¼Œä½†ä¸æŒæœ‰æ‰€æœ‰æƒ&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é‡Šæ”¾é¡ºåº&lt;/strong&gt;ï¼šå½“æ ¹èŠ‚ç‚¹è¢«é‡Šæ”¾æ—¶ï¼Œå­èŠ‚ç‚¹çš„å¼•ç”¨è®¡æ•°ä¼šé€’å‡ï¼Œæœ€ç»ˆæ•´æ£µæ ‘è¢«æ­£ç¡®é‡Šæ”¾&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&quot;ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘\&quot;&gt;ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;è¿™ä¸ªè®¾è®¡ç¬¦åˆæ ‘ç»“æ„çš„è‡ªç„¶è¯­ä¹‰ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;çˆ¶èŠ‚ç‚¹æ§åˆ¶å­èŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸ&lt;/strong&gt;ï¼šçˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œå­èŠ‚ç‚¹æ‰æœ‰æ„ä¹‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å­èŠ‚ç‚¹ä¸åº”è¯¥å»¶é•¿çˆ¶èŠ‚ç‚¹çš„ç”Ÿå‘½&lt;/strong&gt;ï¼šå­èŠ‚ç‚¹è¢«æŸå¤„å¼•ç”¨æ—¶ï¼Œä¸åº”è¯¥é˜»æ­¢çˆ¶èŠ‚ç‚¹ï¼ˆä¹ƒè‡³æ•´æ£µæ ‘ï¼‰è¢«é‡Šæ”¾&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;è®¿é—®çˆ¶èŠ‚ç‚¹éœ€è¦æ£€æŸ¥æœ‰æ•ˆæ€§&lt;/strong&gt;ï¼šé€šè¿‡ &lt;code&gt;Weak::upgrade()&lt;/code&gt; è®¿é—®çˆ¶èŠ‚ç‚¹æ—¶ï¼Œä¼šå¾—åˆ° &lt;code&gt;Option&amp;#x3C;Rc&amp;#x3C;T&gt;&gt;&lt;/code&gt;ï¼Œè‡ªåŠ¨å¤„ç†çˆ¶èŠ‚ç‚¹å·²è¢«é‡Šæ”¾çš„æƒ…å†µ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&quot;å®é™…ä½¿ç”¨ç¤ºä¾‹\&quot;&gt;å®é™…ä½¿ç”¨ç¤ºä¾‹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®é™…ä½¿ç”¨ç¤ºä¾‹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;rust\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Weak&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;};&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;use&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;cell&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;struct&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Option&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Weak&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Vec&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;impl&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;        Rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            value,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; None&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Vec&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(),&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        }))&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; add_child&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; &amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;, child_value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; child &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(child_value);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;        // å­èŠ‚ç‚¹è®¾ç½®çˆ¶èŠ‚ç‚¹çš„å¼±å¼•ç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        child&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;borrow_mut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;parent &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Some&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;downgrade&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(parent));&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;        // çˆ¶èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹çš„å¼ºå¼•ç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;borrow_mut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;children&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;clone&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;child));&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        child&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; get_parent_value&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; &amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Rc&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;RefCell&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Option&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;i32&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;borrow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            .&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;parent&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;as_ref&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;and_then&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;weak_parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; weak_parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;upgrade&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()) &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// å°è¯•å‡çº§ä¸ºå¼ºå¼•ç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;map&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; parent&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;borrow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;value)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; main&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;() {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // åˆ›å»ºæ ¹èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; root &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;new&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // æ·»åŠ å­èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; child1 &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add_child&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;root, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; child2 &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add_child&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;root, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;3&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // ä¸ºå­èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; grandchild &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add_child&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;child1, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;4&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // è®¿é—®çˆ¶èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    println!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;Grandchild&#39;s parent: {:?}\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;get_parent_value&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;grandchild)); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// Some(2)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    println!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;Child1&#39;s parent: {:?}\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Node&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;get_parent_value&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;child1));         &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// Some(1)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // å½“ root ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œæ•´æ£µæ ‘ä¼šè¢«æ­£ç¡®é‡Šæ”¾&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;refcell-çš„ä½œç”¨\&quot;&gt;RefCell çš„ä½œç”¨&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#refcell-çš„ä½œç”¨\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ä½ å¯èƒ½æ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨äº† &lt;code&gt;Rc&amp;#x3C;RefCell&amp;#x3C;Node&gt;&gt;&lt;/code&gt; è€Œä¸æ˜¯ &lt;code&gt;Rc&amp;#x3C;Node&gt;&lt;/code&gt;ã€‚è¿™æ˜¯å› ä¸ºï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;Rc&amp;#x3C;T&gt;&lt;/code&gt; æä¾›å…±äº«æ‰€æœ‰æƒï¼Œä½†åªå…è®¸ä¸å¯å˜å€Ÿç”¨&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;RefCell&amp;#x3C;T&gt;&lt;/code&gt; æä¾›å†…éƒ¨å¯å˜æ€§ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶è¿›è¡Œå¯å˜å€Ÿç”¨æ£€æŸ¥&lt;/li&gt;\n&lt;li&gt;ç»„åˆä½¿ç”¨å¯ä»¥å®ç°â€å¤šä¸ªæ‰€æœ‰è€…å¯ä»¥ä¿®æ”¹æ•°æ®â€çš„éœ€æ±‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;åœ¨æ ‘ç»“æ„ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä»çˆ¶èŠ‚ç‚¹ä¿®æ”¹å­èŠ‚ç‚¹ï¼ˆæ·»åŠ å­èŠ‚ç‚¹ï¼‰ï¼Œä¹Ÿéœ€è¦ä»å­èŠ‚ç‚¹è®¾ç½®çˆ¶èŠ‚ç‚¹å¼•ç”¨ï¼Œå› æ­¤éœ€è¦ &lt;code&gt;RefCell&lt;/code&gt; æä¾›çš„å†…éƒ¨å¯å˜æ€§ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;å…³é”®è¦ç‚¹æ€»ç»“\&quot;&gt;å…³é”®è¦ç‚¹æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å…³é”®è¦ç‚¹æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;çˆ¶ â†’ å­ï¼š&lt;code&gt;Rc&lt;/code&gt;&lt;/strong&gt;ï¼Œè¡¨ç¤ºå¼ºå¼•ç”¨å’Œæ‰€æœ‰æƒ&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å­ â†’ çˆ¶ï¼š&lt;code&gt;Weak&lt;/code&gt;&lt;/strong&gt;ï¼Œè¡¨ç¤ºå¼±å¼•ç”¨å’Œè§‚å¯Ÿå…³ç³»&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;è®¿é—® Weak å¼•ç”¨&lt;/strong&gt;ï¼šä½¿ç”¨ &lt;code&gt;upgrade()&lt;/code&gt; æ–¹æ³•å°è¯•è·å– &lt;code&gt;Rc&lt;/code&gt;ï¼Œè¿”å› &lt;code&gt;Option&amp;#x3C;Rc&amp;#x3C;T&gt;&gt;&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åˆ›å»º Weak å¼•ç”¨&lt;/strong&gt;ï¼šä½¿ç”¨ &lt;code&gt;Rc::downgrade()&lt;/code&gt; ä» &lt;code&gt;Rc&lt;/code&gt; åˆ›å»º &lt;code&gt;Weak&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¿å…å¾ªç¯å¼•ç”¨&lt;/strong&gt;ï¼šWeak ä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œæ‰“ç ´å¾ªç¯&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é…åˆ RefCell&lt;/strong&gt;ï¼šå®ç°å…±äº«å¯å˜æ€§&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;é€šè¿‡è¿™ç§è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Rust ä¸­å®‰å…¨åœ°æ„å»ºå¤æ‚çš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œæ—¢æ»¡è¶³æ‰€æœ‰æƒè§„åˆ™ï¼Œåˆé¿å…å†…å­˜æ³„æ¼ã€‚&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ ¸å¿ƒåŸåˆ™&quot;],&quot;text&quot;:[0,&quot;æ ¸å¿ƒåŸåˆ™&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä¸ºä»€ä¹ˆéœ€è¦-weak&quot;],&quot;text&quot;:[0,&quot;ä¸ºä»€ä¹ˆéœ€è¦ Weakï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;å¾ªç¯å¼•ç”¨é—®é¢˜&quot;],&quot;text&quot;:[0,&quot;å¾ªç¯å¼•ç”¨é—®é¢˜&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;ä½¿ç”¨-weak-æ‰“ç ´å¾ªç¯&quot;],&quot;text&quot;:[0,&quot;ä½¿ç”¨ Weak æ‰“ç ´å¾ªç¯&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ‰€æœ‰æƒå…³ç³»åˆ†æ&quot;],&quot;text&quot;:[0,&quot;æ‰€æœ‰æƒå…³ç³»åˆ†æ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;æ‰€æœ‰æƒæµå‘&quot;],&quot;text&quot;:[0,&quot;æ‰€æœ‰æƒæµå‘&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘&quot;],&quot;text&quot;:[0,&quot;ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ–¹å‘ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å®é™…ä½¿ç”¨ç¤ºä¾‹&quot;],&quot;text&quot;:[0,&quot;å®é™…ä½¿ç”¨ç¤ºä¾‹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;refcell-çš„ä½œç”¨&quot;],&quot;text&quot;:[0,&quot;RefCell çš„ä½œç”¨&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å…³é”®è¦ç‚¹æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;å…³é”®è¦ç‚¹æ€»ç»“&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Rust æ ‘ç»“æ„ä¸­ Rc ä¸ Weak çš„é…åˆä½¿ç”¨&quot;],&quot;date&quot;:[3,&quot;2025-12-06T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Rust&quot;],[0,&quot;Rc&quot;],[0,&quot;Weak&quot;],[0,&quot;Smart Pointers&quot;],[0,&quot;Data Structures&quot;]]],&quot;description&quot;:[0,&quot;æ·±å…¥æ¢è®¨åœ¨ Rust ä¸­æ„å»ºæ ‘ç»“æ„æ—¶ï¼Œå¦‚ä½•é€šè¿‡ Rc å’Œ Weak æ™ºèƒ½æŒ‡é’ˆçš„é…åˆä½¿ç”¨æ¥é¿å…å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚æœ¬æ–‡è¯¦ç»†è®²è§£çˆ¶å­èŠ‚ç‚¹ä¹‹é—´çš„å¼•ç”¨å…³ç³»è®¾è®¡åŸåˆ™ï¼Œä»¥åŠä¸ºä»€ä¹ˆçˆ¶èŠ‚ç‚¹ç”¨ Rc æŒ‡å‘å­èŠ‚ç‚¹ï¼Œè€Œå­èŠ‚ç‚¹ç”¨ Weak æŒ‡å‘çˆ¶èŠ‚ç‚¹ã€‚&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/22&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;rust-cow-learning-notes&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Rust Cowï¼ˆClone-On-Writeï¼‰å­¦ä¹ ç¬”è®°ï¼šç†è§£ Borrowed çŠ¶æ€&quot;],&quot;description&quot;:[0,&quot;æœ¬æ–‡é€šè¿‡ä¸€ä¸ªå…·ä½“çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œæ·±å…¥æ¢è®¨äº† Rust ä¸­ Cowï¼ˆClone-On-Writeï¼‰æ™ºèƒ½æŒ‡é’ˆçš„ Borrowed çŠ¶æ€ã€‚æˆ‘ä»¬å°†ç†è§£åœ¨ä½•ç§æƒ…å†µä¸‹ Cow ä¼šä¿æŒå€Ÿç”¨ï¼Œä»¥åŠå®ƒä½•æ—¶ä¼šå…‹éš†æ•°æ®å˜ä¸ºæ‰€æœ‰ã€‚&quot;],&quot;date&quot;:[3,&quot;2025-12-05T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Rust&quot;],[0,&quot;Cow&quot;],[0,&quot;Smart Pointers&quot;],[0,&quot;Borrowing&quot;]]]}],&quot;body&quot;:[0,&quot;åœ¨ Rust çš„æ™ºèƒ½æŒ‡é’ˆä¸­ï¼Œ`Cow` (Clone-On-Write) æä¾›äº†ä¸€ç§çµæ´»çš„æ•°æ®å¤„ç†æ–¹å¼ï¼Œå®ƒå¯ä»¥åœ¨éœ€è¦æ—¶æ‰è¿›è¡Œæ•°æ®å…‹éš†ï¼Œä»è€Œä¼˜åŒ–æ€§èƒ½ã€‚æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªå…·ä½“çš„æ¡ˆä¾‹ï¼Œæ¥æ·±å…¥ç†è§£ `Cow` çš„ `Borrowed` çŠ¶æ€ã€‚\n\n### `Cow::Borrowed` æ˜¯ä»€ä¹ˆï¼Ÿ\n\nåœ¨ Rust ä¸­ï¼Œ`Cow` ç±»å‹æœ‰ä¸¤ç§ä¸»è¦çš„çŠ¶æ€ï¼š\n\n-   `Cow::Borrowed&lt;&#39;a, T&gt;`ï¼šè¡¨ç¤º `Cow` åªæ˜¯â€œå€Ÿç”¨â€äº†åŸå§‹æ•°æ®ï¼Œå®ƒæŒæœ‰ä¸€ä¸ªå¯¹ç±»å‹ `T` çš„ä¸å¯å˜å¼•ç”¨ `&amp;&#39;a T`ã€‚åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œ`Cow` ä¸æ‹¥æœ‰æ•°æ®çš„æ‰€æœ‰æƒï¼Œä¹Ÿä¸ä¼šå¯¹åŸå§‹æ•°æ®è¿›è¡Œä»»ä½•ä¿®æ”¹ã€‚\n-   `Cow::Owned&lt;T&gt;`ï¼šè¡¨ç¤º `Cow` æ‹¥æœ‰äº†ä¸€ä»½æ•°æ®çš„å‰¯æœ¬ã€‚å½“éœ€è¦ä¿®æ”¹æ•°æ®ï¼Œä¸” `Cow` å½“å‰å¤„äº `Borrowed` çŠ¶æ€æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å…‹éš†ä¸€ä»½æ•°æ®ï¼Œå¹¶è½¬æ¢ä¸º `Owned` çŠ¶æ€ï¼Œä»è€Œå…è®¸è¿›è¡Œä¿®æ”¹ã€‚\n\n### æ¡ˆä¾‹åˆ†æï¼š`reference_no_mutation` æµ‹è¯•\n\næˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªåœ¨ `rustlings` ç»ƒä¹ ä¸­å¸¸è§çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬ç†è§£ `Cow` çš„è¡Œä¸ºï¼š\n\n```rust\n// å‡è®¾æœ‰å¦‚ä¸‹çš„ abs_all å‡½æ•°\nfn abs_all&lt;&#39;a, T&gt;(input: Cow&lt;&#39;a, [T]&gt;) -&gt; Cow&lt;&#39;a, [T]&gt;\nwhere\n    T: Clone + Copy + PartialOrd + std::ops::Neg&lt;Output = T&gt;,\n{\n    input\n        .into_iter()\n        .map(|&amp;x| if x &lt; T::from(0) { -x } else { x })\n        .collect::&lt;Vec&lt;T&gt;&gt;()\n        .into()\n}\n\n// åœ¨ reference_no_mutation æµ‹è¯•ä¸­\nlet input_vec = vec![0, 1, 2];\nlet mut input = Cow::from(&amp;input_vec); // é€šè¿‡ Cow::from(&amp;vec) åˆ›å»ºï¼Œæ­¤æ—¶ input æ˜¯ Borrowed çŠ¶æ€\nlet result = abs_all(input.clone()); // ä¼ å…¥ abs_all å‡½æ•°\n\nassert!(matches!(input, Cow::Borrowed(_))); // è¿™ä¸ªæ–­è¨€ä¼šæˆåŠŸ\n```\n\n**åˆ†æè¿‡ç¨‹ï¼š**\n\n1.  **åˆ›å»º `Cow`ï¼š** åœ¨ `reference_no_mutation` æµ‹è¯•ä¸­ï¼Œ`input` æ˜¯é€šè¿‡ `Cow::from(&amp;input_vec)` åˆ›å»ºçš„ã€‚è¿™æ„å‘³ç€ `input` æœ€åˆæ˜¯å¯¹ `input_vec` çš„ä¸€ä¸ªå€Ÿç”¨ (`Cow::Borrowed`)ï¼Œå®ƒä¸æ‹¥æœ‰æ•°æ®çš„æ‰€æœ‰æƒã€‚\n\n2.  **`abs_all` å‡½æ•°çš„è¡Œä¸ºï¼š** `abs_all` å‡½æ•°çš„ç›®çš„æ˜¯å°†åˆ‡ç‰‡ä¸­çš„æ‰€æœ‰è´Ÿæ•°å˜ä¸ºæ­£æ•°ï¼ˆå–ç»å¯¹å€¼ï¼‰ã€‚å®ƒé€šè¿‡ `into_iter().map(...)` éå†å…ƒç´ ã€‚å…³é”®åœ¨äº `map` å†…éƒ¨çš„é€»è¾‘ï¼š`if x &lt; T::from(0) { -x } else { x }`ã€‚åªæœ‰å½“å…ƒç´  `x` å°äº 0 æ—¶ï¼Œæ‰ä¼šè¿›è¡Œæ“ä½œ `-x`ã€‚\n\n3.  **æ— ä¿®æ”¹å‘ç”Ÿï¼š** åœ¨è¿™ä¸ªç‰¹å®šçš„æµ‹è¯•ä¸­ï¼Œ`input_vec` çš„å†…å®¹æ˜¯ `[0, 1, 2]`ï¼Œæ‰€æœ‰å…ƒç´ éƒ½æ˜¯éè´Ÿæ•°ã€‚å› æ­¤ï¼Œåœ¨ `abs_all` å‡½æ•°å†…éƒ¨ï¼Œæ¡ä»¶ `x &lt; T::from(0)` **ä»æœª**æ»¡è¶³ã€‚è¿™æ„å‘³ç€ `input`ï¼ˆæˆ–è€…å…¶å†…éƒ¨æ•°æ®ï¼‰å¹¶æ²¡æœ‰è¢«å®é™…ä¿®æ”¹ã€‚\n\n4.  **`to_mut()` æœªè¢«è°ƒç”¨ï¼š** `Cow` åªæœ‰åœ¨éœ€è¦ä¿®æ”¹å€Ÿç”¨çš„æ•°æ®æ—¶ï¼Œæ‰ä¼šè°ƒç”¨ `to_mut()` æ–¹æ³•æ¥å…‹éš†æ•°æ®å¹¶è½¬æ¢ä¸º `Owned` çŠ¶æ€ã€‚ç”±äºä¸Šè¿°åŸå› ï¼Œæ²¡æœ‰ä»»ä½•å…ƒç´ éœ€è¦ä¿®æ”¹ï¼Œæ‰€ä»¥ `to_mut()` ä»æœªè¢«è°ƒç”¨ã€‚\n\n5.  **ç»“æœï¼šä¿æŒ `Borrowed` çŠ¶æ€ï¼š** å› ä¸º `input` åœ¨ `abs_all` å‡½æ•°çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä¹Ÿå› æ­¤æ²¡æœ‰è§¦å‘æ•°æ®å…‹éš†ï¼Œ`input` ä»ç„¶ä¿æŒç€å¯¹åŸå§‹æ•°æ® `input_vec` çš„å€Ÿç”¨çŠ¶æ€ã€‚\n\n### ç»“è®º\n\nå› æ­¤ï¼Œ`assert!(matches!(input, Cow::Borrowed(_)))` æ–­è¨€æˆç«‹ã€‚è¿™ä¸ªä¾‹å­æ¸…æ™°åœ°å±•ç¤ºäº† `Cow` çš„â€œCopy-On-Writeâ€æœºåˆ¶ï¼šåªæœ‰åœ¨å®é™…éœ€è¦å†™å…¥ï¼ˆä¿®æ”¹ï¼‰æ—¶ï¼Œæ‰ä¼šå‘ç”Ÿæ•°æ®çš„å…‹éš†å’Œæ‰€æœ‰æƒçš„è½¬ç§»ã€‚å¦‚æœæ•°æ®ä»…ä»…è¢«è¯»å–ï¼Œ`Cow` ä¼šé«˜æ•ˆåœ°ä¿æŒ `Borrowed` çŠ¶æ€ï¼Œé¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…å’Œæ•°æ®å¤åˆ¶ã€‚ç†è§£è¿™ä¸€ç‚¹å¯¹äºç¼–å†™é«˜æ•ˆçš„ Rust ä»£ç è‡³å…³é‡è¦ã€‚&quot;],&quot;filePath&quot;:[0,&quot;source/posts/rust-cow-learning-notes.md&quot;],&quot;digest&quot;:[0,&quot;8db16e4b798e3187&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;åœ¨ Rust çš„æ™ºèƒ½æŒ‡é’ˆä¸­ï¼Œ&lt;code&gt;Cow&lt;/code&gt; (Clone-On-Write) æä¾›äº†ä¸€ç§çµæ´»çš„æ•°æ®å¤„ç†æ–¹å¼ï¼Œå®ƒå¯ä»¥åœ¨éœ€è¦æ—¶æ‰è¿›è¡Œæ•°æ®å…‹éš†ï¼Œä»è€Œä¼˜åŒ–æ€§èƒ½ã€‚æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªå…·ä½“çš„æ¡ˆä¾‹ï¼Œæ¥æ·±å…¥ç†è§£ &lt;code&gt;Cow&lt;/code&gt; çš„ &lt;code&gt;Borrowed&lt;/code&gt; çŠ¶æ€ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;cowborrowed-æ˜¯ä»€ä¹ˆ\&quot;&gt;&lt;code&gt;Cow::Borrowed&lt;/code&gt; æ˜¯ä»€ä¹ˆï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#cowborrowed-æ˜¯ä»€ä¹ˆ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨ Rust ä¸­ï¼Œ&lt;code&gt;Cow&lt;/code&gt; ç±»å‹æœ‰ä¸¤ç§ä¸»è¦çš„çŠ¶æ€ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;Cow::Borrowed&amp;#x3C;&#39;a, T&gt;&lt;/code&gt;ï¼šè¡¨ç¤º &lt;code&gt;Cow&lt;/code&gt; åªæ˜¯â€œå€Ÿç”¨â€äº†åŸå§‹æ•°æ®ï¼Œå®ƒæŒæœ‰ä¸€ä¸ªå¯¹ç±»å‹ &lt;code&gt;T&lt;/code&gt; çš„ä¸å¯å˜å¼•ç”¨ &lt;code&gt;&amp;#x26;&#39;a T&lt;/code&gt;ã€‚åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œ&lt;code&gt;Cow&lt;/code&gt; ä¸æ‹¥æœ‰æ•°æ®çš„æ‰€æœ‰æƒï¼Œä¹Ÿä¸ä¼šå¯¹åŸå§‹æ•°æ®è¿›è¡Œä»»ä½•ä¿®æ”¹ã€‚&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;Cow::Owned&amp;#x3C;T&gt;&lt;/code&gt;ï¼šè¡¨ç¤º &lt;code&gt;Cow&lt;/code&gt; æ‹¥æœ‰äº†ä¸€ä»½æ•°æ®çš„å‰¯æœ¬ã€‚å½“éœ€è¦ä¿®æ”¹æ•°æ®ï¼Œä¸” &lt;code&gt;Cow&lt;/code&gt; å½“å‰å¤„äº &lt;code&gt;Borrowed&lt;/code&gt; çŠ¶æ€æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å…‹éš†ä¸€ä»½æ•°æ®ï¼Œå¹¶è½¬æ¢ä¸º &lt;code&gt;Owned&lt;/code&gt; çŠ¶æ€ï¼Œä»è€Œå…è®¸è¿›è¡Œä¿®æ”¹ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;æ¡ˆä¾‹åˆ†æreference_no_mutation-æµ‹è¯•\&quot;&gt;æ¡ˆä¾‹åˆ†æï¼š&lt;code&gt;reference_no_mutation&lt;/code&gt; æµ‹è¯•&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ¡ˆä¾‹åˆ†æreference_no_mutation-æµ‹è¯•\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªåœ¨ &lt;code&gt;rustlings&lt;/code&gt; ç»ƒä¹ ä¸­å¸¸è§çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬ç†è§£ &lt;code&gt;Cow&lt;/code&gt; çš„è¡Œä¸ºï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;rust\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// å‡è®¾æœ‰å¦‚ä¸‹çš„ abs_all å‡½æ•°&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;fn&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; abs_all&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&#39;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;a&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;T&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;(input&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Cow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&#39;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;a&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, [&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;T&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;]&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Cow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&#39;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;a&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, [&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;T&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;]&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;where&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    T&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Clone&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; +&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Copy&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; +&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; PartialOrd&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; +&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; std&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;ops&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Neg&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Output&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; T&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    input&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;into_iter&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;map&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;x&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; x &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; T&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) { &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;-&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;x } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { x })&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;collect&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Vec&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;T&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        .&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;into&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// åœ¨ reference_no_mutation æµ‹è¯•ä¸­&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; input_vec &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; vec!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;];&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; mut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; input &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Cow&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;input_vec); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// é€šè¿‡ Cow::from(&amp;#x26;vec) åˆ›å»ºï¼Œæ­¤æ—¶ input æ˜¯ Borrowed çŠ¶æ€&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; result &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; abs_all&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(input&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;clone&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;()); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¼ å…¥ abs_all å‡½æ•°&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;assert!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;matches!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(input, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Cow&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;::&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;Borrowed&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(_))); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// è¿™ä¸ªæ–­è¨€ä¼šæˆåŠŸ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;åˆ†æè¿‡ç¨‹ï¼š&lt;/strong&gt;&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;åˆ›å»º &lt;code&gt;Cow&lt;/code&gt;ï¼š&lt;/strong&gt; åœ¨ &lt;code&gt;reference_no_mutation&lt;/code&gt; æµ‹è¯•ä¸­ï¼Œ&lt;code&gt;input&lt;/code&gt; æ˜¯é€šè¿‡ &lt;code&gt;Cow::from(&amp;#x26;input_vec)&lt;/code&gt; åˆ›å»ºçš„ã€‚è¿™æ„å‘³ç€ &lt;code&gt;input&lt;/code&gt; æœ€åˆæ˜¯å¯¹ &lt;code&gt;input_vec&lt;/code&gt; çš„ä¸€ä¸ªå€Ÿç”¨ (&lt;code&gt;Cow::Borrowed&lt;/code&gt;)ï¼Œå®ƒä¸æ‹¥æœ‰æ•°æ®çš„æ‰€æœ‰æƒã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;&lt;code&gt;abs_all&lt;/code&gt; å‡½æ•°çš„è¡Œä¸ºï¼š&lt;/strong&gt; &lt;code&gt;abs_all&lt;/code&gt; å‡½æ•°çš„ç›®çš„æ˜¯å°†åˆ‡ç‰‡ä¸­çš„æ‰€æœ‰è´Ÿæ•°å˜ä¸ºæ­£æ•°ï¼ˆå–ç»å¯¹å€¼ï¼‰ã€‚å®ƒé€šè¿‡ &lt;code&gt;into_iter().map(...)&lt;/code&gt; éå†å…ƒç´ ã€‚å…³é”®åœ¨äº &lt;code&gt;map&lt;/code&gt; å†…éƒ¨çš„é€»è¾‘ï¼š&lt;code&gt;if x &amp;#x3C; T::from(0) { -x } else { x }&lt;/code&gt;ã€‚åªæœ‰å½“å…ƒç´  &lt;code&gt;x&lt;/code&gt; å°äº 0 æ—¶ï¼Œæ‰ä¼šè¿›è¡Œæ“ä½œ &lt;code&gt;-x&lt;/code&gt;ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;æ— ä¿®æ”¹å‘ç”Ÿï¼š&lt;/strong&gt; åœ¨è¿™ä¸ªç‰¹å®šçš„æµ‹è¯•ä¸­ï¼Œ&lt;code&gt;input_vec&lt;/code&gt; çš„å†…å®¹æ˜¯ &lt;code&gt;[0, 1, 2]&lt;/code&gt;ï¼Œæ‰€æœ‰å…ƒç´ éƒ½æ˜¯éè´Ÿæ•°ã€‚å› æ­¤ï¼Œåœ¨ &lt;code&gt;abs_all&lt;/code&gt; å‡½æ•°å†…éƒ¨ï¼Œæ¡ä»¶ &lt;code&gt;x &amp;#x3C; T::from(0)&lt;/code&gt; &lt;strong&gt;ä»æœª&lt;/strong&gt;æ»¡è¶³ã€‚è¿™æ„å‘³ç€ &lt;code&gt;input&lt;/code&gt;ï¼ˆæˆ–è€…å…¶å†…éƒ¨æ•°æ®ï¼‰å¹¶æ²¡æœ‰è¢«å®é™…ä¿®æ”¹ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;&lt;code&gt;to_mut()&lt;/code&gt; æœªè¢«è°ƒç”¨ï¼š&lt;/strong&gt; &lt;code&gt;Cow&lt;/code&gt; åªæœ‰åœ¨éœ€è¦ä¿®æ”¹å€Ÿç”¨çš„æ•°æ®æ—¶ï¼Œæ‰ä¼šè°ƒç”¨ &lt;code&gt;to_mut()&lt;/code&gt; æ–¹æ³•æ¥å…‹éš†æ•°æ®å¹¶è½¬æ¢ä¸º &lt;code&gt;Owned&lt;/code&gt; çŠ¶æ€ã€‚ç”±äºä¸Šè¿°åŸå› ï¼Œæ²¡æœ‰ä»»ä½•å…ƒç´ éœ€è¦ä¿®æ”¹ï¼Œæ‰€ä»¥ &lt;code&gt;to_mut()&lt;/code&gt; ä»æœªè¢«è°ƒç”¨ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;ç»“æœï¼šä¿æŒ &lt;code&gt;Borrowed&lt;/code&gt; çŠ¶æ€ï¼š&lt;/strong&gt; å› ä¸º &lt;code&gt;input&lt;/code&gt; åœ¨ &lt;code&gt;abs_all&lt;/code&gt; å‡½æ•°çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä¹Ÿå› æ­¤æ²¡æœ‰è§¦å‘æ•°æ®å…‹éš†ï¼Œ&lt;code&gt;input&lt;/code&gt; ä»ç„¶ä¿æŒç€å¯¹åŸå§‹æ•°æ® &lt;code&gt;input_vec&lt;/code&gt; çš„å€Ÿç”¨çŠ¶æ€ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&quot;ç»“è®º\&quot;&gt;ç»“è®º&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ç»“è®º\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å› æ­¤ï¼Œ&lt;code&gt;assert!(matches!(input, Cow::Borrowed(_)))&lt;/code&gt; æ–­è¨€æˆç«‹ã€‚è¿™ä¸ªä¾‹å­æ¸…æ™°åœ°å±•ç¤ºäº† &lt;code&gt;Cow&lt;/code&gt; çš„â€œCopy-On-Writeâ€æœºåˆ¶ï¼šåªæœ‰åœ¨å®é™…éœ€è¦å†™å…¥ï¼ˆä¿®æ”¹ï¼‰æ—¶ï¼Œæ‰ä¼šå‘ç”Ÿæ•°æ®çš„å…‹éš†å’Œæ‰€æœ‰æƒçš„è½¬ç§»ã€‚å¦‚æœæ•°æ®ä»…ä»…è¢«è¯»å–ï¼Œ&lt;code&gt;Cow&lt;/code&gt; ä¼šé«˜æ•ˆåœ°ä¿æŒ &lt;code&gt;Borrowed&lt;/code&gt; çŠ¶æ€ï¼Œé¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…å’Œæ•°æ®å¤åˆ¶ã€‚ç†è§£è¿™ä¸€ç‚¹å¯¹äºç¼–å†™é«˜æ•ˆçš„ Rust ä»£ç è‡³å…³é‡è¦ã€‚&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;cowborrowed-æ˜¯ä»€ä¹ˆ&quot;],&quot;text&quot;:[0,&quot;Cow::Borrowed æ˜¯ä»€ä¹ˆï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;æ¡ˆä¾‹åˆ†æreference_no_mutation-æµ‹è¯•&quot;],&quot;text&quot;:[0,&quot;æ¡ˆä¾‹åˆ†æï¼šreference_no_mutation æµ‹è¯•&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;ç»“è®º&quot;],&quot;text&quot;:[0,&quot;ç»“è®º&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Rust Cowï¼ˆClone-On-Writeï¼‰å­¦ä¹ ç¬”è®°ï¼šç†è§£ Borrowed çŠ¶æ€&quot;],&quot;date&quot;:[3,&quot;2025-12-05T00:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Rust&quot;],[0,&quot;Cow&quot;],[0,&quot;Smart Pointers&quot;],[0,&quot;Borrowing&quot;]]],&quot;description&quot;:[0,&quot;æœ¬æ–‡é€šè¿‡ä¸€ä¸ªå…·ä½“çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œæ·±å…¥æ¢è®¨äº† Rust ä¸­ Cowï¼ˆClone-On-Writeï¼‰æ™ºèƒ½æŒ‡é’ˆçš„ Borrowed çŠ¶æ€ã€‚æˆ‘ä»¬å°†ç†è§£åœ¨ä½•ç§æƒ…å†µä¸‹ Cow ä¼šä¿æŒå€Ÿç”¨ï¼Œä»¥åŠå®ƒä½•æ—¶ä¼šå…‹éš†æ•°æ®å˜ä¸ºæ‰€æœ‰ã€‚&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/21&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;electronçƒ­æ›´æ–°åå¯åŠ¨æ€§èƒ½ä¼˜åŒ–-v8ç¼“å­˜ä¸ä»£ç æ‹†åŒ…å®æˆ˜&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Electron çƒ­æ›´æ–°åå¯åŠ¨æ€§èƒ½ä¼˜åŒ–ï¼šV8 ç¼“å­˜ä¸ä»£ç æ‹†åŒ…å®æˆ˜&quot;],&quot;description&quot;:[0,&quot;æ·±å…¥å®æˆ˜ Electron åº”ç”¨æ€§èƒ½ä¼˜åŒ–ï¼Œé€šè¿‡å¯ç”¨ V8 ä»£ç ç¼“å­˜ã€Vite æ¨¡å—æ‹†åŒ…ã€æŒ‰éœ€å¯¼å…¥å’Œå»¶è¿ŸåŠ è½½ç­‰æ‰‹æ®µï¼Œå°†ä¸»è¿›ç¨‹å¯åŠ¨æ—¶é—´ä» 1619ms ä¼˜åŒ–åˆ° 311msï¼Œæ€§èƒ½æå‡ 80%ã€‚è¯¦è§£ V8 JIT ç¼–è¯‘åŸç†ã€manualChunks æ‹†åŒ…ç­–ç•¥åŠå®é™…ä¼˜åŒ–æ•ˆæœå¯¹æ¯”ã€‚&quot;],&quot;date&quot;:[3,&quot;2025-11-18T18:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Electron&quot;],[0,&quot;æ€§èƒ½ä¼˜åŒ–&quot;],[0,&quot;V8&quot;],[0,&quot;Vite&quot;],[0,&quot;çƒ­æ›´æ–°&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;body&quot;:[0,&quot;## å‰è¨€\n\nåœ¨ Electron åº”ç”¨å¼€å‘ä¸­ï¼Œçƒ­æ›´æ–°åçš„é¦–æ¬¡å¯åŠ¨é€Ÿåº¦ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒã€‚å°†ä¸»è¿›ç¨‹å¯åŠ¨æ—¶é—´ä» 1619ms ä¼˜åŒ–åˆ° 311ms çš„å®Œæ•´å®è·µè¿‡ç¨‹ã€‚\n\n## æ€§èƒ½æ•°æ®å¯¹æ¯”\n\né€šè¿‡ä»¥ä¸‹ä¼˜åŒ–æ‰‹æ®µï¼Œæˆ‘ä»¬å®ç°äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼š\n\n| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡å¹…åº¦ |\n|-----|-------|-------|---------|\n| **ä¸»è¿›ç¨‹å¯åŠ¨æ€»è€—æ—¶** | 1619.32ms | 311.88ms | **80.7% â†“** |\n| **app.whenReady è€—æ—¶** | 833.46ms | 126.61ms | **84.8% â†“** |\n| **çª—å£åˆ›å»ºè€—æ—¶** | 536.34ms | 140.59ms | **73.8% â†“** |\n| **V8 ç¼“å­˜æ–‡ä»¶æ•°é‡** | 9543 ä¸ª | 9043 ä¸ª | ä¼˜åŒ–åç¨³å®š |\n\nä»å®é™…æ—¥å¿—æ•°æ®æ¥çœ‹ï¼š\n\n```log\n# ä¼˜åŒ–å‰ï¼ˆ2025-11-18 16:37:59ï¼‰\n[info] â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹\n[info] â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: 833.46ms\n[info] ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: 9543\n[info] â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: 536.34ms\n[info] â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: 1619.32ms\n\n# ä¼˜åŒ–åï¼ˆ2025-11-18 17:10:30ï¼‰\n[info] â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹\n[info] â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: 126.61ms\n[info] ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: 9043\n[info] â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: 140.59ms\n[info] â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: 311.88ms\n```\n\n## æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥\n\n### 1. å¯ç”¨ V8 ä»£ç ç¼“å­˜\n\nV8 ä»£ç ç¼“å­˜ï¼ˆCode Cacheï¼‰æ˜¯ Chrome å’Œ Node.js ä¸­ç”¨äºåŠ é€Ÿ JavaScript ä»£ç æ‰§è¡Œçš„é‡è¦æœºåˆ¶ã€‚é€šè¿‡ç¼“å­˜ç¼–è¯‘åçš„å­—èŠ‚ç ï¼Œå¯ä»¥é¿å…é‡å¤çš„è§£æå’Œç¼–è¯‘è¿‡ç¨‹ã€‚\n\n#### å®ç°æ–¹å¼\n\nåœ¨ Electron ä¸»è¿›ç¨‹å¯åŠ¨æ—¶æ·»åŠ å‘½ä»¤è¡Œå¼€å…³ï¼š\n\n```typescript\n// src/main/index.ts\n\n// å¯ç”¨ V8 ä»£ç ç¼“å­˜ä¼˜åŒ–ï¼ŒåŠ é€Ÿå†·å¯åŠ¨\napp.commandLine.appendSwitch(&#39;enable-features&#39;, &#39;V8CodeCache&#39;);\napp.commandLine.appendSwitch(&#39;v8-cache-options&#39;, &#39;code&#39;);\n```\n\n#### éªŒè¯ç¼“å­˜æ•ˆæœ\n\nåœ¨ `app.whenReady()` ä¸­æ·»åŠ ç›‘æ§ä»£ç ï¼š\n\n```typescript\napp.whenReady().then(async () =&gt; {\n  const readyTime = performance.now();\n  log.info(`â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: ${(readyTime - startupTime).toFixed(2)}ms`);\n\n  // éªŒè¯ V8 ä»£ç ç¼“å­˜\n  const cacheDir = join(app.getPath(&#39;userData&#39;), &#39;Code Cache&#39;, &#39;js&#39;);\n  try {\n    const fs = await import(&#39;fs&#39;);\n    if (fs.existsSync(cacheDir)) {\n      const cacheFiles = fs.readdirSync(cacheDir);\n      log.info(`ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: ${cacheFiles.length}`);\n    } else {\n      log.info(&#39;ğŸ“¦ V8 ä»£ç ç¼“å­˜ç›®å½•ä¸å­˜åœ¨ï¼ˆé¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰&#39;);\n    }\n  } catch (error) {\n    log.warn(&#39;æ— æ³•æ£€æŸ¥ V8 ç¼“å­˜ç›®å½•:&#39;, error);\n  }\n});\n```\n\n#### å·¥ä½œåŸç†\n\nV8 å¼•æ“åœ¨æ‰§è¡Œ JavaScript æ—¶çš„æµç¨‹ï¼š\n1. **è§£æï¼ˆParsingï¼‰**ï¼šå°†æºä»£ç è½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰\n2. **ç¼–è¯‘ï¼ˆCompilationï¼‰**ï¼šå°† AST ç¼–è¯‘ä¸ºå­—èŠ‚ç \n3. **æ‰§è¡Œï¼ˆExecutionï¼‰**ï¼šV8 è§£é‡Šå™¨æ‰§è¡Œå­—èŠ‚ç \n\nå¯ç”¨ä»£ç ç¼“å­˜åï¼š\n- **é¦–æ¬¡è¿è¡Œ**ï¼šV8 ç”Ÿæˆå­—èŠ‚ç å¹¶ç¼“å­˜åˆ°ç£ç›˜\n- **åç»­è¿è¡Œ**ï¼šç›´æ¥åŠ è½½ç¼“å­˜çš„å­—èŠ‚ç ï¼Œè·³è¿‡è§£æå’Œç¼–è¯‘é˜¶æ®µ\n\n### 2. æ¨¡å—æ‹†åŒ…ï¼ˆCode Splittingï¼‰â€”â€” æ ¸å¿ƒä¼˜åŒ–\n\nè¿™æ˜¯æœ¬æ¬¡ä¼˜åŒ–ä¸­æœ€å…³é”®çš„ä¸€æ­¥ã€‚**é€šè¿‡ Vite é…ç½®å°†å•ä¸€çš„ `main.js` æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„ `utils/*.js` æ–‡ä»¶ï¼Œæ˜¾è‘—é™ä½ V8 çš„ JIT ç¼–è¯‘å‹åŠ›ã€‚**\n\n#### é—®é¢˜èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…ï¼Ÿ\n\nåœ¨ä¼˜åŒ–å‰ï¼Œé¡¹ç›®ä½¿ç”¨ `src/main/utils/index.ts` ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰å·¥å…·å‡½æ•°ï¼š\n\n```typescript\n// src/main/utils/index.tsï¼ˆä¼˜åŒ–å‰ï¼‰\nexport * from &#39;./aesEncode&#39;;\nexport * from &#39;./notifi&#39;;\nexport * from &#39;./tray&#39;;\nexport * from &#39;./latex2Docx&#39;;\nexport * from &#39;./pathUtils&#39;;\n// ... å¯¼å‡ºå‡ åä¸ªå·¥å…·æ¨¡å—\n```\n\nVite æ‰“åŒ…åï¼Œæ‰€æœ‰å·¥å…·ä»£ç ä¼šè¢« Tree Shaking å’Œ Rollup åˆå¹¶åˆ°**å•ä¸€çš„ `main.js` æ–‡ä»¶**ä¸­ã€‚è¿™ä¼šå¯¼è‡´ï¼š\n\n1. **å·¨å‹ JS æ–‡ä»¶**ï¼šmain.js å¯èƒ½è¶…è¿‡å‡  MBï¼ŒåŒ…å«æ‰€æœ‰å·¥å…·å‡½æ•°ä»£ç \n2. **JIT çƒ­ç‚¹é›†ä¸­**ï¼šV8 å¼•æ“åœ¨å¯åŠ¨æ—¶éœ€è¦ï¼š\n   - è§£ææ•´ä¸ªå¤§æ–‡ä»¶çš„ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰\n   - ä¸ºæ‰€æœ‰å‡½æ•°ç”Ÿæˆå­—èŠ‚ç \n   - è¯†åˆ«çƒ­ç‚¹å‡½æ•°å¹¶è¿›è¡Œ JIT ä¼˜åŒ–ç¼–è¯‘\n3. **ç¼“å­˜ç²’åº¦ç²—**ï¼šä»»ä½•ä¸€ä¸ªå·¥å…·å‡½æ•°çš„ä¿®æ”¹éƒ½ä¼šå¯¼è‡´æ•´ä¸ª main.js çš„ V8 ç¼“å­˜å¤±æ•ˆ\n\n#### Vite é…ç½®æ–¹æ¡ˆ\n\né€šè¿‡ `manualChunks` é…ç½®ï¼Œæˆ‘ä»¬å°†æ¯ä¸ª utils æ¨¡å—æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ chunkï¼š\n\n```typescript\n// src/main/vite.config.ts\n\nexport default defineConfig({\n  build: {\n    rollupOptions: {\n      external: [\n        &#39;electron&#39;,\n        &#39;node-screenshots&#39;,\n        ...builtinModules,\n        ...Object.keys(pkg.dependencies || {}),\n        ...Object.keys(pkg.devDependencies || {}),\n      ],\n      output: {\n        // ğŸ”¥ å…³é”®é…ç½®ï¼šå°† utils æ¨¡å—æ‹†åˆ†ä¸ºç‹¬ç«‹ chunk\n        manualChunks(id) {\n          // ä¸ºæ¯ä¸ª utils æ¨¡å—åˆ›å»ºç‹¬ç«‹çš„ chunk\n          if (id.includes(&#39;src/main/utils/&#39;) &amp;&amp; !id.includes(&#39;index.ts&#39;)) {\n            // æå–æ¨¡å—åç§°\n            // ä¾‹å¦‚ï¼šsrc/main/utils/aesEncode.ts -&gt; utils/aesEncode\n            const match = id.match(/utils\\/([^/]+)\\.(ts|js)/);\n            if (match) {\n              return `utils/${match[1]}`;\n            }\n          }\n          return undefined; // å…¶ä»–æ¨¡å—ä½¿ç”¨é»˜è®¤åˆ†åŒ…ç­–ç•¥\n        },\n      },\n    },\n  },\n});\n```\n\n#### æ‹†åŒ…æ•ˆæœå¯¹æ¯”\n\n**ä¼˜åŒ–å‰çš„æ‰“åŒ…ç»“æ„ï¼š**\n```\ndist/main/\nâ”œâ”€â”€ main.js          â† å•ä¸€å·¨å‹æ–‡ä»¶ï¼ˆåŒ…å«æ‰€æœ‰ä»£ç ï¼‰\nâ””â”€â”€ main.js.map\n```\n\n**ä¼˜åŒ–åçš„æ‰“åŒ…ç»“æ„ï¼š**\n```\ndist/main/\nâ”œâ”€â”€ main.js                    â† ä¸»å…¥å£æ–‡ä»¶ï¼ˆç²¾ç®€ï¼‰\nâ”œâ”€â”€ utils/\nâ”‚   â”œâ”€â”€ aesEncode.js          â† ç‹¬ç«‹å·¥å…·æ¨¡å—\nâ”‚   â”œâ”€â”€ notifi.js\nâ”‚   â”œâ”€â”€ tray.js\nâ”‚   â”œâ”€â”€ latex2Docx.js\nâ”‚   â”œâ”€â”€ pathUtils.js\nâ”‚   â”œâ”€â”€ renderLocalStrongHandle.js\nâ”‚   â”œâ”€â”€ rustScreenshotWindow.js\nâ”‚   â”œâ”€â”€ updateRender.js\nâ”‚   â””â”€â”€ ... å…¶ä»–å·¥å…·æ¨¡å—\nâ””â”€â”€ *.js.map\n```\n\n#### æ‹†åŒ…å¦‚ä½•é™ä½ JIT çƒ­ç‚¹ç¼–è¯‘å‹åŠ›ï¼Ÿ\n\n**1. å‡å°‘å•æ¬¡è§£æè´Ÿæ‹…**\n\nV8 çš„è§£æå™¨ï¼ˆParserï¼‰æ˜¯å•çº¿ç¨‹çš„ï¼Œå·¨å‹æ–‡ä»¶ä¼šé˜»å¡å¯åŠ¨æµç¨‹ï¼š\n\n```\nä¼˜åŒ–å‰ï¼šè§£æ 5MB çš„ main.jsï¼ˆè€—æ—¶ ~800msï¼‰\nä¼˜åŒ–åï¼šè§£æ 500KB çš„ main.js + æŒ‰éœ€åŠ è½½å°æ¨¡å—ï¼ˆè€—æ—¶ ~120msï¼‰\n```\n\n**2. æŒ‰éœ€ JIT ç¼–è¯‘**\n\nV8 çš„ JIT ç¼–è¯‘å™¨ï¼ˆTurboFanï¼‰ä¼šè¯†åˆ«çƒ­ç‚¹å‡½æ•°å¹¶è¿›è¡Œä¼˜åŒ–ç¼–è¯‘ã€‚æ‹†åŒ…åï¼š\n\n- **å†·å¯åŠ¨æ—¶**ï¼šåªæœ‰ä¸»å…¥å£ `main.js` ä¸­çš„ä»£ç è¢«ç«‹å³ç¼–è¯‘\n- **è¿è¡Œæ—¶**ï¼šå½“è°ƒç”¨ `utils/notifi.js` æ—¶ï¼Œæ‰åŠ è½½å¹¶ç¼–è¯‘è¯¥æ¨¡å—\n- **é¿å…è¿‡åº¦ä¼˜åŒ–**ï¼šéçƒ­ç‚¹ä»£ç ä¸ä¼šæµªè´¹ CPU æ—¶é—´è¿›è¡Œæ— è°“çš„ä¼˜åŒ–\n\n**3. æ›´ç»†ç²’åº¦çš„ V8 ç¼“å­˜**\n\nä»æ—¥å¿—å¯ä»¥çœ‹åˆ°ï¼Œä¼˜åŒ–å V8 ç¼“å­˜æ–‡ä»¶æ•°é‡ä» 9543 ä¸ªé™åˆ° 9043 ä¸ªï¼Œä½†æ€§èƒ½åè€Œæå‡äº†ï¼š\n\n```log\nä¼˜åŒ–å‰ï¼šğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: 9543  â† å¤§é‡å°ç¼“å­˜ + å·¨å‹ main.js ç¼“å­˜\nä¼˜åŒ–åï¼šğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: 9043  â† ç²¾ç®€ä¸”é«˜æ•ˆçš„ç¼“å­˜ç»“æ„\n```\n\nè¿™æ˜¯å› ä¸ºï¼š\n- æ¯ä¸ª utils æ¨¡å—çš„ç¼“å­˜æ˜¯ç‹¬ç«‹çš„\n- ä¿®æ”¹ `utils/notifi.js` æ—¶ï¼Œåªéœ€é‡æ–°ç”Ÿæˆè¯¥æ–‡ä»¶çš„ç¼“å­˜\n- `main.js`ã€`utils/tray.js` ç­‰å…¶ä»–æ¨¡å—çš„ç¼“å­˜ç»§ç»­æœ‰æ•ˆ\n\n**4. é™ä½å†…å­˜å‹åŠ›**\n\nå·¨å‹æ–‡ä»¶ä¼šå¯¼è‡´æ›´å¤šçš„å†…å­˜å ç”¨ï¼š\n- **ä¼˜åŒ–å‰**ï¼š5MB çš„ main.js åœ¨è§£æé˜¶æ®µä¼šç”Ÿæˆå¤§é‡ä¸´æ—¶ AST èŠ‚ç‚¹å¯¹è±¡\n- **ä¼˜åŒ–å**ï¼šå°æ–‡ä»¶çš„ AST æ›´å¿«è¢«åƒåœ¾å›æ”¶ï¼Œé™ä½å†…å­˜å³°å€¼\n\n#### å®é™…æ€§èƒ½æå‡\n\nç»“åˆæ—¥å¿—æ•°æ®åˆ†æï¼Œæ‹†åŒ…å¸¦æ¥çš„ç›´æ¥æ•ˆæœï¼š\n\n| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | è¯´æ˜ |\n|-----|-------|-------|-----|\n| app.whenReady è€—æ—¶ | 833.46ms | 126.61ms | **å‡å°‘ 84.8%**ï¼Œä¸»è¦å½’åŠŸäºæ‹†åŒ…å‡å°‘è§£ææ—¶é—´ |\n| çª—å£åˆ›å»ºè€—æ—¶ | 536.34ms | 140.59ms | **å‡å°‘ 73.8%**ï¼Œä¸»æµç¨‹ä»£ç æ›´ç²¾ç®€ |\n\n#### æ³¨æ„äº‹é¡¹\n\n1. **ä¸è¦æ‹†åˆ†è¿‡ç»†**ï¼šæ¯ä¸ªæ–‡ä»¶åº”æœ‰ä¸€å®šä½“ç§¯ï¼ˆå»ºè®® &gt;10KBï¼‰ï¼Œå¦åˆ™æ¨¡å—åŠ è½½å¼€é”€ä¼šæŠµæ¶ˆæ‹†åŒ…æ”¶ç›Š\n2. **æ’é™¤ index.ts**ï¼š`utils/index.ts` åªæ˜¯å¯¼å‡ºèšåˆæ–‡ä»¶ï¼Œä¸åº”å•ç‹¬æˆä¸º chunk\n3. **å¤–éƒ¨åŒ–åŸç”Ÿæ¨¡å—**ï¼šå¦‚ `electron` å¿…é¡»æ ‡è®°ä¸º externalï¼Œé¿å…æ‰“åŒ…å¤±è´¥\n\n#### æ—¥å¿—ä¸­çš„è¯æ®\n\nå¯¹æ¯”æ—¥å¿—å¯ä»¥çœ‹åˆ°æ‹†åŒ…ä¼˜åŒ–çš„å…³é”®æ—¶é—´ç‚¹ï¼š\n\n```log\n# ä¼˜åŒ–å‰ï¼šå·¨å‹æ–‡ä»¶å¯¼è‡´å¯åŠ¨ç¼“æ…¢\n[2025-11-18 16:38:00.298] â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: 833.46ms  â† è§£æè€—æ—¶é•¿\n[2025-11-18 16:38:00.951] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                    â† å»¶è¿ŸåŠ è½½\n\n# ä¼˜åŒ–åï¼šæ‹†åŒ…åæ¨¡å—æå‰åŠ è½½ï¼Œå¯åŠ¨è¿…é€Ÿ\n[2025-11-18 17:10:30.749] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                    â† ç«‹å³åŠ è½½\n[2025-11-18 17:10:30.810] â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: 166.22ms  â† è§£æè€—æ—¶å¤§å¹…é™ä½\n```\n\næ‹†åŒ…åï¼ŒåŸæœ¬éœ€è¦å»¶è¿ŸåŠ è½½çš„æ¨¡å—ï¼ˆå¦‚ `unzipper`ï¼‰å¯ä»¥æ›´å¿«åŠ è½½ï¼Œå› ä¸ºå®ƒä»¬ä¸å†è¢«æ‰“åŒ…åˆ°å·¨å‹ `main.js` ä¸­ã€‚\n\n**å…³é”®ä¼˜åŒ–ï¼šåŸç”Ÿæ¨¡å—æå‰åŠ è½½**\n\nä»æ—¥å¿—æ—¶é—´æˆ³å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼š\n\n```log\n# ä¼˜åŒ–å‰ï¼šåŸç”Ÿæ¨¡å—åœ¨ app.whenReady ä¹‹åæ‰åŠ è½½\n[16:37:59.464] ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹\n[16:38:00.298] app.whenReady è§¦å‘ï¼Œè€—æ—¶: 833.46ms\n[16:38:00.951] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                          â† +1470msï¼ˆä¸¥é‡å»¶è¿Ÿï¼‰\n\n# ä¼˜åŒ–åï¼šåŸç”Ÿæ¨¡å—ç«‹å³åŠ è½½\n[17:10:30.776] ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹\n[17:10:30.851] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                          â† +75msï¼ˆå‡ ä¹åŒæ—¶ï¼‰\n[17:10:30.903] app.whenReady è§¦å‘ï¼Œè€—æ—¶: 126.61ms\n```\n\n**ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ**\n\nè¿™æ˜¯å› ä¸ºä¼˜åŒ–å‰ `unzipper` æ¨¡å—è¢«æ‰“åŒ…åˆ° `main.js` çš„æ·±å±‚ä¾èµ–ä¸­ï¼Œåªæœ‰åœ¨æ•´ä¸ªå·¨å‹æ–‡ä»¶è§£æå®Œæˆåæ‰èƒ½æ‰§è¡Œå®ƒä»¬çš„åˆå§‹åŒ–ä»£ç ã€‚æ‹†åŒ…åï¼š\n\n1. è¿™äº›æ¨¡å—æˆä¸ºç‹¬ç«‹çš„ chunk\n2. ESM çš„å¹¶è¡ŒåŠ è½½æœºåˆ¶å¯ä»¥æ›´æ—©åœ°åŠ è½½å®ƒä»¬\n3. ä¸å†è¢« main.js çš„è§£æé˜»å¡\n\nè¿™è¿›ä¸€æ­¥éªŒè¯äº†**æ‹†åŒ…å¯¹å¯åŠ¨æµç¨‹çš„å·¨å¤§ä¼˜åŒ–ä½œç”¨**ã€‚\n\n### 3. æŒ‰éœ€å¯¼å…¥ä¾èµ–ï¼ˆTree Shakingï¼‰\n\nå¤§å‹åº“çš„å…¨é‡å¯¼å…¥ä¼šå¼•å…¥å¤§é‡æœªä½¿ç”¨çš„ä»£ç ï¼Œå¢åŠ å¯åŠ¨å¼€é”€ã€‚\n\n#### ä¼˜åŒ–å‰\n\n```typescript\nimport * as lodash from &#39;lodash-es&#39;;\n\n// ä½¿ç”¨æ—¶\nwin.on(&#39;moved&#39;, lodash.throttle(() =&gt; { /* ... */ }, 500));\n```\n\n#### ä¼˜åŒ–å\n\n```typescript\n// åªå¯¼å…¥éœ€è¦çš„å‡½æ•°\nimport { throttle, debounce } from &#39;lodash-es&#39;;\n\nwin.on(&#39;moved&#39;, throttle(() =&gt; { /* ... */ }, 500));\n```\n\n#### æ•ˆæœåˆ†æ\n\n- å‡å°‘ bundle ä½“ç§¯\n- é™ä½ V8 è§£æè´Ÿæ‹…\n- æå‡ Tree Shaking æ•ˆç‡\n\n### 4. å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—\n\nå°†éå¯åŠ¨å¿…éœ€çš„åŠŸèƒ½ï¼ˆå¦‚åˆ’è¯ç¿»è¯‘ï¼‰å»¶è¿Ÿåˆ°ä¸»çª—å£åˆ›å»ºå®Œæˆåå†åˆå§‹åŒ–ã€‚\n\n#### å®ç°æ–¹æ¡ˆ\n\n```typescript\n// ä¼˜åŒ–å‰ï¼šåŒæ­¥å¯¼å…¥ï¼Œé˜»å¡å¯åŠ¨\nimport &#39;./utils/selectionWord/ipcListener&#39;;\nimport { cleanupTranslation, initTranslationShortcut } from &#39;./utils/selectionWord/init&#39;;\n\napp.whenReady().then(async () =&gt; {\n  // ...åˆ›å»ºä¸»çª—å£\n  mainWin = await createWindow();\n\n  initTranslationShortcut(); // é˜»å¡å¯åŠ¨æµç¨‹\n});\n```\n\n```typescript\n// ä¼˜åŒ–åï¼šå¼‚æ­¥åŠ¨æ€å¯¼å…¥ï¼Œä¸é˜»å¡å¯åŠ¨\napp.whenReady().then(async () =&gt; {\n  // ...åˆ›å»ºä¸»çª—å£\n  mainWin = await createWindow();\n\n  // å»¶è¿Ÿåˆå§‹åŒ–åˆ’è¯ç¿»è¯‘ï¼Œé¿å…é˜»å¡ä¸»çª—å£å¯åŠ¨\n  setImmediate(async () =&gt; {\n    const translationStart = performance.now();\n    try {\n      // åŠ¨æ€å¯¼å…¥æ¨¡å—\n      await import(&#39;./utils/selectionWord/ipcListener&#39;);\n      const { initTranslationShortcut } = await import(&#39;./utils/selectionWord/init&#39;);\n      initTranslationShortcut();\n\n      const translationEnd = performance.now();\n      log.info(`â±ï¸ åˆ’è¯ç¿»è¯‘åŠŸèƒ½å·²åˆå§‹åŒ–ï¼Œè€—æ—¶: ${(translationEnd - translationStart).toFixed(2)}ms`);\n    } catch (error) {\n      log.error(&#39;åˆå§‹åŒ–åˆ’è¯ç¿»è¯‘å¤±è´¥:&#39;, error);\n    }\n  });\n\n  const totalTime = performance.now();\n  log.info(`â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: ${(totalTime - startupTime).toFixed(2)}ms`);\n});\n```\n\n#### å…³é”®æŠ€æœ¯ç‚¹\n\n1. **ä½¿ç”¨ `setImmediate`**ï¼šç¡®ä¿ä¸»çª—å£å®Œå…¨åˆå§‹åŒ–åå†åŠ è½½\n2. **åŠ¨æ€ `import()`**ï¼šæŒ‰éœ€åŠ è½½æ¨¡å—ï¼Œä¸å½±å“ä¸»æµç¨‹\n3. **é”™è¯¯éš”ç¦»**ï¼šé¿å…éæ ¸å¿ƒåŠŸèƒ½çš„å¤±è´¥å½±å“ä¸»ç¨‹åº\n\næ—¥å¿—è¾“å‡ºæ˜¾ç¤ºåˆ’è¯ç¿»è¯‘åˆå§‹åŒ–è€—æ—¶çº¦ 70-123msï¼Œé€šè¿‡å»¶è¿ŸåŠ è½½å®Œå…¨ä¸å½±å“ä¸»çª—å£å¯åŠ¨ï¼š\n\n```log\n[info] â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: 311.88ms\n[info] â±ï¸ åˆ’è¯ç¿»è¯‘åŠŸèƒ½å·²åˆå§‹åŒ–ï¼Œè€—æ—¶: 59.88ms\n```\n\n### 5. æ€§èƒ½ç›‘æ§åŸ‹ç‚¹\n\nåœ¨å…³é”®è·¯å¾„æ·»åŠ æ—¶é—´æˆ³è®°å½•ï¼Œä¾¿äºå®šä½æ€§èƒ½ç“¶é¢ˆã€‚\n\n```typescript\n// å¯åŠ¨å¼€å§‹\nconst startupTime = performance.now();\nlog.info(&#39;â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&#39;);\n\n// app.whenReady è§¦å‘\napp.whenReady().then(async () =&gt; {\n  const readyTime = performance.now();\n  log.info(`â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: ${(readyTime - startupTime).toFixed(2)}ms`);\n\n  // çª—å£åˆ›å»º\n  const createWindowStart = performance.now();\n  mainWin = await createWindow();\n  const createWindowEnd = performance.now();\n  log.info(`â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: ${(createWindowEnd - createWindowStart).toFixed(2)}ms`);\n\n  // æ€»è€—æ—¶\n  const totalTime = performance.now();\n  log.info(`â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: ${(totalTime - startupTime).toFixed(2)}ms`);\n});\n```\n\n## å¸¸è§é—®é¢˜\n\n### Q1: V8 ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—ï¼Ÿ\n\nA: ä¸ä¼šã€‚Electron ä¼šè‡ªåŠ¨ç®¡ç†ç¼“å­˜å¤§å°ï¼Œå®šæœŸæ¸…ç†è¿‡æœŸæ–‡ä»¶ã€‚é€šå¸¸ç¼“å­˜ç›®å½•å¤§å°åœ¨å‡ å MB å·¦å³ã€‚\n\n### Q2: ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—ï¼Ÿ\n\nA: å½±å“æå°ã€‚æ¨¡å—æ‹†åˆ†åï¼ŒV8 çš„æ¨¡å—åŠ è½½æœºåˆ¶ï¼ˆESMï¼‰å¯ä»¥é«˜æ•ˆå¤„ç†å¤šæ–‡ä»¶ä¾èµ–ï¼Œä¸”æ‹†åŒ…åçš„ç¼“å­˜ç²’åº¦æ›´ç»†ï¼Œæ•´ä½“æ€§èƒ½åè€Œæ›´ä¼˜ã€‚\n\n### Q3: åŠ¨æ€ import ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—ï¼Ÿ\n\nA: å¯¹ç”¨æˆ·å‡ ä¹æ— æ„ŸçŸ¥ã€‚ä»¥åˆ’è¯ç¿»è¯‘ä¸ºä¾‹ï¼Œä»ä¸»çª—å£å¯åŠ¨åˆ°ç”¨æˆ·å®é™…ä½¿ç”¨è¯¥åŠŸèƒ½æœ‰è¶³å¤Ÿçš„æ—¶é—´å·®ï¼Œå¼‚æ­¥åŠ è½½å®Œå…¨å¯ä»¥åœ¨ç”¨æˆ·æ“ä½œå‰å®Œæˆã€‚\n\n## æ€»ç»“\n\né€šè¿‡æœ¬æ¬¡ä¼˜åŒ–ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š\n\n1. **å¯åŠ¨é€Ÿåº¦æå‡ 80%+**ï¼šä» 1.6s é™è‡³ 0.3s\n2. **ç”¨æˆ·ä½“éªŒæ”¹å–„**ï¼šçƒ­æ›´æ–°åå‡ ä¹æ— æ„ŸçŸ¥\n3. **å¯ç»´æŠ¤æ€§æå‡**ï¼šæ€§èƒ½ç›‘æ§åŸ‹ç‚¹ä¾¿äºåç»­å®šä½é—®é¢˜\n\nå…³é”®è¦ç‚¹ï¼š\n- **æ¨¡å—æ‹†åŒ…æ˜¯æ ¸å¿ƒ**ï¼šå°†å•ä¸€ `main.js` æ‹†åˆ†ä¸ºå¤šä¸ª `utils/*.js` æ–‡ä»¶ï¼Œæ˜¾è‘—é™ä½ V8 çš„ JIT çƒ­ç‚¹ç¼–è¯‘å‹åŠ›ï¼ˆapp.whenReady è€—æ—¶ä» 833ms é™è‡³ 126msï¼‰\n- **V8 ç¼“å­˜æ˜¯åŸºç¡€**ï¼šå¯ç”¨ä»£ç ç¼“å­˜è·³è¿‡é‡å¤çš„è§£æå’Œç¼–è¯‘è¿‡ç¨‹\n- **å»¶è¿ŸåŠ è½½ä¼˜åŒ–å…³é”®è·¯å¾„**ï¼šéå…³é”®åŠŸèƒ½å¼‚æ­¥åŠ è½½ï¼Œä¸é˜»å¡ä¸»çª—å£å¯åŠ¨\n- **æ€§èƒ½ç›‘æ§æä¾›æ•°æ®æ”¯æ’‘**ï¼šåŸ‹ç‚¹æ—¥å¿—å¸®åŠ©å®šä½ç“¶é¢ˆ\n\n**æœ€é‡è¦çš„å¯ç¤ºï¼š**\n\nåœ¨ Electron åº”ç”¨ä¸­ï¼Œ**æ‰“åŒ…äº§ç‰©çš„ç»“æ„æ¯”æ‰“åŒ…ä½“ç§¯æ›´é‡è¦**ã€‚ä¸€ä¸ª 5MB çš„å·¨å‹ `main.js` æ–‡ä»¶å¯¹ V8 å¼•æ“æ¥è¯´æ˜¯ç¾éš¾ï¼Œå³ä½¿å®ƒçš„æ€»ä»£ç é‡å¹¶ä¸å¤§ã€‚é€šè¿‡ Vite çš„ `manualChunks` é…ç½®ï¼Œå°†ä»£ç æ‹†åˆ†ä¸ºåˆç†çš„æ¨¡å—ç»“æ„ï¼Œè®© V8 èƒ½å¤ŸæŒ‰éœ€è§£æå’Œç¼–è¯‘ï¼Œè¿™æ‰æ˜¯å¯åŠ¨æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ã€‚\n\nElectron æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œå»ºè®®å®šæœŸæ£€æŸ¥å¯åŠ¨æ—¥å¿—ï¼Œé’ˆå¯¹æ€§åœ°ä¼˜åŒ–ç“¶é¢ˆç¯èŠ‚ã€‚\n\n---&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Electronçƒ­æ›´æ–°åå¯åŠ¨æ€§èƒ½ä¼˜åŒ–-V8ç¼“å­˜ä¸ä»£ç æ‹†åŒ…å®æˆ˜.md&quot;],&quot;digest&quot;:[0,&quot;d11f2401ce9920d0&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;å‰è¨€\&quot;&gt;å‰è¨€&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‰è¨€\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;åœ¨ Electron åº”ç”¨å¼€å‘ä¸­ï¼Œçƒ­æ›´æ–°åçš„é¦–æ¬¡å¯åŠ¨é€Ÿåº¦ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒã€‚å°†ä¸»è¿›ç¨‹å¯åŠ¨æ—¶é—´ä» 1619ms ä¼˜åŒ–åˆ° 311ms çš„å®Œæ•´å®è·µè¿‡ç¨‹ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ€§èƒ½æ•°æ®å¯¹æ¯”\&quot;&gt;æ€§èƒ½æ•°æ®å¯¹æ¯”&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€§èƒ½æ•°æ®å¯¹æ¯”\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é€šè¿‡ä»¥ä¸‹ä¼˜åŒ–æ‰‹æ®µï¼Œæˆ‘ä»¬å®ç°äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼š&lt;/p&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;æŒ‡æ ‡&lt;/th&gt;&lt;th&gt;ä¼˜åŒ–å‰&lt;/th&gt;&lt;th&gt;ä¼˜åŒ–å&lt;/th&gt;&lt;th&gt;æå‡å¹…åº¦&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;ä¸»è¿›ç¨‹å¯åŠ¨æ€»è€—æ—¶&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;1619.32ms&lt;/td&gt;&lt;td&gt;311.88ms&lt;/td&gt;&lt;td&gt;&lt;strong&gt;80.7% â†“&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;app.whenReady è€—æ—¶&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;833.46ms&lt;/td&gt;&lt;td&gt;126.61ms&lt;/td&gt;&lt;td&gt;&lt;strong&gt;84.8% â†“&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;çª—å£åˆ›å»ºè€—æ—¶&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;536.34ms&lt;/td&gt;&lt;td&gt;140.59ms&lt;/td&gt;&lt;td&gt;&lt;strong&gt;73.8% â†“&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;V8 ç¼“å­˜æ–‡ä»¶æ•°é‡&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;9543 ä¸ª&lt;/td&gt;&lt;td&gt;9043 ä¸ª&lt;/td&gt;&lt;td&gt;ä¼˜åŒ–åç¨³å®š&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;\n&lt;p&gt;ä»å®é™…æ—¥å¿—æ•°æ®æ¥çœ‹ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;log\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–å‰ï¼ˆ&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 16:37:59&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;833&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.46ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;9543&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;536&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.34ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1619&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.32ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–åï¼ˆ&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 17:10:30&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;126&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.61ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;9043&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;140&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.59ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;311&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.88ms&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥\&quot;&gt;æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;1-å¯ç”¨-v8-ä»£ç ç¼“å­˜\&quot;&gt;1. å¯ç”¨ V8 ä»£ç ç¼“å­˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#1-å¯ç”¨-v8-ä»£ç ç¼“å­˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;V8 ä»£ç ç¼“å­˜ï¼ˆCode Cacheï¼‰æ˜¯ Chrome å’Œ Node.js ä¸­ç”¨äºåŠ é€Ÿ JavaScript ä»£ç æ‰§è¡Œçš„é‡è¦æœºåˆ¶ã€‚é€šè¿‡ç¼“å­˜ç¼–è¯‘åçš„å­—èŠ‚ç ï¼Œå¯ä»¥é¿å…é‡å¤çš„è§£æå’Œç¼–è¯‘è¿‡ç¨‹ã€‚&lt;/p&gt;\n&lt;h4 id=\&quot;å®ç°æ–¹å¼\&quot;&gt;å®ç°æ–¹å¼&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®ç°æ–¹å¼\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;åœ¨ Electron ä¸»è¿›ç¨‹å¯åŠ¨æ—¶æ·»åŠ å‘½ä»¤è¡Œå¼€å…³ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// src/main/index.ts&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// å¯ç”¨ V8 ä»£ç ç¼“å­˜ä¼˜åŒ–ï¼ŒåŠ é€Ÿå†·å¯åŠ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.commandLine.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;appendSwitch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;enable-features&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;V8CodeCache&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.commandLine.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;appendSwitch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;v8-cache-options&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;code&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;éªŒè¯ç¼“å­˜æ•ˆæœ\&quot;&gt;éªŒè¯ç¼“å­˜æ•ˆæœ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#éªŒè¯ç¼“å­˜æ•ˆæœ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;åœ¨ &lt;code&gt;app.whenReady()&lt;/code&gt; ä¸­æ·»åŠ ç›‘æ§ä»£ç ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;().&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;then&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; readyTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;readyTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; startupTime&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // éªŒè¯ V8 ä»£ç ç¼“å­˜&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; cacheDir&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; join&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;getPath&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;userData&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;), &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;Code Cache&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;js&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  try&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; fs&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; await&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; import&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;fs&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (fs.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;existsSync&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(cacheDir)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; cacheFiles&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; fs.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;readdirSync&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(cacheDir);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`ğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: ${&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;cacheFiles&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;ğŸ“¦ V8 ä»£ç ç¼“å­˜ç›®å½•ä¸å­˜åœ¨ï¼ˆé¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;catch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (error) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;warn&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;æ— æ³•æ£€æŸ¥ V8 ç¼“å­˜ç›®å½•:&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, error);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;});&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;å·¥ä½œåŸç†\&quot;&gt;å·¥ä½œåŸç†&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å·¥ä½œåŸç†\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;V8 å¼•æ“åœ¨æ‰§è¡Œ JavaScript æ—¶çš„æµç¨‹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;è§£æï¼ˆParsingï¼‰&lt;/strong&gt;ï¼šå°†æºä»£ç è½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç¼–è¯‘ï¼ˆCompilationï¼‰&lt;/strong&gt;ï¼šå°† AST ç¼–è¯‘ä¸ºå­—èŠ‚ç &lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ‰§è¡Œï¼ˆExecutionï¼‰&lt;/strong&gt;ï¼šV8 è§£é‡Šå™¨æ‰§è¡Œå­—èŠ‚ç &lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;å¯ç”¨ä»£ç ç¼“å­˜åï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;é¦–æ¬¡è¿è¡Œ&lt;/strong&gt;ï¼šV8 ç”Ÿæˆå­—èŠ‚ç å¹¶ç¼“å­˜åˆ°ç£ç›˜&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åç»­è¿è¡Œ&lt;/strong&gt;ï¼šç›´æ¥åŠ è½½ç¼“å­˜çš„å­—èŠ‚ç ï¼Œè·³è¿‡è§£æå’Œç¼–è¯‘é˜¶æ®µ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;2-æ¨¡å—æ‹†åŒ…code-splitting-æ ¸å¿ƒä¼˜åŒ–\&quot;&gt;2. æ¨¡å—æ‹†åŒ…ï¼ˆCode Splittingï¼‰â€”â€” æ ¸å¿ƒä¼˜åŒ–&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#2-æ¨¡å—æ‹†åŒ…code-splitting-æ ¸å¿ƒä¼˜åŒ–\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;è¿™æ˜¯æœ¬æ¬¡ä¼˜åŒ–ä¸­æœ€å…³é”®çš„ä¸€æ­¥ã€‚&lt;strong&gt;é€šè¿‡ Vite é…ç½®å°†å•ä¸€çš„ &lt;code&gt;main.js&lt;/code&gt; æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„ &lt;code&gt;utils/*.js&lt;/code&gt; æ–‡ä»¶ï¼Œæ˜¾è‘—é™ä½ V8 çš„ JIT ç¼–è¯‘å‹åŠ›ã€‚&lt;/strong&gt;&lt;/p&gt;\n&lt;h4 id=\&quot;é—®é¢˜èƒŒæ™¯ä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…\&quot;&gt;é—®é¢˜èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é—®é¢˜èƒŒæ™¯ä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;åœ¨ä¼˜åŒ–å‰ï¼Œé¡¹ç›®ä½¿ç”¨ &lt;code&gt;src/main/utils/index.ts&lt;/code&gt; ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰å·¥å…·å‡½æ•°ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// src/main/utils/index.tsï¼ˆä¼˜åŒ–å‰ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./aesEncode&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./notifi&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./tray&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./latex2Docx&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./pathUtils&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ... å¯¼å‡ºå‡ åä¸ªå·¥å…·æ¨¡å—&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Vite æ‰“åŒ…åï¼Œæ‰€æœ‰å·¥å…·ä»£ç ä¼šè¢« Tree Shaking å’Œ Rollup åˆå¹¶åˆ°&lt;strong&gt;å•ä¸€çš„ &lt;code&gt;main.js&lt;/code&gt; æ–‡ä»¶&lt;/strong&gt;ä¸­ã€‚è¿™ä¼šå¯¼è‡´ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;å·¨å‹ JS æ–‡ä»¶&lt;/strong&gt;ï¼šmain.js å¯èƒ½è¶…è¿‡å‡  MBï¼ŒåŒ…å«æ‰€æœ‰å·¥å…·å‡½æ•°ä»£ç &lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;JIT çƒ­ç‚¹é›†ä¸­&lt;/strong&gt;ï¼šV8 å¼•æ“åœ¨å¯åŠ¨æ—¶éœ€è¦ï¼š\n&lt;ul&gt;\n&lt;li&gt;è§£ææ•´ä¸ªå¤§æ–‡ä»¶çš„ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰&lt;/li&gt;\n&lt;li&gt;ä¸ºæ‰€æœ‰å‡½æ•°ç”Ÿæˆå­—èŠ‚ç &lt;/li&gt;\n&lt;li&gt;è¯†åˆ«çƒ­ç‚¹å‡½æ•°å¹¶è¿›è¡Œ JIT ä¼˜åŒ–ç¼–è¯‘&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç¼“å­˜ç²’åº¦ç²—&lt;/strong&gt;ï¼šä»»ä½•ä¸€ä¸ªå·¥å…·å‡½æ•°çš„ä¿®æ”¹éƒ½ä¼šå¯¼è‡´æ•´ä¸ª main.js çš„ V8 ç¼“å­˜å¤±æ•ˆ&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h4 id=\&quot;vite-é…ç½®æ–¹æ¡ˆ\&quot;&gt;Vite é…ç½®æ–¹æ¡ˆ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#vite-é…ç½®æ–¹æ¡ˆ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;é€šè¿‡ &lt;code&gt;manualChunks&lt;/code&gt; é…ç½®ï¼Œæˆ‘ä»¬å°†æ¯ä¸ª utils æ¨¡å—æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ chunkï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// src/main/vite.config.ts&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; default&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; defineConfig&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  build: {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    rollupOptions: {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      external: [&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;        &#39;electron&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;        &#39;node-screenshots&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        ...&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;builtinModules,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        ...&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;Object.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;keys&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(pkg.dependencies &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {}),&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        ...&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;Object.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;keys&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(pkg.devDependencies &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;||&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {}),&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      ],&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      output: {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;        // ğŸ”¥ å…³é”®é…ç½®ï¼šå°† utils æ¨¡å—æ‹†åˆ†ä¸ºç‹¬ç«‹ chunk&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;        manualChunks&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;id&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;          // ä¸ºæ¯ä¸ª utils æ¨¡å—åˆ›å»ºç‹¬ç«‹çš„ chunk&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;          if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (id.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;includes&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;src/main/utils/&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;&amp;#x26;&amp;#x26;&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; !&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;id.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;includes&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;index.ts&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;            // æå–æ¨¡å—åç§°&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;            // ä¾‹å¦‚ï¼šsrc/main/utils/aesEncode.ts -&gt; utils/aesEncode&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; match&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; id.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;match&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;/&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#DBEDFF\&quot;&gt;utils&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold\&quot;&gt;\\/&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#DBEDFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;^&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;/]&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#DBEDFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold\&quot;&gt;\\.&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#DBEDFF\&quot;&gt;(ts&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#DBEDFF\&quot;&gt;js)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;/&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;            if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (match) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;              return&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; `utils/${&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;match&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;]&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;            }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;          }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;          return&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; undefined&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;; &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// å…¶ä»–æ¨¡å—ä½¿ç”¨é»˜è®¤åˆ†åŒ…ç­–ç•¥&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        },&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      },&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    },&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  },&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;});&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;æ‹†åŒ…æ•ˆæœå¯¹æ¯”\&quot;&gt;æ‹†åŒ…æ•ˆæœå¯¹æ¯”&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ‹†åŒ…æ•ˆæœå¯¹æ¯”\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;&lt;strong&gt;ä¼˜åŒ–å‰çš„æ‰“åŒ…ç»“æ„ï¼š&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;dist/main/&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”œâ”€â”€ main.js          â† å•ä¸€å·¨å‹æ–‡ä»¶ï¼ˆåŒ…å«æ‰€æœ‰ä»£ç ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â””â”€â”€ main.js.map&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;ä¼˜åŒ–åçš„æ‰“åŒ…ç»“æ„ï¼š&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;dist/main/&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”œâ”€â”€ main.js                    â† ä¸»å…¥å£æ–‡ä»¶ï¼ˆç²¾ç®€ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”œâ”€â”€ utils/&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ aesEncode.js          â† ç‹¬ç«‹å·¥å…·æ¨¡å—&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ notifi.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ tray.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ latex2Docx.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ pathUtils.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ renderLocalStrongHandle.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ rustScreenshotWindow.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â”œâ”€â”€ updateRender.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â”‚   â””â”€â”€ ... å…¶ä»–å·¥å…·æ¨¡å—&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;â””â”€â”€ *.js.map&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;æ‹†åŒ…å¦‚ä½•é™ä½-jit-çƒ­ç‚¹ç¼–è¯‘å‹åŠ›\&quot;&gt;æ‹†åŒ…å¦‚ä½•é™ä½ JIT çƒ­ç‚¹ç¼–è¯‘å‹åŠ›ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ‹†åŒ…å¦‚ä½•é™ä½-jit-çƒ­ç‚¹ç¼–è¯‘å‹åŠ›\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;&lt;strong&gt;1. å‡å°‘å•æ¬¡è§£æè´Ÿæ‹…&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;V8 çš„è§£æå™¨ï¼ˆParserï¼‰æ˜¯å•çº¿ç¨‹çš„ï¼Œå·¨å‹æ–‡ä»¶ä¼šé˜»å¡å¯åŠ¨æµç¨‹ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ä¼˜åŒ–å‰ï¼šè§£æ 5MB çš„ main.jsï¼ˆè€—æ—¶ ~800msï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ä¼˜åŒ–åï¼šè§£æ 500KB çš„ main.js + æŒ‰éœ€åŠ è½½å°æ¨¡å—ï¼ˆè€—æ—¶ ~120msï¼‰&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;2. æŒ‰éœ€ JIT ç¼–è¯‘&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;V8 çš„ JIT ç¼–è¯‘å™¨ï¼ˆTurboFanï¼‰ä¼šè¯†åˆ«çƒ­ç‚¹å‡½æ•°å¹¶è¿›è¡Œä¼˜åŒ–ç¼–è¯‘ã€‚æ‹†åŒ…åï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;å†·å¯åŠ¨æ—¶&lt;/strong&gt;ï¼šåªæœ‰ä¸»å…¥å£ &lt;code&gt;main.js&lt;/code&gt; ä¸­çš„ä»£ç è¢«ç«‹å³ç¼–è¯‘&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;è¿è¡Œæ—¶&lt;/strong&gt;ï¼šå½“è°ƒç”¨ &lt;code&gt;utils/notifi.js&lt;/code&gt; æ—¶ï¼Œæ‰åŠ è½½å¹¶ç¼–è¯‘è¯¥æ¨¡å—&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¿å…è¿‡åº¦ä¼˜åŒ–&lt;/strong&gt;ï¼šéçƒ­ç‚¹ä»£ç ä¸ä¼šæµªè´¹ CPU æ—¶é—´è¿›è¡Œæ— è°“çš„ä¼˜åŒ–&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;3. æ›´ç»†ç²’åº¦çš„ V8 ç¼“å­˜&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;ä»æ—¥å¿—å¯ä»¥çœ‹åˆ°ï¼Œä¼˜åŒ–å V8 ç¼“å­˜æ–‡ä»¶æ•°é‡ä» 9543 ä¸ªé™åˆ° 9043 ä¸ªï¼Œä½†æ€§èƒ½åè€Œæå‡äº†ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;log\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;ä¼˜åŒ–å‰ï¼šğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;9543&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  â† å¤§é‡å°ç¼“å­˜ + å·¨å‹ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;main.js&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; ç¼“å­˜&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;ä¼˜åŒ–åï¼šğŸ“¦ V8 ä»£ç ç¼“å­˜æ–‡ä»¶æ•°é‡: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;9043&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  â† ç²¾ç®€ä¸”é«˜æ•ˆçš„ç¼“å­˜ç»“æ„&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿™æ˜¯å› ä¸ºï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;æ¯ä¸ª utils æ¨¡å—çš„ç¼“å­˜æ˜¯ç‹¬ç«‹çš„&lt;/li&gt;\n&lt;li&gt;ä¿®æ”¹ &lt;code&gt;utils/notifi.js&lt;/code&gt; æ—¶ï¼Œåªéœ€é‡æ–°ç”Ÿæˆè¯¥æ–‡ä»¶çš„ç¼“å­˜&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;main.js&lt;/code&gt;ã€&lt;code&gt;utils/tray.js&lt;/code&gt; ç­‰å…¶ä»–æ¨¡å—çš„ç¼“å­˜ç»§ç»­æœ‰æ•ˆ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;4. é™ä½å†…å­˜å‹åŠ›&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;å·¨å‹æ–‡ä»¶ä¼šå¯¼è‡´æ›´å¤šçš„å†…å­˜å ç”¨ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–å‰&lt;/strong&gt;ï¼š5MB çš„ main.js åœ¨è§£æé˜¶æ®µä¼šç”Ÿæˆå¤§é‡ä¸´æ—¶ AST èŠ‚ç‚¹å¯¹è±¡&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¼˜åŒ–å&lt;/strong&gt;ï¼šå°æ–‡ä»¶çš„ AST æ›´å¿«è¢«åƒåœ¾å›æ”¶ï¼Œé™ä½å†…å­˜å³°å€¼&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&quot;å®é™…æ€§èƒ½æå‡\&quot;&gt;å®é™…æ€§èƒ½æå‡&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®é™…æ€§èƒ½æå‡\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;ç»“åˆæ—¥å¿—æ•°æ®åˆ†æï¼Œæ‹†åŒ…å¸¦æ¥çš„ç›´æ¥æ•ˆæœï¼š&lt;/p&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;æŒ‡æ ‡&lt;/th&gt;&lt;th&gt;ä¼˜åŒ–å‰&lt;/th&gt;&lt;th&gt;ä¼˜åŒ–å&lt;/th&gt;&lt;th&gt;è¯´æ˜&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;app.whenReady è€—æ—¶&lt;/td&gt;&lt;td&gt;833.46ms&lt;/td&gt;&lt;td&gt;126.61ms&lt;/td&gt;&lt;td&gt;&lt;strong&gt;å‡å°‘ 84.8%&lt;/strong&gt;ï¼Œä¸»è¦å½’åŠŸäºæ‹†åŒ…å‡å°‘è§£ææ—¶é—´&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;çª—å£åˆ›å»ºè€—æ—¶&lt;/td&gt;&lt;td&gt;536.34ms&lt;/td&gt;&lt;td&gt;140.59ms&lt;/td&gt;&lt;td&gt;&lt;strong&gt;å‡å°‘ 73.8%&lt;/strong&gt;ï¼Œä¸»æµç¨‹ä»£ç æ›´ç²¾ç®€&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;\n&lt;h4 id=\&quot;æ³¨æ„äº‹é¡¹\&quot;&gt;æ³¨æ„äº‹é¡¹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ³¨æ„äº‹é¡¹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;ä¸è¦æ‹†åˆ†è¿‡ç»†&lt;/strong&gt;ï¼šæ¯ä¸ªæ–‡ä»¶åº”æœ‰ä¸€å®šä½“ç§¯ï¼ˆå»ºè®® &gt;10KBï¼‰ï¼Œå¦åˆ™æ¨¡å—åŠ è½½å¼€é”€ä¼šæŠµæ¶ˆæ‹†åŒ…æ”¶ç›Š&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ’é™¤ index.ts&lt;/strong&gt;ï¼š&lt;code&gt;utils/index.ts&lt;/code&gt; åªæ˜¯å¯¼å‡ºèšåˆæ–‡ä»¶ï¼Œä¸åº”å•ç‹¬æˆä¸º chunk&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å¤–éƒ¨åŒ–åŸç”Ÿæ¨¡å—&lt;/strong&gt;ï¼šå¦‚ &lt;code&gt;electron&lt;/code&gt; å¿…é¡»æ ‡è®°ä¸º externalï¼Œé¿å…æ‰“åŒ…å¤±è´¥&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h4 id=\&quot;æ—¥å¿—ä¸­çš„è¯æ®\&quot;&gt;æ—¥å¿—ä¸­çš„è¯æ®&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ—¥å¿—ä¸­çš„è¯æ®\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;p&gt;å¯¹æ¯”æ—¥å¿—å¯ä»¥çœ‹åˆ°æ‹†åŒ…ä¼˜åŒ–çš„å…³é”®æ—¶é—´ç‚¹ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;log\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–å‰ï¼šå·¨å‹æ–‡ä»¶å¯¼è‡´å¯åŠ¨ç¼“æ…¢&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 16:38:00.298&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] â±ï¸ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;833&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.46ms  â† è§£æè€—æ—¶é•¿&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 16:38:00.951&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                    â† å»¶è¿ŸåŠ è½½&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–åï¼šæ‹†åŒ…åæ¨¡å—æå‰åŠ è½½ï¼Œå¯åŠ¨è¿…é€Ÿ&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 17:10:30.749&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                    â† ç«‹å³åŠ è½½&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;2025-11-18&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; 17:10:30.810&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] â±ï¸ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;166&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.22ms  â† è§£æè€—æ—¶å¤§å¹…é™ä½&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ‹†åŒ…åï¼ŒåŸæœ¬éœ€è¦å»¶è¿ŸåŠ è½½çš„æ¨¡å—ï¼ˆå¦‚ &lt;code&gt;unzipper&lt;/code&gt;ï¼‰å¯ä»¥æ›´å¿«åŠ è½½ï¼Œå› ä¸ºå®ƒä»¬ä¸å†è¢«æ‰“åŒ…åˆ°å·¨å‹ &lt;code&gt;main.js&lt;/code&gt; ä¸­ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;å…³é”®ä¼˜åŒ–ï¼šåŸç”Ÿæ¨¡å—æå‰åŠ è½½&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;ä»æ—¥å¿—æ—¶é—´æˆ³å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;log\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–å‰ï¼šåŸç”Ÿæ¨¡å—åœ¨ &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; ä¹‹åæ‰åŠ è½½&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;16:37:59.464&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;16:38:00.298&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;833&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.46ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;16:38:00.951&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                          â† +1470msï¼ˆä¸¥é‡å»¶è¿Ÿï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;# ä¼˜åŒ–åï¼šåŸç”Ÿæ¨¡å—ç«‹å³åŠ è½½&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;17:10:30.776&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;17:10:30.851&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] unzipperæ¨¡å—åŠ è½½æˆåŠŸ                          â† +75msï¼ˆå‡ ä¹åŒæ—¶ï¼‰&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;17:10:30.903&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;app.whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; è§¦å‘ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;126&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.61ms&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;è¿™æ˜¯å› ä¸ºä¼˜åŒ–å‰ &lt;code&gt;unzipper&lt;/code&gt; æ¨¡å—è¢«æ‰“åŒ…åˆ° &lt;code&gt;main.js&lt;/code&gt; çš„æ·±å±‚ä¾èµ–ä¸­ï¼Œåªæœ‰åœ¨æ•´ä¸ªå·¨å‹æ–‡ä»¶è§£æå®Œæˆåæ‰èƒ½æ‰§è¡Œå®ƒä»¬çš„åˆå§‹åŒ–ä»£ç ã€‚æ‹†åŒ…åï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;è¿™äº›æ¨¡å—æˆä¸ºç‹¬ç«‹çš„ chunk&lt;/li&gt;\n&lt;li&gt;ESM çš„å¹¶è¡ŒåŠ è½½æœºåˆ¶å¯ä»¥æ›´æ—©åœ°åŠ è½½å®ƒä»¬&lt;/li&gt;\n&lt;li&gt;ä¸å†è¢« main.js çš„è§£æé˜»å¡&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;è¿™è¿›ä¸€æ­¥éªŒè¯äº†&lt;strong&gt;æ‹†åŒ…å¯¹å¯åŠ¨æµç¨‹çš„å·¨å¤§ä¼˜åŒ–ä½œç”¨&lt;/strong&gt;ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;3-æŒ‰éœ€å¯¼å…¥ä¾èµ–tree-shaking\&quot;&gt;3. æŒ‰éœ€å¯¼å…¥ä¾èµ–ï¼ˆTree Shakingï¼‰&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#3-æŒ‰éœ€å¯¼å…¥ä¾èµ–tree-shaking\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å¤§å‹åº“çš„å…¨é‡å¯¼å…¥ä¼šå¼•å…¥å¤§é‡æœªä½¿ç”¨çš„ä»£ç ï¼Œå¢åŠ å¯åŠ¨å¼€é”€ã€‚&lt;/p&gt;\n&lt;h4 id=\&quot;ä¼˜åŒ–å‰\&quot;&gt;ä¼˜åŒ–å‰&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¼˜åŒ–å‰\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; *&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; as&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; lodash &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;lodash-es&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨æ—¶&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;win.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;moved&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, lodash.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;throttle&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;/* ... */&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;500&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;));&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;ä¼˜åŒ–å\&quot;&gt;ä¼˜åŒ–å&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¼˜åŒ–å\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// åªå¯¼å…¥éœ€è¦çš„å‡½æ•°&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { throttle, debounce } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;lodash-es&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;win.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;moved&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;throttle&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;/* ... */&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;500&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;));&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;æ•ˆæœåˆ†æ\&quot;&gt;æ•ˆæœåˆ†æ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ•ˆæœåˆ†æ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;å‡å°‘ bundle ä½“ç§¯&lt;/li&gt;\n&lt;li&gt;é™ä½ V8 è§£æè´Ÿæ‹…&lt;/li&gt;\n&lt;li&gt;æå‡ Tree Shaking æ•ˆç‡&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;4-å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—\&quot;&gt;4. å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#4-å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å°†éå¯åŠ¨å¿…éœ€çš„åŠŸèƒ½ï¼ˆå¦‚åˆ’è¯ç¿»è¯‘ï¼‰å»¶è¿Ÿåˆ°ä¸»çª—å£åˆ›å»ºå®Œæˆåå†åˆå§‹åŒ–ã€‚&lt;/p&gt;\n&lt;h4 id=\&quot;å®ç°æ–¹æ¡ˆ\&quot;&gt;å®ç°æ–¹æ¡ˆ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®ç°æ–¹æ¡ˆ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¼˜åŒ–å‰ï¼šåŒæ­¥å¯¼å…¥ï¼Œé˜»å¡å¯åŠ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./utils/selectionWord/ipcListener&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;import&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { cleanupTranslation, initTranslationShortcut } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;from&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;./utils/selectionWord/init&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;().&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;then&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...åˆ›å»ºä¸»çª—å£&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  mainWin &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; await&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; createWindow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  initTranslationShortcut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// é˜»å¡å¯åŠ¨æµç¨‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;});&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¼˜åŒ–åï¼šå¼‚æ­¥åŠ¨æ€å¯¼å…¥ï¼Œä¸é˜»å¡å¯åŠ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;().&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;then&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...åˆ›å»ºä¸»çª—å£&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  mainWin &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; await&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; createWindow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // å»¶è¿Ÿåˆå§‹åŒ–åˆ’è¯ç¿»è¯‘ï¼Œé¿å…é˜»å¡ä¸»çª—å£å¯åŠ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  setImmediate&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; translationStart&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    try&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;      // åŠ¨æ€å¯¼å…¥æ¨¡å—&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      await&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; import&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;./utils/selectionWord/ipcListener&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;initTranslationShortcut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; await&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; import&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;./utils/selectionWord/init&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      initTranslationShortcut&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; translationEnd&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ åˆ’è¯ç¿»è¯‘åŠŸèƒ½å·²åˆå§‹åŒ–ï¼Œè€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;translationEnd&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; translationStart&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;catch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (error) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;error&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;åˆå§‹åŒ–åˆ’è¯ç¿»è¯‘å¤±è´¥:&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, error);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; totalTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;totalTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; startupTime&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;});&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h4 id=\&quot;å…³é”®æŠ€æœ¯ç‚¹\&quot;&gt;å…³é”®æŠ€æœ¯ç‚¹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å…³é”®æŠ€æœ¯ç‚¹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;ä½¿ç”¨ &lt;code&gt;setImmediate&lt;/code&gt;&lt;/strong&gt;ï¼šç¡®ä¿ä¸»çª—å£å®Œå…¨åˆå§‹åŒ–åå†åŠ è½½&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åŠ¨æ€ &lt;code&gt;import()&lt;/code&gt;&lt;/strong&gt;ï¼šæŒ‰éœ€åŠ è½½æ¨¡å—ï¼Œä¸å½±å“ä¸»æµç¨‹&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é”™è¯¯éš”ç¦»&lt;/strong&gt;ï¼šé¿å…éæ ¸å¿ƒåŠŸèƒ½çš„å¤±è´¥å½±å“ä¸»ç¨‹åº&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;æ—¥å¿—è¾“å‡ºæ˜¾ç¤ºåˆ’è¯ç¿»è¯‘åˆå§‹åŒ–è€—æ—¶çº¦ 70-123msï¼Œé€šè¿‡å»¶è¿ŸåŠ è½½å®Œå…¨ä¸å½±å“ä¸»çª—å£å¯åŠ¨ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;log\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;311&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.88ms&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;[info]&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; â±ï¸ åˆ’è¯ç¿»è¯‘åŠŸèƒ½å·²åˆå§‹åŒ–ï¼Œè€—æ—¶: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;59&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.88ms&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;5-æ€§èƒ½ç›‘æ§åŸ‹ç‚¹\&quot;&gt;5. æ€§èƒ½ç›‘æ§åŸ‹ç‚¹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#5-æ€§èƒ½ç›‘æ§åŸ‹ç‚¹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨å…³é”®è·¯å¾„æ·»åŠ æ—¶é—´æˆ³è®°å½•ï¼Œä¾¿äºå®šä½æ€§èƒ½ç“¶é¢ˆã€‚&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;typescript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// å¯åŠ¨å¼€å§‹&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; startupTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;â±ï¸ ä¸»è¿›ç¨‹å¯åŠ¨å¼€å§‹&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// app.whenReady è§¦å‘&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;whenReady&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;().&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;then&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;async&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; readyTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ app.whenReady è§¦å‘ï¼Œè€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;readyTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; startupTime&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // çª—å£åˆ›å»º&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; createWindowStart&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  mainWin &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; await&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; createWindow&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; createWindowEnd&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ çª—å£åˆ›å»ºè€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;createWindowEnd&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; createWindowStart&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // æ€»è€—æ—¶&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; totalTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; performance.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;now&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  log.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;info&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;`â±ï¸ âœ… ä¸»è¿›ç¨‹å¯åŠ¨å®Œæˆï¼Œæ€»è€—æ—¶: ${&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;totalTime&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; -&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; startupTime&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;).&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;toFixed&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;}ms`&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;});&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;å¸¸è§é—®é¢˜\&quot;&gt;å¸¸è§é—®é¢˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å¸¸è§é—®é¢˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;q1-v8-ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—\&quot;&gt;Q1: V8 ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q1-v8-ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: ä¸ä¼šã€‚Electron ä¼šè‡ªåŠ¨ç®¡ç†ç¼“å­˜å¤§å°ï¼Œå®šæœŸæ¸…ç†è¿‡æœŸæ–‡ä»¶ã€‚é€šå¸¸ç¼“å­˜ç›®å½•å¤§å°åœ¨å‡ å MB å·¦å³ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;q2-ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—\&quot;&gt;Q2: ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q2-ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: å½±å“æå°ã€‚æ¨¡å—æ‹†åˆ†åï¼ŒV8 çš„æ¨¡å—åŠ è½½æœºåˆ¶ï¼ˆESMï¼‰å¯ä»¥é«˜æ•ˆå¤„ç†å¤šæ–‡ä»¶ä¾èµ–ï¼Œä¸”æ‹†åŒ…åçš„ç¼“å­˜ç²’åº¦æ›´ç»†ï¼Œæ•´ä½“æ€§èƒ½åè€Œæ›´ä¼˜ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;q3-åŠ¨æ€-import-ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—\&quot;&gt;Q3: åŠ¨æ€ import ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—ï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q3-åŠ¨æ€-import-ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: å¯¹ç”¨æˆ·å‡ ä¹æ— æ„ŸçŸ¥ã€‚ä»¥åˆ’è¯ç¿»è¯‘ä¸ºä¾‹ï¼Œä»ä¸»çª—å£å¯åŠ¨åˆ°ç”¨æˆ·å®é™…ä½¿ç”¨è¯¥åŠŸèƒ½æœ‰è¶³å¤Ÿçš„æ—¶é—´å·®ï¼Œå¼‚æ­¥åŠ è½½å®Œå…¨å¯ä»¥åœ¨ç”¨æˆ·æ“ä½œå‰å®Œæˆã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ€»ç»“\&quot;&gt;æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é€šè¿‡æœ¬æ¬¡ä¼˜åŒ–ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;å¯åŠ¨é€Ÿåº¦æå‡ 80%+&lt;/strong&gt;ï¼šä» 1.6s é™è‡³ 0.3s&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç”¨æˆ·ä½“éªŒæ”¹å–„&lt;/strong&gt;ï¼šçƒ­æ›´æ–°åå‡ ä¹æ— æ„ŸçŸ¥&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å¯ç»´æŠ¤æ€§æå‡&lt;/strong&gt;ï¼šæ€§èƒ½ç›‘æ§åŸ‹ç‚¹ä¾¿äºåç»­å®šä½é—®é¢˜&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;å…³é”®è¦ç‚¹ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;æ¨¡å—æ‹†åŒ…æ˜¯æ ¸å¿ƒ&lt;/strong&gt;ï¼šå°†å•ä¸€ &lt;code&gt;main.js&lt;/code&gt; æ‹†åˆ†ä¸ºå¤šä¸ª &lt;code&gt;utils/*.js&lt;/code&gt; æ–‡ä»¶ï¼Œæ˜¾è‘—é™ä½ V8 çš„ JIT çƒ­ç‚¹ç¼–è¯‘å‹åŠ›ï¼ˆapp.whenReady è€—æ—¶ä» 833ms é™è‡³ 126msï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;V8 ç¼“å­˜æ˜¯åŸºç¡€&lt;/strong&gt;ï¼šå¯ç”¨ä»£ç ç¼“å­˜è·³è¿‡é‡å¤çš„è§£æå’Œç¼–è¯‘è¿‡ç¨‹&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å»¶è¿ŸåŠ è½½ä¼˜åŒ–å…³é”®è·¯å¾„&lt;/strong&gt;ï¼šéå…³é”®åŠŸèƒ½å¼‚æ­¥åŠ è½½ï¼Œä¸é˜»å¡ä¸»çª—å£å¯åŠ¨&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ€§èƒ½ç›‘æ§æä¾›æ•°æ®æ”¯æ’‘&lt;/strong&gt;ï¼šåŸ‹ç‚¹æ—¥å¿—å¸®åŠ©å®šä½ç“¶é¢ˆ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;æœ€é‡è¦çš„å¯ç¤ºï¼š&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;åœ¨ Electron åº”ç”¨ä¸­ï¼Œ&lt;strong&gt;æ‰“åŒ…äº§ç‰©çš„ç»“æ„æ¯”æ‰“åŒ…ä½“ç§¯æ›´é‡è¦&lt;/strong&gt;ã€‚ä¸€ä¸ª 5MB çš„å·¨å‹ &lt;code&gt;main.js&lt;/code&gt; æ–‡ä»¶å¯¹ V8 å¼•æ“æ¥è¯´æ˜¯ç¾éš¾ï¼Œå³ä½¿å®ƒçš„æ€»ä»£ç é‡å¹¶ä¸å¤§ã€‚é€šè¿‡ Vite çš„ &lt;code&gt;manualChunks&lt;/code&gt; é…ç½®ï¼Œå°†ä»£ç æ‹†åˆ†ä¸ºåˆç†çš„æ¨¡å—ç»“æ„ï¼Œè®© V8 èƒ½å¤ŸæŒ‰éœ€è§£æå’Œç¼–è¯‘ï¼Œè¿™æ‰æ˜¯å¯åŠ¨æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ã€‚&lt;/p&gt;\n&lt;p&gt;Electron æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œå»ºè®®å®šæœŸæ£€æŸ¥å¯åŠ¨æ—¥å¿—ï¼Œé’ˆå¯¹æ€§åœ°ä¼˜åŒ–ç“¶é¢ˆç¯èŠ‚ã€‚&lt;/p&gt;\n&lt;hr&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‰è¨€&quot;],&quot;text&quot;:[0,&quot;å‰è¨€&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€§èƒ½æ•°æ®å¯¹æ¯”&quot;],&quot;text&quot;:[0,&quot;æ€§èƒ½æ•°æ®å¯¹æ¯”&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥&quot;],&quot;text&quot;:[0,&quot;æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1-å¯ç”¨-v8-ä»£ç ç¼“å­˜&quot;],&quot;text&quot;:[0,&quot;1. å¯ç”¨ V8 ä»£ç ç¼“å­˜&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;å®ç°æ–¹å¼&quot;],&quot;text&quot;:[0,&quot;å®ç°æ–¹å¼&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;éªŒè¯ç¼“å­˜æ•ˆæœ&quot;],&quot;text&quot;:[0,&quot;éªŒè¯ç¼“å­˜æ•ˆæœ&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;å·¥ä½œåŸç†&quot;],&quot;text&quot;:[0,&quot;å·¥ä½œåŸç†&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2-æ¨¡å—æ‹†åŒ…code-splitting-æ ¸å¿ƒä¼˜åŒ–&quot;],&quot;text&quot;:[0,&quot;2. æ¨¡å—æ‹†åŒ…ï¼ˆCode Splittingï¼‰â€”â€” æ ¸å¿ƒä¼˜åŒ–&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;é—®é¢˜èƒŒæ™¯ä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…&quot;],&quot;text&quot;:[0,&quot;é—®é¢˜èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦æ‹†åŒ…ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;vite-é…ç½®æ–¹æ¡ˆ&quot;],&quot;text&quot;:[0,&quot;Vite é…ç½®æ–¹æ¡ˆ&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;æ‹†åŒ…æ•ˆæœå¯¹æ¯”&quot;],&quot;text&quot;:[0,&quot;æ‹†åŒ…æ•ˆæœå¯¹æ¯”&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;æ‹†åŒ…å¦‚ä½•é™ä½-jit-çƒ­ç‚¹ç¼–è¯‘å‹åŠ›&quot;],&quot;text&quot;:[0,&quot;æ‹†åŒ…å¦‚ä½•é™ä½ JIT çƒ­ç‚¹ç¼–è¯‘å‹åŠ›ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;å®é™…æ€§èƒ½æå‡&quot;],&quot;text&quot;:[0,&quot;å®é™…æ€§èƒ½æå‡&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;æ³¨æ„äº‹é¡¹&quot;],&quot;text&quot;:[0,&quot;æ³¨æ„äº‹é¡¹&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;æ—¥å¿—ä¸­çš„è¯æ®&quot;],&quot;text&quot;:[0,&quot;æ—¥å¿—ä¸­çš„è¯æ®&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3-æŒ‰éœ€å¯¼å…¥ä¾èµ–tree-shaking&quot;],&quot;text&quot;:[0,&quot;3. æŒ‰éœ€å¯¼å…¥ä¾èµ–ï¼ˆTree Shakingï¼‰&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;ä¼˜åŒ–å‰&quot;],&quot;text&quot;:[0,&quot;ä¼˜åŒ–å‰&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;ä¼˜åŒ–å&quot;],&quot;text&quot;:[0,&quot;ä¼˜åŒ–å&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;æ•ˆæœåˆ†æ&quot;],&quot;text&quot;:[0,&quot;æ•ˆæœåˆ†æ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;4-å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—&quot;],&quot;text&quot;:[0,&quot;4. å»¶è¿ŸåŠ è½½éå…³é”®æ¨¡å—&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;å®ç°æ–¹æ¡ˆ&quot;],&quot;text&quot;:[0,&quot;å®ç°æ–¹æ¡ˆ&quot;]}],[0,{&quot;depth&quot;:[0,4],&quot;slug&quot;:[0,&quot;å…³é”®æŠ€æœ¯ç‚¹&quot;],&quot;text&quot;:[0,&quot;å…³é”®æŠ€æœ¯ç‚¹&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;5-æ€§èƒ½ç›‘æ§åŸ‹ç‚¹&quot;],&quot;text&quot;:[0,&quot;5. æ€§èƒ½ç›‘æ§åŸ‹ç‚¹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å¸¸è§é—®é¢˜&quot;],&quot;text&quot;:[0,&quot;å¸¸è§é—®é¢˜&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q1-v8-ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—&quot;],&quot;text&quot;:[0,&quot;Q1: V8 ç¼“å­˜æ–‡ä»¶ä¼šæ— é™å¢é•¿å—ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q2-ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—&quot;],&quot;text&quot;:[0,&quot;Q2: ä»£ç æ‹†åŒ…ä¼šå½±å“è¿è¡Œæ—¶æ€§èƒ½å—ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q3-åŠ¨æ€-import-ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—&quot;],&quot;text&quot;:[0,&quot;Q3: åŠ¨æ€ import ä¼šå¯¼è‡´åŠŸèƒ½å»¶è¿Ÿå—ï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;æ€»ç»“&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Electron çƒ­æ›´æ–°åå¯åŠ¨æ€§èƒ½ä¼˜åŒ–ï¼šV8 ç¼“å­˜ä¸ä»£ç æ‹†åŒ…å®æˆ˜&quot;],&quot;date&quot;:[3,&quot;2025-11-18T18:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Electron&quot;],[0,&quot;æ€§èƒ½ä¼˜åŒ–&quot;],[0,&quot;V8&quot;],[0,&quot;Vite&quot;],[0,&quot;çƒ­æ›´æ–°&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;],&quot;description&quot;:[0,&quot;æ·±å…¥å®æˆ˜ Electron åº”ç”¨æ€§èƒ½ä¼˜åŒ–ï¼Œé€šè¿‡å¯ç”¨ V8 ä»£ç ç¼“å­˜ã€Vite æ¨¡å—æ‹†åŒ…ã€æŒ‰éœ€å¯¼å…¥å’Œå»¶è¿ŸåŠ è½½ç­‰æ‰‹æ®µï¼Œå°†ä¸»è¿›ç¨‹å¯åŠ¨æ—¶é—´ä» 1619ms ä¼˜åŒ–åˆ° 311msï¼Œæ€§èƒ½æå‡ 80%ã€‚è¯¦è§£ V8 JIT ç¼–è¯‘åŸç†ã€manualChunks æ‹†åŒ…ç­–ç•¥åŠå®é™…ä¼˜åŒ–æ•ˆæœå¯¹æ¯”ã€‚&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/17&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;é…ç½®-codex-è‡ªå®šä¹‰ä¸‰æ–¹api&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;é…ç½® Codex è‡ªå®šä¹‰ä¸‰æ–¹API&quot;],&quot;date&quot;:[3,&quot;2025-10-22T10:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;CodeX&quot;],[0,&quot;AI&quot;],[0,&quot;é…ç½®&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;body&quot;:[0,&quot;æœ€è¿‘åœ¨ç”¨ Claude Code,æ¢äº†æˆæœ¬æ›´ä½çš„Codex,è®°å½•ä¸€ä¸‹é…ç½®è¿‡ç¨‹ã€‚æ–¹ä¾¿ä»¥åæŸ¥çœ‹ï¼Œå¿«é€Ÿé…ç½®ã€‚\n\n## é…ç½®è·¯å¾„\n\né…ç½®æ–‡ä»¶ä½ç½®:\n- **macOS/Linux**: `~/.codex/config.toml`\n- **Windows**: `C:\\Users\\ä½ çš„ç”¨æˆ·å\\.codex\\config.toml`\n\n## é…ç½®æ–‡ä»¶\n\nç›´æ¥ä¸Šé…ç½®:\n\n```toml\nmodel_provider = \&quot;codex\&quot;\nmodel = \&quot;gpt-4.1-mini\&quot;\nmodel_reasoning_effort = \&quot;medium\&quot;\ndisable_response_storage = true\nwindows_wsl_setup_acknowledged = true\n\n[model_providers.codex]\nname = \&quot;codex\&quot;\nbase_url=\&quot;https://api.burn.hair/v1\&quot; #ä½¿ç”¨å®˜æ–¹æˆ–ç¬¬ä¸‰æ–¹çš„\nwire_api = \&quot;responses\&quot;\nenv_key = \&quot;K_CODEX\&quot; #ä¸è¦æ”¹æˆè‡ªå·±çš„å¯†é’¥,åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­è®¾ç½®\n```\n\n## å‚æ•°è¯´æ˜\n\nå‡ ä¸ªå…³é”®é…ç½®:\n\n- `model_provider`: è®¾ç½®æˆ `\&quot;codex\&quot;` å°±è¡Œ\n- `model`: ç”¨çš„æ¨¡å‹,è¿™é‡Œæ˜¯ `gpt-4.1-mini`\n- `model_reasoning_effort`: æ¨ç†å¼ºåº¦,`low`/`medium`/`high` ä¸‰æ¡£,medium å¤Ÿç”¨\n- `disable_response_storage`: ä¸ä¿å­˜å†å²è®°å½•,å¼€å¯æ›´å®‰å…¨\n- `base_url`: API åœ°å€,æ¢æˆä½ è‡ªå·±çš„\n- `env_key`: ç¯å¢ƒå˜é‡å,**å¯†é’¥åˆ«ç›´æ¥å†™é…ç½®æ–‡ä»¶é‡Œ**\n\n## è®¾ç½®æ­¥éª¤\n\n### 1. ä¿®æ”¹é…ç½®æ–‡ä»¶\n\næ‰¾åˆ°é…ç½®æ–‡ä»¶,æŠŠä¸Šé¢çš„é…ç½®å¤åˆ¶è¿›å»,æ”¹ä¸€ä¸‹ `base_url` å’Œ `model`ã€‚\n\n### 2. è®¾ç½®ç¯å¢ƒå˜é‡\n\n**macOS/Linux** åœ¨ `~/.zshrc` æˆ– `~/.bashrc` åŠ ä¸€è¡Œ:\n```bash\nexport K_CODEX=\&quot;your-api-key-here\&quot;\n```\n\nç„¶å `source ~/.zshrc` ç”Ÿæ•ˆã€‚\n\n**Windows** PowerShell æ‰§è¡Œ:\n```powershell\n[System.Environment]::SetEnvironmentVariable(&#39;K_CODEX&#39;, &#39;your-api-key-here&#39;, &#39;User&#39;)\n```\n\n### 3. é‡å¯ç»ˆç«¯\n\né‡å¯ç»ˆç«¯å°±èƒ½ç”¨äº†ã€‚&quot;],&quot;filePath&quot;:[0,&quot;source/posts/é…ç½® Codex è‡ªå®šä¹‰ä¸‰æ–¹API.md&quot;],&quot;digest&quot;:[0,&quot;f385427c0be78a5b&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;æœ€è¿‘åœ¨ç”¨ Claude Code,æ¢äº†æˆæœ¬æ›´ä½çš„Codex,è®°å½•ä¸€ä¸‹é…ç½®è¿‡ç¨‹ã€‚æ–¹ä¾¿ä»¥åæŸ¥çœ‹ï¼Œå¿«é€Ÿé…ç½®ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;é…ç½®è·¯å¾„\&quot;&gt;é…ç½®è·¯å¾„&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é…ç½®è·¯å¾„\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é…ç½®æ–‡ä»¶ä½ç½®:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;macOS/Linux&lt;/strong&gt;: &lt;code&gt;~/.codex/config.toml&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Windows&lt;/strong&gt;: &lt;code&gt;C:\\Users\\ä½ çš„ç”¨æˆ·å\\.codex\\config.toml&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&quot;é…ç½®æ–‡ä»¶\&quot;&gt;é…ç½®æ–‡ä»¶&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é…ç½®æ–‡ä»¶\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ç›´æ¥ä¸Šé…ç½®:&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;toml\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;model_provider = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;codex\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;model = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;gpt-4.1-mini\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;model_reasoning_effort = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;medium\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;disable_response_storage = &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;windows_wsl_setup_acknowledged = &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;model_providers&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;codex&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;]&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;name = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;codex\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;base_url=&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;https://api.burn.hair/v1\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; #ä½¿ç”¨å®˜æ–¹æˆ–ç¬¬ä¸‰æ–¹çš„&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;wire_api = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;responses\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;env_key = &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;K_CODEX\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; #ä¸è¦æ”¹æˆè‡ªå·±çš„å¯†é’¥,åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­è®¾ç½®&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;å‚æ•°è¯´æ˜\&quot;&gt;å‚æ•°è¯´æ˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‚æ•°è¯´æ˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å‡ ä¸ªå…³é”®é…ç½®:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;model_provider&lt;/code&gt;: è®¾ç½®æˆ &lt;code&gt;\&quot;codex\&quot;&lt;/code&gt; å°±è¡Œ&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;model&lt;/code&gt;: ç”¨çš„æ¨¡å‹,è¿™é‡Œæ˜¯ &lt;code&gt;gpt-4.1-mini&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;model_reasoning_effort&lt;/code&gt;: æ¨ç†å¼ºåº¦,&lt;code&gt;low&lt;/code&gt;/&lt;code&gt;medium&lt;/code&gt;/&lt;code&gt;high&lt;/code&gt; ä¸‰æ¡£,medium å¤Ÿç”¨&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;disable_response_storage&lt;/code&gt;: ä¸ä¿å­˜å†å²è®°å½•,å¼€å¯æ›´å®‰å…¨&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;base_url&lt;/code&gt;: API åœ°å€,æ¢æˆä½ è‡ªå·±çš„&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;env_key&lt;/code&gt;: ç¯å¢ƒå˜é‡å,&lt;strong&gt;å¯†é’¥åˆ«ç›´æ¥å†™é…ç½®æ–‡ä»¶é‡Œ&lt;/strong&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&quot;è®¾ç½®æ­¥éª¤\&quot;&gt;è®¾ç½®æ­¥éª¤&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è®¾ç½®æ­¥éª¤\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;1-ä¿®æ”¹é…ç½®æ–‡ä»¶\&quot;&gt;1. ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#1-ä¿®æ”¹é…ç½®æ–‡ä»¶\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;æ‰¾åˆ°é…ç½®æ–‡ä»¶,æŠŠä¸Šé¢çš„é…ç½®å¤åˆ¶è¿›å»,æ”¹ä¸€ä¸‹ &lt;code&gt;base_url&lt;/code&gt; å’Œ &lt;code&gt;model&lt;/code&gt;ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;2-è®¾ç½®ç¯å¢ƒå˜é‡\&quot;&gt;2. è®¾ç½®ç¯å¢ƒå˜é‡&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#2-è®¾ç½®ç¯å¢ƒå˜é‡\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;strong&gt;macOS/Linux&lt;/strong&gt; åœ¨ &lt;code&gt;~/.zshrc&lt;/code&gt; æˆ– &lt;code&gt;~/.bashrc&lt;/code&gt; åŠ ä¸€è¡Œ:&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; K_CODEX&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;your-api-key-here\&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;ç„¶å &lt;code&gt;source ~/.zshrc&lt;/code&gt; ç”Ÿæ•ˆã€‚&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Windows&lt;/strong&gt; PowerShell æ‰§è¡Œ:&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;powershell\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;[&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;System.Environment&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;]::SetEnvironmentVariable(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;K_CODEX&#39;&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;,&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;your-api-key-here&#39;&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;,&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;User&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;3-é‡å¯ç»ˆç«¯\&quot;&gt;3. é‡å¯ç»ˆç«¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#3-é‡å¯ç»ˆç«¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;é‡å¯ç»ˆç«¯å°±èƒ½ç”¨äº†ã€‚&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é…ç½®è·¯å¾„&quot;],&quot;text&quot;:[0,&quot;é…ç½®è·¯å¾„&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é…ç½®æ–‡ä»¶&quot;],&quot;text&quot;:[0,&quot;é…ç½®æ–‡ä»¶&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‚æ•°è¯´æ˜&quot;],&quot;text&quot;:[0,&quot;å‚æ•°è¯´æ˜&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;è®¾ç½®æ­¥éª¤&quot;],&quot;text&quot;:[0,&quot;è®¾ç½®æ­¥éª¤&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1-ä¿®æ”¹é…ç½®æ–‡ä»¶&quot;],&quot;text&quot;:[0,&quot;1. ä¿®æ”¹é…ç½®æ–‡ä»¶&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2-è®¾ç½®ç¯å¢ƒå˜é‡&quot;],&quot;text&quot;:[0,&quot;2. è®¾ç½®ç¯å¢ƒå˜é‡&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3-é‡å¯ç»ˆç«¯&quot;],&quot;text&quot;:[0,&quot;3. é‡å¯ç»ˆç«¯&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;é…ç½® Codex è‡ªå®šä¹‰ä¸‰æ–¹API&quot;],&quot;date&quot;:[3,&quot;2025-10-22T10:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;CodeX&quot;],[0,&quot;AI&quot;],[0,&quot;é…ç½®&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/15&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;react-effectä¾èµ–ä¼˜åŒ–æœ€ä½³å®è·µä¸æºç è§£æ&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;React Effect ä¾èµ–ä¼˜åŒ–æœ€ä½³å®è·µ&quot;],&quot;date&quot;:[3,&quot;2025-10-21T21:00:34.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;React&quot;],[0,&quot;Hooks&quot;],[0,&quot;æ€§èƒ½ä¼˜åŒ–&quot;],[0,&quot;æºç è§£æ&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;body&quot;:[0,&quot;## å‰è¨€\n\nåœ¨ä½¿ç”¨ React Hooks å¼€å‘æ—¶ï¼Œ`useEffect` çš„ä¾èµ–æ•°ç»„ç®¡ç†æ˜¯ä¸€ä¸ªå¸¸è§çš„ç—›ç‚¹ã€‚å¾ˆå¤šå¼€å‘è€…é‡åˆ°è¿‡è¿™æ ·çš„å›°æ‰°ï¼šä¾èµ–é¡¹è¿‡å¤šå¯¼è‡´ Effect é¢‘ç¹æ‰§è¡Œï¼Œæˆ–è€…ä¸ºäº†å›¾æ–¹ä¾¿ç›´æ¥ç¦ç”¨ ESLint è§„åˆ™ï¼Œæœ€ç»ˆå¼•å‘éš¾ä»¥è°ƒè¯•çš„ bugã€‚\n\næœ¬æ–‡å°†ä» React å®˜æ–¹æ–‡æ¡£å’Œæºç å±‚é¢æ·±å…¥æ¢è®¨å¦‚ä½•æ­£ç¡®ç®¡ç† Effect ä¾èµ–ï¼Œå¸®åŠ©ä½ å†™å‡ºæ›´é«˜æ•ˆã€æ›´å¯ç»´æŠ¤çš„ React ä»£ç ã€‚\n\n## æ ¸å¿ƒåŸåˆ™ï¼šä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…\n\nReact å®˜æ–¹æ–‡æ¡£æ˜ç¡®æŒ‡å‡ºï¼š**ä¾èµ–åº”è¯¥ä¸ä»£ç åŒ¹é…**ã€‚è¿™æ„å‘³ç€ Effect ä¸­ä½¿ç”¨çš„æ¯ä¸€ä¸ªå“åº”å¼å€¼ï¼ˆpropsã€stateï¼‰éƒ½å¿…é¡»å‡ºç°åœ¨ä¾èµ–æ•°ç»„ä¸­ã€‚\n\nReact çš„ ESLint æ’ä»¶ `eslint-plugin-react-hooks` ä¼šè‡ªåŠ¨æ£€æŸ¥è¿™ä¸€è§„åˆ™ï¼Œç¡®ä¿ä½ çš„ä¾èµ–å£°æ˜æ˜¯å®Œæ•´çš„ã€‚\n\n### âš ï¸ å…³é”®è­¦å‘Š\n\n**æ°¸è¿œä¸è¦ç”¨æ³¨é‡Šç¦ç”¨ä¾èµ–æ£€æŸ¥ï¼š**\n\n```javascript\n// âŒ å±é™©åšæ³•\nuseEffect(() =&gt; {\n  // ...\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n}, []);\n```\n\nReact æ–‡æ¡£å¼ºè°ƒï¼š**åº”è¯¥æŠŠä¾èµ–æ£€æŸ¥é”™è¯¯å½“ä½œç¼–è¯‘é”™è¯¯æ¥å¯¹å¾…**ã€‚å¿½ç•¥å®ƒä¼šå¯¼è‡´å¾®å¦™ä¸”éš¾ä»¥è¯Šæ–­çš„ bugã€‚\n\n## å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–\n\n### 1. å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨\n\nå¦‚æœæŸæ®µä»£ç åº”è¯¥å“åº”ç‰¹å®šçš„ç”¨æˆ·äº¤äº’è€Œéå“åº”å¼å˜åŒ–ï¼Œåº”è¯¥æ”¾åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­ï¼š\n\n```javascript\n// âŒ ä¸å¥½çš„åšæ³•\nfunction ChatRoom({ roomId }) {\n  const [message, setMessage] = useState(&#39;&#39;);\n\n  useEffect(() =&gt; {\n    if (message) {\n      logVisit(roomId, message);\n    }\n  }, [roomId, message]); // message å˜åŒ–ä¼šé‡å¤è®°å½•\n\n  return &lt;input value={message} onChange={e =&gt; setMessage(e.target.value)} /&gt;;\n}\n\n// âœ… å¥½çš„åšæ³•\nfunction ChatRoom({ roomId }) {\n  const [message, setMessage] = useState(&#39;&#39;);\n\n  const handleSend = () =&gt; {\n    logVisit(roomId, message); // åªåœ¨å‘é€æ—¶è®°å½•\n  };\n\n  return (\n    &lt;&gt;\n      &lt;input value={message} onChange={e =&gt; setMessage(e.target.value)} /&gt;\n      &lt;button onClick={handleSend}&gt;å‘é€&lt;/button&gt;\n    &lt;/&gt;\n  );\n}\n```\n\n### 2. æ‹†åˆ†å¤šç›®çš„ Effect\n\nå½“ä¸€ä¸ª Effect åŒæ­¥å¤šä¸ªä¸ç›¸å…³çš„è¿‡ç¨‹æ—¶,åº”è¯¥æ‹†åˆ†æˆå¤šä¸ª Effectï¼š\n\n```javascript\n// âŒ ä¸å¥½çš„åšæ³•\nuseEffect(() =&gt; {\n  connectToChat(roomId);\n  trackPageView(page);\n}, [roomId, page]); // roomId å˜åŒ–ä¼šè§¦å‘ä¸å¿…è¦çš„é¡µé¢è¿½è¸ª\n\n// âœ… å¥½çš„åšæ³•\nuseEffect(() =&gt; {\n  connectToChat(roomId);\n}, [roomId]);\n\nuseEffect(() =&gt; {\n  trackPageView(page);\n}, [page]);\n```\n\n### 3. ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°\n\né€šè¿‡ä¼ é€’æ›´æ–°å‡½æ•°è€Œéç›´æ¥è¯»å– stateï¼Œå¯ä»¥ç§»é™¤çŠ¶æ€ä¾èµ–ï¼š\n\n```javascript\n// âŒ ä¸å¥½çš„åšæ³•\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() =&gt; {\n    const timer = setInterval(() =&gt; {\n      setCount(count + 1); // ä¾èµ– count\n    }, 1000);\n    return () =&gt; clearInterval(timer);\n  }, [count]); // æ¯æ¬¡ count å˜åŒ–éƒ½ä¼šé‡ç½®å®šæ—¶å™¨\n\n  return &lt;div&gt;{count}&lt;/div&gt;;\n}\n\n// âœ… å¥½çš„åšæ³•\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  useEffect(() =&gt; {\n    const timer = setInterval(() =&gt; {\n      setCount(c =&gt; c + 1); // ä½¿ç”¨æ›´æ–°å‡½æ•°,ä¸ä¾èµ– count\n    }, 1000);\n    return () =&gt; clearInterval(timer);\n  }, []); // ç©ºä¾èµ–æ•°ç»„,å®šæ—¶å™¨ä¸ä¼šé‡ç½®\n\n  return &lt;div&gt;{count}&lt;/div&gt;;\n}\n```\n\n### 4. ä½¿ç”¨ Effect Eventï¼ˆå®éªŒæ€§ï¼‰\n\n`useEffectEvent` å…è®¸ä½ æå–éå“åº”å¼é€»è¾‘ï¼Œè¯»å–æœ€æ–°å€¼è€Œä¸è§¦å‘é‡æ–°åŒæ­¥ï¼š\n\n```javascript\n// âœ… ä½¿ç”¨ Effect Event\nfunction ChatRoom({ roomId, theme }) {\n  const onConnected = useEffectEvent(() =&gt; {\n    showNotification(&#39;å·²è¿æ¥&#39;, theme); // è¯»å–æœ€æ–°çš„ theme\n  });\n\n  useEffect(() =&gt; {\n    const connection = connectToChat(roomId);\n    connection.on(&#39;connected&#39;, onConnected);\n    return () =&gt; connection.disconnect();\n  }, [roomId]); // theme å˜åŒ–ä¸ä¼šé‡æ–°è¿æ¥\n}\n```\n\n**æ³¨æ„ï¼š** `useEffectEvent` ç›®å‰ä»æ˜¯å®éªŒæ€§ APIï¼Œå°šæœªåŒ…å«åœ¨ç¨³å®šç‰ˆ React ä¸­ã€‚\n\n### 5. é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–\n\nå¯¹è±¡å’Œå‡½æ•°åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½æ˜¯æ–°çš„å¼•ç”¨ï¼Œä¼šå¯¼è‡´ä¸å¿…è¦çš„é‡æ–°æ‰§è¡Œï¼š\n\n```javascript\n// âŒ ä¸å¥½çš„åšæ³•\nfunction SearchResults({ query }) {\n  const options = { // æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°å¯¹è±¡\n    includeArchived: true\n  };\n\n  useEffect(() =&gt; {\n    fetchResults(query, options);\n  }, [query, options]); // options æ¯æ¬¡éƒ½ä¼šè§¦å‘\n}\n\n// âœ… è§£å†³æ–¹æ¡ˆ 1: ç§»åˆ° Effect å†…éƒ¨\nfunction SearchResults({ query }) {\n  useEffect(() =&gt; {\n    const options = { includeArchived: true };\n    fetchResults(query, options);\n  }, [query]);\n}\n\n// âœ… è§£å†³æ–¹æ¡ˆ 2: ç§»åˆ°ç»„ä»¶å¤–éƒ¨\nconst OPTIONS = { includeArchived: true };\n\nfunction SearchResults({ query }) {\n  useEffect(() =&gt; {\n    fetchResults(query, OPTIONS);\n  }, [query]);\n}\n\n// âœ… è§£å†³æ–¹æ¡ˆ 3: ä½¿ç”¨ useMemo\nfunction SearchResults({ query, includeArchived }) {\n  const options = useMemo(() =&gt; ({\n    includeArchived\n  }), [includeArchived]);\n\n  useEffect(() =&gt; {\n    fetchResults(query, options);\n  }, [query, options]);\n}\n```\n\n### 6. æå–åŸå§‹å€¼\n\nå½“æ¥æ”¶å¯¹è±¡ props æ—¶ï¼Œè§£æ„å‡ºåŸå§‹å€¼ä½œä¸ºä¾èµ–ï¼š\n\n```javascript\n// âŒ ä¸å¥½çš„åšæ³•\nfunction ChatRoom({ options }) {\n  useEffect(() =&gt; {\n    connectToChat(options.roomId);\n  }, [options]); // options å¯¹è±¡æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°çš„\n}\n\n// âœ… å¥½çš„åšæ³•\nfunction ChatRoom({ options }) {\n  const { roomId } = options;\n\n  useEffect(() =&gt; {\n    connectToChat(roomId);\n  }, [roomId]); // åªä¾èµ–åŸå§‹å€¼\n}\n```\n\n## æºç è§£æï¼šReact å¦‚ä½•åˆå§‹åŒ– State\n\nè®©æˆ‘ä»¬æ·±å…¥ React æºç ï¼Œçœ‹çœ‹ `useState` èƒŒåçš„å®ç°æœºåˆ¶ã€‚ä»¥ä¸‹ä»£ç æ¥è‡ª React v19.1.1 çš„ `ReactFiberHooks.js`ï¼š\n\n```javascript\nfunction mountStateImpl&lt;S&gt;(initialState: (() =&gt; S) | S): Hook {\n  const hook = mountWorkInProgressHook();\n  if (typeof initialState === &#39;function&#39;) {\n    const initialStateInitializer = initialState;\n    // æ‰§è¡Œåˆå§‹åŒ–å‡½æ•°è·å–åˆå§‹å€¼\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(true);\n      try {\n        // ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæ‰§è¡Œä¸¤æ¬¡,æ£€æµ‹å‰¯ä½œç”¨\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(false);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  // ...\n}\n```\n\n### æºç è¦ç‚¹è§£è¯»\n\n1. **æƒ°æ€§åˆå§‹åŒ–æ”¯æŒ**ï¼šå½“ `initialState` æ˜¯å‡½æ•°æ—¶ï¼ŒReact ä¼šæ‰§è¡Œå®ƒæ¥è·å–åˆå§‹å€¼ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥å†™ `useState(() =&gt; expensiveComputation())`ã€‚\n\n2. **ä¸¥æ ¼æ¨¡å¼åŒé‡è°ƒç”¨**ï¼šåœ¨å¼€å‘æ¨¡å¼çš„ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåˆå§‹åŒ–å‡½æ•°ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡ã€‚è¿™æ˜¯ React çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨äºå¸®åŠ©æ£€æµ‹ä¸çº¯çš„åˆå§‹åŒ–å‡½æ•°ä¸­çš„å‰¯ä½œç”¨ã€‚\n\n3. **çŠ¶æ€å­˜å‚¨**ï¼šåˆå§‹å€¼ä¼šåŒæ—¶å­˜å‚¨åœ¨ `memoizedState`ï¼ˆå½“å‰çŠ¶æ€ï¼‰å’Œ `baseState`ï¼ˆåŸºç¡€çŠ¶æ€ï¼‰ä¸­ã€‚è¿™æ˜¯ React å®ç°çŠ¶æ€æ›´æ–°å’Œå¹¶å‘æ¸²æŸ“çš„åŸºç¡€ã€‚\n\n### ä¸ Effect ä¾èµ–çš„å…³è”\n\nç†è§£ `useState` çš„å®ç°æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°ç®¡ç† Effect ä¾èµ–ï¼š\n\n```javascript\n// ä¸ºä»€ä¹ˆæƒ°æ€§åˆå§‹åŒ–ä¸éœ€è¦ä¾èµ–\nfunction Component() {\n  // âœ… åˆå§‹åŒ–å‡½æ•°åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡\n  const [data] = useState(() =&gt; {\n    return expensiveComputation(); // ä¸ä¼šé‡å¤æ‰§è¡Œ\n  });\n\n  useEffect(() =&gt; {\n    // data æ¥è‡ª state,æ˜¯å“åº”å¼çš„,éœ€è¦ä½œä¸ºä¾èµ–\n    processData(data);\n  }, [data]);\n}\n```\n\n## å®æˆ˜æ¡ˆä¾‹ï¼šèŠå¤©å®¤è¿æ¥ç®¡ç†\n\nè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­æ•´åˆè¿™äº›æœ€ä½³å®è·µï¼š\n\n```javascript\nfunction ChatRoom({ roomId, theme, currentUser }) {\n  const [messages, setMessages] = useState([]);\n  const [isConnected, setIsConnected] = useState(false);\n\n  // âœ… ä½¿ç”¨ Effect Event å¤„ç†éå“åº”å¼é€»è¾‘\n  const onMessage = useEffectEvent((message) =&gt; {\n    setMessages(msgs =&gt; [...msgs, message]); // ä½¿ç”¨æ›´æ–°å‡½æ•°\n    showNotification(message, theme); // è¯»å–æœ€æ–° theme,ä½†ä¸è§¦å‘é‡è¿\n  });\n\n  const onConnectionChange = useEffectEvent((connected) =&gt; {\n    setIsConnected(connected);\n    if (connected) {\n      logUserActivity(currentUser.id); // è¯»å–æœ€æ–° user,ä½†ä¸è§¦å‘é‡è¿\n    }\n  });\n\n  // âœ… åªåœ¨ roomId å˜åŒ–æ—¶é‡æ–°è¿æ¥\n  useEffect(() =&gt; {\n    const connection = createConnection(roomId);\n\n    connection.on(&#39;message&#39;, onMessage);\n    connection.on(&#39;connection&#39;, onConnectionChange);\n    connection.connect();\n\n    return () =&gt; {\n      connection.disconnect();\n    };\n  }, [roomId]); // åªä¾èµ– roomId\n\n  return (\n    &lt;div className={theme}&gt;\n      &lt;ConnectionStatus isConnected={isConnected} /&gt;\n      &lt;MessageList messages={messages} /&gt;\n    &lt;/div&gt;\n  );\n}\n```\n\n### è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹\n\n1. **æœ€å°åŒ–ä¾èµ–**ï¼šEffect åªä¾èµ– `roomId`ï¼Œåªåœ¨åˆ‡æ¢æˆ¿é—´æ—¶é‡æ–°è¿æ¥\n2. **é¿å…ä¸å¿…è¦çš„é‡è¿**ï¼š`theme` å’Œ `currentUser` å˜åŒ–ä¸ä¼šå¯¼è‡´é‡æ–°è¿æ¥\n3. **ä½¿ç”¨æ›´æ–°å‡½æ•°**ï¼š`setMessages(msgs =&gt; [...msgs, message])` é¿å…ä¾èµ– `messages`\n4. **æ¸…æ™°çš„èŒè´£åˆ†ç¦»**ï¼šè¿æ¥é€»è¾‘ã€æ¶ˆæ¯å¤„ç†ã€é€šçŸ¥å±•ç¤ºå„å¸å…¶èŒ\n\n## è°ƒè¯•æŠ€å·§\n\n### 1. ä½¿ç”¨ React DevTools\n\nReact DevTools çš„ Profiler å¯ä»¥å¸®ä½ è¯†åˆ«å“ªäº›ç»„ä»¶å› ä¸º Effect é‡æ–°æ¸²æŸ“ï¼š\n\n- è®°å½•æ¸²æŸ“åŸå› \n- æŸ¥çœ‹ Hook çš„ä¾èµ–å˜åŒ–\n- è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ\n\n### 2. æ·»åŠ æ—¥å¿—\n\nåœ¨å¼€å‘ç¯å¢ƒæ·»åŠ æ—¥å¿—å¸®åŠ©ç†è§£ Effect æ‰§è¡Œæ—¶æœºï¼š\n\n```javascript\nuseEffect(() =&gt; {\n  console.log(&#39;Effect æ‰§è¡Œ:&#39;, { roomId, theme });\n  // ...\n  return () =&gt; {\n    console.log(&#39;Effect æ¸…ç†:&#39;, { roomId, theme });\n  };\n}, [roomId, theme]);\n```\n\n### 3. ä½¿ç”¨ eslint-plugin-react-hooks\n\nç¡®ä¿åœ¨é¡¹ç›®ä¸­å¯ç”¨å¹¶é…ç½®è¯¥æ’ä»¶ï¼š\n\n```json\n{\n  \&quot;plugins\&quot;: [\&quot;react-hooks\&quot;],\n  \&quot;rules\&quot;: {\n    \&quot;react-hooks/rules-of-hooks\&quot;: \&quot;error\&quot;,\n    \&quot;react-hooks/exhaustive-deps\&quot;: \&quot;warn\&quot;\n  }\n}\n```\n\n## å¸¸è§è¯¯åŒº\n\n### è¯¯åŒº 1ï¼šç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½\n\n```javascript\n// âŒ é”™è¯¯ç†è§£\nuseEffect(() =&gt; {\n  setCount(count + 1); // count æ°¸è¿œæ˜¯åˆå§‹å€¼\n}, []); // ç¼ºå°‘ count ä¾èµ–\n```\n\n### è¯¯åŒº 2ï¼šä¾èµ–è¶Šå°‘è¶Šå¥½\n\nä¾èµ–å°‘ä¸æ˜¯ç›®æ ‡ï¼Œ**å‡†ç¡®çš„ä¾èµ–**æ‰æ˜¯ç›®æ ‡ã€‚ä¸è¦ä¸ºäº†å‡å°‘ä¾èµ–è€Œç‰ºç‰²æ­£ç¡®æ€§ã€‚\n\n### è¯¯åŒº 3ï¼šéšæ„ç¦ç”¨ ESLint è§„åˆ™\n\n```javascript\n// âŒ è¿™æ˜¯æŠ€æœ¯å€ºåŠ¡\nuseEffect(() =&gt; {\n  // ...\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n}, []);\n```\n\nè¿™ä¼šåœ¨æœªæ¥å¼•å‘éš¾ä»¥è¿½è¸ªçš„ bugï¼Œç»å¯¹ä¸è¦è¿™æ ·åšã€‚\n\n## æ€§èƒ½ä¼˜åŒ–å»ºè®®\n\n1. **ä¼˜å…ˆä½¿ç”¨äº‹ä»¶å¤„ç†å™¨**ï¼šèƒ½ç”¨äº‹ä»¶å¤„ç†å™¨å°±ä¸ç”¨ Effect\n2. **æ‹†åˆ†ç»†ç²’åº¦ Effect**ï¼šæ¯ä¸ª Effect åªè´Ÿè´£ä¸€ä»¶äº‹\n3. **åˆç†ä½¿ç”¨ useMemo/useCallback**ï¼šå¯¹å¤æ‚å¯¹è±¡å’Œå‡½æ•°è¿›è¡Œç¼“å­˜\n4. **é¿å…è¿‡åº¦ä¼˜åŒ–**ï¼šå…ˆä¿è¯æ­£ç¡®æ€§ï¼Œå†ä¼˜åŒ–æ€§èƒ½\n\n## æ€»ç»“\n\nEffect ä¾èµ–ç®¡ç†æ˜¯ React Hooks å¼€å‘ä¸­çš„é‡è¦æŠ€èƒ½ã€‚å…³é”®è¦ç‚¹ï¼š\n\n1. **ä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…** - è¿™æ˜¯ä¸å¯å¦¥åçš„åŸåˆ™\n2. **æ°¸è¿œä¸è¦ç¦ç”¨ ESLint è§„åˆ™** - æŠŠä¾èµ–è­¦å‘Šå½“ä½œç¼–è¯‘é”™è¯¯å¯¹å¾…\n3. **ä¼˜å…ˆä½¿ç”¨äº‹ä»¶å¤„ç†å™¨** - ä¸æ˜¯æ‰€æœ‰é€»è¾‘éƒ½éœ€è¦ Effect\n4. **ä½¿ç”¨æ›´æ–°å‡½æ•°** - å‡å°‘å¯¹ state çš„ä¾èµ–\n5. **é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–** - å®ƒä»¬æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°çš„\n6. **ç†è§£æºç å®ç°** - å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨ API\n\né€šè¿‡éµå¾ªè¿™äº›æœ€ä½³å®è·µï¼Œä½ å¯ä»¥å†™å‡ºæ›´é«˜æ•ˆã€æ›´æ˜“ç»´æŠ¤çš„ React ä»£ç ï¼Œé¿å…å¸¸è§çš„ Effect ä¾èµ–é™·é˜±ã€‚\n\n## å‚è€ƒèµ„æ–™\n\n- [React å®˜æ–¹æ–‡æ¡£ - Removing Effect Dependencies](https://react.dev/learn/removing-effect-dependencies#removing-unnecessary-dependencies)\n- [React æºç  - ReactFiberHooks.js](https://github.com/facebook/react/blob/v19.1.1/packages/react-reconciler/src/ReactFiberHooks.js#L2927-L2942)\n- [eslint-plugin-react-hooks](https://www.npmjs.com/package/eslint-plugin-react-hooks)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/React-Effectä¾èµ–ä¼˜åŒ–æœ€ä½³å®è·µä¸æºç è§£æ.md&quot;],&quot;digest&quot;:[0,&quot;dada54ea90bf331d&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;å‰è¨€\&quot;&gt;å‰è¨€&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‰è¨€\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;åœ¨ä½¿ç”¨ React Hooks å¼€å‘æ—¶ï¼Œ&lt;code&gt;useEffect&lt;/code&gt; çš„ä¾èµ–æ•°ç»„ç®¡ç†æ˜¯ä¸€ä¸ªå¸¸è§çš„ç—›ç‚¹ã€‚å¾ˆå¤šå¼€å‘è€…é‡åˆ°è¿‡è¿™æ ·çš„å›°æ‰°ï¼šä¾èµ–é¡¹è¿‡å¤šå¯¼è‡´ Effect é¢‘ç¹æ‰§è¡Œï¼Œæˆ–è€…ä¸ºäº†å›¾æ–¹ä¾¿ç›´æ¥ç¦ç”¨ ESLint è§„åˆ™ï¼Œæœ€ç»ˆå¼•å‘éš¾ä»¥è°ƒè¯•çš„ bugã€‚&lt;/p&gt;\n&lt;p&gt;æœ¬æ–‡å°†ä» React å®˜æ–¹æ–‡æ¡£å’Œæºç å±‚é¢æ·±å…¥æ¢è®¨å¦‚ä½•æ­£ç¡®ç®¡ç† Effect ä¾èµ–ï¼Œå¸®åŠ©ä½ å†™å‡ºæ›´é«˜æ•ˆã€æ›´å¯ç»´æŠ¤çš„ React ä»£ç ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ ¸å¿ƒåŸåˆ™ä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…\&quot;&gt;æ ¸å¿ƒåŸåˆ™ï¼šä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ ¸å¿ƒåŸåˆ™ä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;React å®˜æ–¹æ–‡æ¡£æ˜ç¡®æŒ‡å‡ºï¼š&lt;strong&gt;ä¾èµ–åº”è¯¥ä¸ä»£ç åŒ¹é…&lt;/strong&gt;ã€‚è¿™æ„å‘³ç€ Effect ä¸­ä½¿ç”¨çš„æ¯ä¸€ä¸ªå“åº”å¼å€¼ï¼ˆpropsã€stateï¼‰éƒ½å¿…é¡»å‡ºç°åœ¨ä¾èµ–æ•°ç»„ä¸­ã€‚&lt;/p&gt;\n&lt;p&gt;React çš„ ESLint æ’ä»¶ &lt;code&gt;eslint-plugin-react-hooks&lt;/code&gt; ä¼šè‡ªåŠ¨æ£€æŸ¥è¿™ä¸€è§„åˆ™ï¼Œç¡®ä¿ä½ çš„ä¾èµ–å£°æ˜æ˜¯å®Œæ•´çš„ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;ï¸-å…³é”®è­¦å‘Š\&quot;&gt;âš ï¸ å…³é”®è­¦å‘Š&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ï¸-å…³é”®è­¦å‘Š\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;strong&gt;æ°¸è¿œä¸è¦ç”¨æ³¨é‡Šç¦ç”¨ä¾èµ–æ£€æŸ¥ï¼š&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ å±é™©åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // eslint-disable-next-line react-hooks/exhaustive-deps&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, []);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;React æ–‡æ¡£å¼ºè°ƒï¼š&lt;strong&gt;åº”è¯¥æŠŠä¾èµ–æ£€æŸ¥é”™è¯¯å½“ä½œç¼–è¯‘é”™è¯¯æ¥å¯¹å¾…&lt;/strong&gt;ã€‚å¿½ç•¥å®ƒä¼šå¯¼è‡´å¾®å¦™ä¸”éš¾ä»¥è¯Šæ–­çš„ bugã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–\&quot;&gt;å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;1-å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨\&quot;&gt;1. å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#1-å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å¦‚æœæŸæ®µä»£ç åº”è¯¥å“åº”ç‰¹å®šçš„ç”¨æˆ·äº¤äº’è€Œéå“åº”å¼å˜åŒ–ï¼Œåº”è¯¥æ”¾åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ ä¸å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;roomId&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;message&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setMessage&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (message) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      logVisit&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId, message);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [roomId, message]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// message å˜åŒ–ä¼šé‡å¤è®°å½•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;input&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{message} &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;onChange&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;e&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; setMessage&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(e.target.value)} /&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;roomId&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;message&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setMessage&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; handleSend&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    logVisit&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId, message); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// åªåœ¨å‘é€æ—¶è®°å½•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    &amp;#x3C;&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;input&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; value&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{message} &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;onChange&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;e&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; setMessage&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(e.target.value)} /&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;button&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; onClick&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{handleSend}&gt;å‘é€&amp;#x3C;/&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;button&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    &amp;#x3C;/&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  );&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;2-æ‹†åˆ†å¤šç›®çš„-effect\&quot;&gt;2. æ‹†åˆ†å¤šç›®çš„ Effect&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#2-æ‹†åˆ†å¤šç›®çš„-effect\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å½“ä¸€ä¸ª Effect åŒæ­¥å¤šä¸ªä¸ç›¸å…³çš„è¿‡ç¨‹æ—¶,åº”è¯¥æ‹†åˆ†æˆå¤šä¸ª Effectï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ ä¸å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  connectToChat&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  trackPageView&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(page);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, [roomId, page]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// roomId å˜åŒ–ä¼šè§¦å‘ä¸å¿…è¦çš„é¡µé¢è¿½è¸ª&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  connectToChat&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, [roomId]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  trackPageView&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(page);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, [page]);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;3-ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°\&quot;&gt;3. ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#3-ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;é€šè¿‡ä¼ é€’æ›´æ–°å‡½æ•°è€Œéç›´æ¥è¯»å– stateï¼Œå¯ä»¥ç§»é™¤çŠ¶æ€ä¾èµ–ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ ä¸å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Counter&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;() {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;count&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setCount&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; timer&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; setInterval&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      setCount&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(count &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¾èµ– count&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1000&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; clearInterval&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(timer);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [count]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// æ¯æ¬¡ count å˜åŒ–éƒ½ä¼šé‡ç½®å®šæ—¶å™¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;{count}&amp;#x3C;/&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Counter&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;() {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;count&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setCount&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; timer&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; setInterval&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      setCount&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;c&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; c &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨æ›´æ–°å‡½æ•°,ä¸ä¾èµ– count&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1000&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; clearInterval&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(timer);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, []); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ç©ºä¾èµ–æ•°ç»„,å®šæ—¶å™¨ä¸ä¼šé‡ç½®&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;{count}&amp;#x3C;/&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;4-ä½¿ç”¨-effect-eventå®éªŒæ€§\&quot;&gt;4. ä½¿ç”¨ Effect Eventï¼ˆå®éªŒæ€§ï¼‰&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#4-ä½¿ç”¨-effect-eventå®éªŒæ€§\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;code&gt;useEffectEvent&lt;/code&gt; å…è®¸ä½ æå–éå“åº”å¼é€»è¾‘ï¼Œè¯»å–æœ€æ–°å€¼è€Œä¸è§¦å‘é‡æ–°åŒæ­¥ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… ä½¿ç”¨ Effect Event&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;roomId&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;theme&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; onConnected&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useEffectEvent&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    showNotification&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;å·²è¿æ¥&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, theme); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// è¯»å–æœ€æ–°çš„ theme&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; connection&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; connectToChat&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;connected&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, onConnected);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;disconnect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [roomId]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// theme å˜åŒ–ä¸ä¼šé‡æ–°è¿æ¥&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼š&lt;/strong&gt; &lt;code&gt;useEffectEvent&lt;/code&gt; ç›®å‰ä»æ˜¯å®éªŒæ€§ APIï¼Œå°šæœªåŒ…å«åœ¨ç¨³å®šç‰ˆ React ä¸­ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;5-é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–\&quot;&gt;5. é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#5-é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å¯¹è±¡å’Œå‡½æ•°åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½æ˜¯æ–°çš„å¼•ç”¨ï¼Œä¼šå¯¼è‡´ä¸å¿…è¦çš„é‡æ–°æ‰§è¡Œï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ ä¸å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; SearchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;query&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; options&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°å¯¹è±¡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    includeArchived: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    fetchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(query, options);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [query, options]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// options æ¯æ¬¡éƒ½ä¼šè§¦å‘&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… è§£å†³æ–¹æ¡ˆ 1: ç§»åˆ° Effect å†…éƒ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; SearchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;query&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; options&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { includeArchived: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    fetchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(query, options);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [query]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… è§£å†³æ–¹æ¡ˆ 2: ç§»åˆ°ç»„ä»¶å¤–éƒ¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; OPTIONS&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { includeArchived: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; SearchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;query&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    fetchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(query, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;OPTIONS&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [query]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… è§£å†³æ–¹æ¡ˆ 3: ä½¿ç”¨ useMemo&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; SearchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;query&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;includeArchived&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; options&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useMemo&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; ({&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    includeArchived&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }), [includeArchived]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    fetchResults&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(query, options);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [query, options]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;6-æå–åŸå§‹å€¼\&quot;&gt;6. æå–åŸå§‹å€¼&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#6-æå–åŸå§‹å€¼\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å½“æ¥æ”¶å¯¹è±¡ props æ—¶ï¼Œè§£æ„å‡ºåŸå§‹å€¼ä½œä¸ºä¾èµ–ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ ä¸å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;options&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    connectToChat&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(options.roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [options]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// options å¯¹è±¡æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°çš„&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âœ… å¥½çš„åšæ³•&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;options&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;roomId&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; options;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    connectToChat&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [roomId]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// åªä¾èµ–åŸå§‹å€¼&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;æºç è§£æreact-å¦‚ä½•åˆå§‹åŒ–-state\&quot;&gt;æºç è§£æï¼šReact å¦‚ä½•åˆå§‹åŒ– State&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æºç è§£æreact-å¦‚ä½•åˆå§‹åŒ–-state\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è®©æˆ‘ä»¬æ·±å…¥ React æºç ï¼Œçœ‹çœ‹ &lt;code&gt;useState&lt;/code&gt; èƒŒåçš„å®ç°æœºåˆ¶ã€‚ä»¥ä¸‹ä»£ç æ¥è‡ª React v19.1.1 çš„ &lt;code&gt;ReactFiberHooks.js&lt;/code&gt;ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; mountStateImpl&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;S&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;initialState&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; S&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; S&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;:&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Hook&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; hook&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; mountWorkInProgressHook&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;typeof&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; initialState &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;function&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; initialStateInitializer&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; initialState;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // æ‰§è¡Œåˆå§‹åŒ–å‡½æ•°è·å–åˆå§‹å€¼&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    initialState &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; initialStateInitializer&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (shouldDoubleInvokeUserFnsInHooksDEV) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      setIsStrictModeForDevtools&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      try&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;        // ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæ‰§è¡Œä¸¤æ¬¡,æ£€æµ‹å‰¯ä½œç”¨&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;        initialStateInitializer&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;finally&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;        setIsStrictModeForDevtools&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;false&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  hook.memoizedState &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; hook.baseState &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; initialState;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;æºç è¦ç‚¹è§£è¯»\&quot;&gt;æºç è¦ç‚¹è§£è¯»&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æºç è¦ç‚¹è§£è¯»\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;æƒ°æ€§åˆå§‹åŒ–æ”¯æŒ&lt;/strong&gt;ï¼šå½“ &lt;code&gt;initialState&lt;/code&gt; æ˜¯å‡½æ•°æ—¶ï¼ŒReact ä¼šæ‰§è¡Œå®ƒæ¥è·å–åˆå§‹å€¼ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥å†™ &lt;code&gt;useState(() =&gt; expensiveComputation())&lt;/code&gt;ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;ä¸¥æ ¼æ¨¡å¼åŒé‡è°ƒç”¨&lt;/strong&gt;ï¼šåœ¨å¼€å‘æ¨¡å¼çš„ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåˆå§‹åŒ–å‡½æ•°ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡ã€‚è¿™æ˜¯ React çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨äºå¸®åŠ©æ£€æµ‹ä¸çº¯çš„åˆå§‹åŒ–å‡½æ•°ä¸­çš„å‰¯ä½œç”¨ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;çŠ¶æ€å­˜å‚¨&lt;/strong&gt;ï¼šåˆå§‹å€¼ä¼šåŒæ—¶å­˜å‚¨åœ¨ &lt;code&gt;memoizedState&lt;/code&gt;ï¼ˆå½“å‰çŠ¶æ€ï¼‰å’Œ &lt;code&gt;baseState&lt;/code&gt;ï¼ˆåŸºç¡€çŠ¶æ€ï¼‰ä¸­ã€‚è¿™æ˜¯ React å®ç°çŠ¶æ€æ›´æ–°å’Œå¹¶å‘æ¸²æŸ“çš„åŸºç¡€ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&quot;ä¸-effect-ä¾èµ–çš„å…³è”\&quot;&gt;ä¸ Effect ä¾èµ–çš„å…³è”&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¸-effect-ä¾èµ–çš„å…³è”\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;ç†è§£ &lt;code&gt;useState&lt;/code&gt; çš„å®ç°æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°ç®¡ç† Effect ä¾èµ–ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¸ºä»€ä¹ˆæƒ°æ€§åˆå§‹åŒ–ä¸éœ€è¦ä¾èµ–&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; Component&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;() {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // âœ… åˆå§‹åŒ–å‡½æ•°åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;data&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    return&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; expensiveComputation&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä¸ä¼šé‡å¤æ‰§è¡Œ&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // data æ¥è‡ª state,æ˜¯å“åº”å¼çš„,éœ€è¦ä½œä¸ºä¾èµ–&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    processData&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(data);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [data]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;å®æˆ˜æ¡ˆä¾‹èŠå¤©å®¤è¿æ¥ç®¡ç†\&quot;&gt;å®æˆ˜æ¡ˆä¾‹ï¼šèŠå¤©å®¤è¿æ¥ç®¡ç†&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®æˆ˜æ¡ˆä¾‹èŠå¤©å®¤è¿æ¥ç®¡ç†\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­æ•´åˆè¿™äº›æœ€ä½³å®è·µï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;function&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; ChatRoom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;({ &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;roomId&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;theme&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;currentUser&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; }) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;messages&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setMessages&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;([]);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;isConnected&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;setIsConnected&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useState&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;false&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // âœ… ä½¿ç”¨ Effect Event å¤„ç†éå“åº”å¼é€»è¾‘&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; onMessage&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useEffectEvent&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;((&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;message&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    setMessages&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;msgs&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;...&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;msgs, message]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ä½¿ç”¨æ›´æ–°å‡½æ•°&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    showNotification&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(message, theme); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// è¯»å–æœ€æ–° theme,ä½†ä¸è§¦å‘é‡è¿&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; onConnectionChange&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; useEffectEvent&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;((&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;connected&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;    setIsConnected&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(connected);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (connected) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;      logUserActivity&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(currentUser.id); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// è¯»å–æœ€æ–° user,ä½†ä¸è§¦å‘é‡è¿&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // âœ… åªåœ¨ roomId å˜åŒ–æ—¶é‡æ–°è¿æ¥&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; connection&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; createConnection&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(roomId);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;message&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, onMessage);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;connection&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, onConnectionChange);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;connect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      connection.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;disconnect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;();&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }, [roomId]); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// åªä¾èµ– roomId&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; className&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{theme}&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;ConnectionStatus&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; isConnected&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{isConnected} /&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      &amp;#x3C;&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;MessageList&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; messages&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{messages} /&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    &amp;#x3C;/&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;div&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  );&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹\&quot;&gt;è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;æœ€å°åŒ–ä¾èµ–&lt;/strong&gt;ï¼šEffect åªä¾èµ– &lt;code&gt;roomId&lt;/code&gt;ï¼Œåªåœ¨åˆ‡æ¢æˆ¿é—´æ—¶é‡æ–°è¿æ¥&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¿å…ä¸å¿…è¦çš„é‡è¿&lt;/strong&gt;ï¼š&lt;code&gt;theme&lt;/code&gt; å’Œ &lt;code&gt;currentUser&lt;/code&gt; å˜åŒ–ä¸ä¼šå¯¼è‡´é‡æ–°è¿æ¥&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä½¿ç”¨æ›´æ–°å‡½æ•°&lt;/strong&gt;ï¼š&lt;code&gt;setMessages(msgs =&gt; [...msgs, message])&lt;/code&gt; é¿å…ä¾èµ– &lt;code&gt;messages&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ¸…æ™°çš„èŒè´£åˆ†ç¦»&lt;/strong&gt;ï¼šè¿æ¥é€»è¾‘ã€æ¶ˆæ¯å¤„ç†ã€é€šçŸ¥å±•ç¤ºå„å¸å…¶èŒ&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;è°ƒè¯•æŠ€å·§\&quot;&gt;è°ƒè¯•æŠ€å·§&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è°ƒè¯•æŠ€å·§\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;1-ä½¿ç”¨-react-devtools\&quot;&gt;1. ä½¿ç”¨ React DevTools&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#1-ä½¿ç”¨-react-devtools\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;React DevTools çš„ Profiler å¯ä»¥å¸®ä½ è¯†åˆ«å“ªäº›ç»„ä»¶å› ä¸º Effect é‡æ–°æ¸²æŸ“ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;è®°å½•æ¸²æŸ“åŸå› &lt;/li&gt;\n&lt;li&gt;æŸ¥çœ‹ Hook çš„ä¾èµ–å˜åŒ–&lt;/li&gt;\n&lt;li&gt;è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;2-æ·»åŠ æ—¥å¿—\&quot;&gt;2. æ·»åŠ æ—¥å¿—&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#2-æ·»åŠ æ—¥å¿—\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨å¼€å‘ç¯å¢ƒæ·»åŠ æ—¥å¿—å¸®åŠ©ç†è§£ Effect æ‰§è¡Œæ—¶æœºï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  console.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;Effect æ‰§è¡Œ:&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, { roomId, theme });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    console.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;log&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;Effect æ¸…ç†:&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, { roomId, theme });&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  };&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, [roomId, theme]);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;3-ä½¿ç”¨-eslint-plugin-react-hooks\&quot;&gt;3. ä½¿ç”¨ eslint-plugin-react-hooks&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#3-ä½¿ç”¨-eslint-plugin-react-hooks\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;ç¡®ä¿åœ¨é¡¹ç›®ä¸­å¯ç”¨å¹¶é…ç½®è¯¥æ’ä»¶ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;json\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;{&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;  \&quot;plugins\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: [&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;react-hooks\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;],&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;  \&quot;rules\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    \&quot;react-hooks/rules-of-hooks\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;error\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;,&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    \&quot;react-hooks/exhaustive-deps\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;warn\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;å¸¸è§è¯¯åŒº\&quot;&gt;å¸¸è§è¯¯åŒº&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å¸¸è§è¯¯åŒº\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;è¯¯åŒº-1ç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½\&quot;&gt;è¯¯åŒº 1ï¼šç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è¯¯åŒº-1ç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ é”™è¯¯ç†è§£&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;  setCount&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(count &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;+&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// count æ°¸è¿œæ˜¯åˆå§‹å€¼&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, []); &lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// ç¼ºå°‘ count ä¾èµ–&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;è¯¯åŒº-2ä¾èµ–è¶Šå°‘è¶Šå¥½\&quot;&gt;è¯¯åŒº 2ï¼šä¾èµ–è¶Šå°‘è¶Šå¥½&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è¯¯åŒº-2ä¾èµ–è¶Šå°‘è¶Šå¥½\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;ä¾èµ–å°‘ä¸æ˜¯ç›®æ ‡ï¼Œ&lt;strong&gt;å‡†ç¡®çš„ä¾èµ–&lt;/strong&gt;æ‰æ˜¯ç›®æ ‡ã€‚ä¸è¦ä¸ºäº†å‡å°‘ä¾èµ–è€Œç‰ºç‰²æ­£ç¡®æ€§ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;è¯¯åŒº-3éšæ„ç¦ç”¨-eslint-è§„åˆ™\&quot;&gt;è¯¯åŒº 3ï¼šéšæ„ç¦ç”¨ ESLint è§„åˆ™&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è¯¯åŒº-3éšæ„ç¦ç”¨-eslint-è§„åˆ™\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// âŒ è¿™æ˜¯æŠ€æœ¯å€ºåŠ¡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;useEffect&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(() &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // ...&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  // eslint-disable-next-line react-hooks/exhaustive-deps&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}, []);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿™ä¼šåœ¨æœªæ¥å¼•å‘éš¾ä»¥è¿½è¸ªçš„ bugï¼Œç»å¯¹ä¸è¦è¿™æ ·åšã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ€§èƒ½ä¼˜åŒ–å»ºè®®\&quot;&gt;æ€§èƒ½ä¼˜åŒ–å»ºè®®&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€§èƒ½ä¼˜åŒ–å»ºè®®\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆä½¿ç”¨äº‹ä»¶å¤„ç†å™¨&lt;/strong&gt;ï¼šèƒ½ç”¨äº‹ä»¶å¤„ç†å™¨å°±ä¸ç”¨ Effect&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ‹†åˆ†ç»†ç²’åº¦ Effect&lt;/strong&gt;ï¼šæ¯ä¸ª Effect åªè´Ÿè´£ä¸€ä»¶äº‹&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;åˆç†ä½¿ç”¨ useMemo/useCallback&lt;/strong&gt;ï¼šå¯¹å¤æ‚å¯¹è±¡å’Œå‡½æ•°è¿›è¡Œç¼“å­˜&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¿å…è¿‡åº¦ä¼˜åŒ–&lt;/strong&gt;ï¼šå…ˆä¿è¯æ­£ç¡®æ€§ï¼Œå†ä¼˜åŒ–æ€§èƒ½&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;æ€»ç»“\&quot;&gt;æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;Effect ä¾èµ–ç®¡ç†æ˜¯ React Hooks å¼€å‘ä¸­çš„é‡è¦æŠ€èƒ½ã€‚å…³é”®è¦ç‚¹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;ä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…&lt;/strong&gt; - è¿™æ˜¯ä¸å¯å¦¥åçš„åŸåˆ™&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;æ°¸è¿œä¸è¦ç¦ç”¨ ESLint è§„åˆ™&lt;/strong&gt; - æŠŠä¾èµ–è­¦å‘Šå½“ä½œç¼–è¯‘é”™è¯¯å¯¹å¾…&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆä½¿ç”¨äº‹ä»¶å¤„ç†å™¨&lt;/strong&gt; - ä¸æ˜¯æ‰€æœ‰é€»è¾‘éƒ½éœ€è¦ Effect&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ä½¿ç”¨æ›´æ–°å‡½æ•°&lt;/strong&gt; - å‡å°‘å¯¹ state çš„ä¾èµ–&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–&lt;/strong&gt; - å®ƒä»¬æ¯æ¬¡æ¸²æŸ“éƒ½æ˜¯æ–°çš„&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç†è§£æºç å®ç°&lt;/strong&gt; - å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨ API&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;é€šè¿‡éµå¾ªè¿™äº›æœ€ä½³å®è·µï¼Œä½ å¯ä»¥å†™å‡ºæ›´é«˜æ•ˆã€æ›´æ˜“ç»´æŠ¤çš„ React ä»£ç ï¼Œé¿å…å¸¸è§çš„ Effect ä¾èµ–é™·é˜±ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;å‚è€ƒèµ„æ–™\&quot;&gt;å‚è€ƒèµ„æ–™&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‚è€ƒèµ„æ–™\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&quot;https://react.dev/learn/removing-effect-dependencies#removing-unnecessary-dependencies\&quot;&gt;React å®˜æ–¹æ–‡æ¡£ - Removing Effect Dependencies&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&quot;https://github.com/facebook/react/blob/v19.1.1/packages/react-reconciler/src/ReactFiberHooks.js#L2927-L2942\&quot;&gt;React æºç  - ReactFiberHooks.js&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;\n&lt;div class=\&quot;link-preview-block not-prose\&quot; data-state=\&quot;error\&quot;&gt;\n  &lt;a href=\&quot;https://www.npmjs.com/package/eslint-plugin-react-hooks\&quot; target=\&quot;_blank\&quot; class=\&quot;hover:border-primary/50 group block rounded-lg border bg-card p-4 transition-all hover:shadow-md\&quot; aria-label=\&quot;https://www.npmjs.com/package/eslint-plugin-react-hooks\&quot;&gt;\n    &lt;div class=\&quot;flex items-center justify-between gap-3\&quot;&gt;\n      &lt;div class=\&quot;flex items-center gap-3 min-w-0 flex-1\&quot;&gt;\n        &lt;div class=\&quot;bg-primary/10 text-primary flex h-10 w-10 shrink-0 items-center justify-center rounded-lg\&quot;&gt;\n          &lt;svg class=\&quot;h-5 w-5\&quot; viewBox=\&quot;0 0 24 24\&quot; aria-hidden=\&quot;true\&quot;&gt;&lt;path fill=\&quot;none\&quot; stroke=\&quot;currentColor\&quot; stroke-dasharray=\&quot;28\&quot; stroke-dashoffset=\&quot;28\&quot; stroke-linecap=\&quot;round\&quot; stroke-linejoin=\&quot;round\&quot; stroke-width=\&quot;2\&quot; d=\&quot;M13 6l2 -2c1 -1 3 -1 4 0l1 1c1 1 1 3 0 4l-5 5c-1 1 -3 1 -4 0M11 18l-2 2c-1 1 -3 1 -4 0l-1 -1c-1 -1 -1 -3 0 -4l5 -5c1 -1 3 -1 4 0\&quot;&gt;&lt;animate fill=\&quot;freeze\&quot; attributeName=\&quot;stroke-dashoffset\&quot; dur=\&quot;0.6s\&quot; values=\&quot;28;0\&quot;&gt;&lt;/animate&gt;&lt;/path&gt;&lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;div class=\&quot;min-w-0 flex-1\&quot;&gt;\n          &lt;div class=\&quot;text-foreground font-medium truncate\&quot;&gt;https://www.npmjs.com/package/eslint-plugin-react-hooks&lt;/div&gt;\n          &lt;div class=\&quot;text-muted-foreground text-xs truncate mt-0.5\&quot;&gt;npmjs.com&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;svg class=\&quot;text-primary h-5 w-5 shrink-0 transition-transform group-hover:translate-x-1\&quot; fill=\&quot;none\&quot; stroke=\&quot;currentColor\&quot; viewBox=\&quot;0 0 24 24\&quot;&gt;\n        &lt;path stroke-linecap=\&quot;round\&quot; stroke-linejoin=\&quot;round\&quot; stroke-width=\&quot;2\&quot; d=\&quot;M14 5l7 7m0 0l-7 7m7-7H3\&quot;&gt;&lt;/path&gt;\n      &lt;/svg&gt;\n    &lt;/div&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n&lt;/li&gt;\n&lt;/ul&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‰è¨€&quot;],&quot;text&quot;:[0,&quot;å‰è¨€&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ ¸å¿ƒåŸåˆ™ä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…&quot;],&quot;text&quot;:[0,&quot;æ ¸å¿ƒåŸåˆ™ï¼šä¾èµ–å¿…é¡»ä¸ä»£ç åŒ¹é…&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;ï¸-å…³é”®è­¦å‘Š&quot;],&quot;text&quot;:[0,&quot;âš ï¸ å…³é”®è­¦å‘Š&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–&quot;],&quot;text&quot;:[0,&quot;å…­å¤§ç­–ç•¥ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1-å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨&quot;],&quot;text&quot;:[0,&quot;1. å°†é€»è¾‘ç§»è‡³äº‹ä»¶å¤„ç†å™¨&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2-æ‹†åˆ†å¤šç›®çš„-effect&quot;],&quot;text&quot;:[0,&quot;2. æ‹†åˆ†å¤šç›®çš„ Effect&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3-ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°&quot;],&quot;text&quot;:[0,&quot;3. ä½¿ç”¨çŠ¶æ€æ›´æ–°å‡½æ•°&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;4-ä½¿ç”¨-effect-eventå®éªŒæ€§&quot;],&quot;text&quot;:[0,&quot;4. ä½¿ç”¨ Effect Eventï¼ˆå®éªŒæ€§ï¼‰&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;5-é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–&quot;],&quot;text&quot;:[0,&quot;5. é¿å…å¯¹è±¡å’Œå‡½æ•°ä¾èµ–&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;6-æå–åŸå§‹å€¼&quot;],&quot;text&quot;:[0,&quot;6. æå–åŸå§‹å€¼&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æºç è§£æreact-å¦‚ä½•åˆå§‹åŒ–-state&quot;],&quot;text&quot;:[0,&quot;æºç è§£æï¼šReact å¦‚ä½•åˆå§‹åŒ– State&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;æºç è¦ç‚¹è§£è¯»&quot;],&quot;text&quot;:[0,&quot;æºç è¦ç‚¹è§£è¯»&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;ä¸-effect-ä¾èµ–çš„å…³è”&quot;],&quot;text&quot;:[0,&quot;ä¸ Effect ä¾èµ–çš„å…³è”&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å®æˆ˜æ¡ˆä¾‹èŠå¤©å®¤è¿æ¥ç®¡ç†&quot;],&quot;text&quot;:[0,&quot;å®æˆ˜æ¡ˆä¾‹ï¼šèŠå¤©å®¤è¿æ¥ç®¡ç†&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹&quot;],&quot;text&quot;:[0,&quot;è¿™ä¸ªä¾‹å­çš„ä¼˜ç‚¹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;è°ƒè¯•æŠ€å·§&quot;],&quot;text&quot;:[0,&quot;è°ƒè¯•æŠ€å·§&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1-ä½¿ç”¨-react-devtools&quot;],&quot;text&quot;:[0,&quot;1. ä½¿ç”¨ React DevTools&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2-æ·»åŠ æ—¥å¿—&quot;],&quot;text&quot;:[0,&quot;2. æ·»åŠ æ—¥å¿—&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3-ä½¿ç”¨-eslint-plugin-react-hooks&quot;],&quot;text&quot;:[0,&quot;3. ä½¿ç”¨ eslint-plugin-react-hooks&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å¸¸è§è¯¯åŒº&quot;],&quot;text&quot;:[0,&quot;å¸¸è§è¯¯åŒº&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;è¯¯åŒº-1ç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½&quot;],&quot;text&quot;:[0,&quot;è¯¯åŒº 1ï¼šç©ºä¾èµ–æ•°ç»„ä¸‡èƒ½&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;è¯¯åŒº-2ä¾èµ–è¶Šå°‘è¶Šå¥½&quot;],&quot;text&quot;:[0,&quot;è¯¯åŒº 2ï¼šä¾èµ–è¶Šå°‘è¶Šå¥½&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;è¯¯åŒº-3éšæ„ç¦ç”¨-eslint-è§„åˆ™&quot;],&quot;text&quot;:[0,&quot;è¯¯åŒº 3ï¼šéšæ„ç¦ç”¨ ESLint è§„åˆ™&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€§èƒ½ä¼˜åŒ–å»ºè®®&quot;],&quot;text&quot;:[0,&quot;æ€§èƒ½ä¼˜åŒ–å»ºè®®&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;æ€»ç»“&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‚è€ƒèµ„æ–™&quot;],&quot;text&quot;:[0,&quot;å‚è€ƒèµ„æ–™&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;React Effect ä¾èµ–ä¼˜åŒ–æœ€ä½³å®è·µ&quot;],&quot;date&quot;:[3,&quot;2025-10-21T21:00:34.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;React&quot;],[0,&quot;Hooks&quot;],[0,&quot;æ€§èƒ½ä¼˜åŒ–&quot;],[0,&quot;æºç è§£æ&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/14&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;hexoåšå®¢github-actionsè‡ªåŠ¨éƒ¨ç½²é…ç½®&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Hexoåšå®¢GitHub Actionsè‡ªåŠ¨éƒ¨ç½²é…ç½®&quot;],&quot;date&quot;:[3,&quot;2025-10-18T04:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Hexo&quot;],[0,&quot;CI/CD&quot;],[0,&quot;GitHub Actions&quot;],[0,&quot;è‡ªåŠ¨åŒ–éƒ¨ç½²&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;body&quot;:[0,&quot;## å‰è¨€\n\nä½œä¸ºä¸€ä¸ªä½¿ç”¨ Hexo æ­å»ºåšå®¢çš„å¼€å‘è€…ï¼Œæ¯æ¬¡å†™å®Œæ–‡ç« éƒ½è¦æ‰‹åŠ¨æ‰§è¡Œ \n```bash\nhexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy\n```\nè¿™ä¸€ç³»åˆ—å‘½ä»¤æ˜¯ä¸æ˜¯å¾ˆéº»çƒ¦ï¼Ÿä»Šå¤©å°±æ•™å¤§å®¶å¦‚ä½•ä½¿ç”¨ GitHub Actions å®ç° Hexo åšå®¢çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚\n\n## ä»€ä¹ˆæ˜¯ GitHub Actions\n\nGitHub Actions æ˜¯ GitHub æä¾›çš„æŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰æœåŠ¡ã€‚å®ƒå¯ä»¥åœ¨ä»£ç ä»“åº“å‘ç”Ÿç‰¹å®šäº‹ä»¶æ—¶è‡ªåŠ¨æ‰§è¡Œé¢„å®šä¹‰çš„å·¥ä½œæµç¨‹ï¼Œæ¯”å¦‚ä»£ç æäº¤ã€PR åˆ›å»ºç­‰ã€‚\n\n## è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ\n\næˆ‘ä»¬çš„æ–¹æ¡ˆæ˜¯ï¼š\n1. æºä»£ç ä»“åº“ï¼šå­˜æ”¾ Hexo æºæ–‡ä»¶ï¼ˆMarkdown æ–‡ç« ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰\n2. GitHub Pages ä»“åº“ï¼šå­˜æ”¾ç¼–è¯‘åçš„é™æ€ç½‘ç«™æ–‡ä»¶\n3. GitHub Actionsï¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²åˆ° GitHub Pages ä»“åº“\n\n## é…ç½®æ­¥éª¤\n\n### 1. åˆ›å»º GitHub Actions å·¥ä½œæµ\n\nåœ¨ Hexo åšå®¢æºç ä»“åº“æ ¹ç›®å½•ä¸‹åˆ›å»º `.github/workflows/deploy.yml` æ–‡ä»¶ï¼š\n\n```yaml\nname: Deploy Hexo to GitHub Pages\n\non:\n  push:\n    branches:\n      - main\n    paths:\n      - &#39;source/_posts/**&#39;\n      - &#39;source/**&#39;\n      - &#39;themes/**&#39;\n      - &#39;_config*.yml&#39;\n      - &#39;package.json&#39;\n  workflow_dispatch:\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout source\n        uses: actions/checkout@v4\n        with:\n          submodules: true\n          fetch-depth: 0\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: &#39;18&#39;\n          cache: &#39;npm&#39;\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Clean and generate static files\n        run: |\n          npm run clean\n          npm run build\n\n      - name: Deploy to GitHub Pages\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          personal_token: ${{ secrets.DEPLOY_TOKEN }}\n          external_repository: ä½ çš„ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io\n          publish_branch: main\n          publish_dir: ./public\n          user_name: &#39;github-actions[bot]&#39;\n          user_email: &#39;github-actions[bot]@users.noreply.github.com&#39;\n          commit_message: ${{ github.event.head_commit.message }}\n```\n\n### 2. é…ç½®è§¦å‘æ¡ä»¶\n\nåœ¨ä¸Šè¿°é…ç½®ä¸­ï¼Œå·¥ä½œæµä¼šåœ¨ä»¥ä¸‹æƒ…å†µè§¦å‘ï¼š\n- æ¨é€åˆ° `main` åˆ†æ”¯\n- ä¿®æ”¹äº† `source/_posts/**`ã€`source/**`ã€`themes/**` ç›®å½•ä¸‹çš„æ–‡ä»¶\n- ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ `_config*.yml` æˆ– `package.json`\n- æ‰‹åŠ¨è§¦å‘ï¼ˆ`workflow_dispatch`ï¼‰\n\n### 3. åˆ›å»º GitHub Personal Access Token\n\n1. è®¿é—® GitHub è®¾ç½®é¡µé¢ï¼šhttps://github.com/settings/tokens\n2. ç‚¹å‡» \&quot;Generate new token\&quot; â†’ \&quot;Generate new token (classic)\&quot;\n3. å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š\n   - **Note**: `Hexo Blog Deploy`ï¼ˆæˆ–å…¶ä»–æè¿°ï¼‰\n   - **Expiration**: é€‰æ‹©è¿‡æœŸæ—¶é—´ï¼ˆå»ºè®® 1 year æˆ– No expirationï¼‰\n   - **Select scopes**: å‹¾é€‰ **repo**ï¼ˆå®Œæ•´çš„ä»“åº“æƒé™ï¼‰\n4. ç‚¹å‡» \&quot;Generate token\&quot;\n5. **ç«‹å³å¤åˆ¶ç”Ÿæˆçš„ token**ï¼ˆåªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œå…³é—­é¡µé¢åæ— æ³•å†æ¬¡æŸ¥çœ‹ï¼‰\n\n### 4. æ·»åŠ  Secret åˆ°æºç ä»“åº“\n\n1. è¿›å…¥ä½ çš„ Hexo æºç ä»“åº“\n2. ç‚¹å‡» `Settings` â†’ `Secrets and variables` â†’ `Actions`\n3. ç‚¹å‡» \&quot;New repository secret\&quot;\n4. å¡«å†™ï¼š\n   - **Name**: `DEPLOY_TOKEN`\n   - **Secret**: ç²˜è´´åˆšæ‰å¤åˆ¶çš„ token\n5. ç‚¹å‡» \&quot;Add secret\&quot;\n\n### 5. ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å\n\nå°† `deploy.yml` ä¸­çš„ `external_repository` æ”¹ä¸ºä½ çš„ GitHub Pages ä»“åº“åï¼š\n\n```yaml\nexternal_repository: ä½ çš„ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io\n```\n\n## ä½¿ç”¨æµç¨‹\n\né…ç½®å®Œæˆåï¼Œä½¿ç”¨æµç¨‹å˜å¾—éå¸¸ç®€å•ï¼š\n\n1. åœ¨ `source/_posts` ç›®å½•ä¸‹åˆ›å»ºæˆ–ä¿®æ”¹ Markdown æ–‡ç« \n2. æäº¤ä»£ç åˆ° Git ä»“åº“ï¼š\n   ```bash\n   git add .\n   git commit -m \&quot;æ–°å¢æ–‡ç« ï¼šHexo è‡ªåŠ¨éƒ¨ç½²é…ç½®\&quot;\n   git push origin main\n   ```\n3. GitHub Actions è‡ªåŠ¨è§¦å‘ï¼Œæ„å»ºå¹¶éƒ¨ç½²\n4. å‡ åˆ†é’Ÿåï¼Œè®¿é—®ä½ çš„ GitHub Pages ç½‘ç«™å³å¯çœ‹åˆ°æ›´æ–°\n\n## æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€\n\n1. è¿›å…¥æºç ä»“åº“çš„ `Actions` é¡µé¢\n2. æŸ¥çœ‹æœ€æ–°çš„å·¥ä½œæµè¿è¡ŒçŠ¶æ€\n3. ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼Œæ’æŸ¥é—®é¢˜\n\n## ä¼˜åŠ¿æ€»ç»“\n\nä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š\n\n1. **çœæ—¶çœåŠ›**: ä¸éœ€è¦æ‰‹åŠ¨æ‰§è¡Œæ„å»ºå’Œéƒ¨ç½²å‘½ä»¤\n2. **ç¯å¢ƒä¸€è‡´**: åœ¨äº‘ç«¯ç»Ÿä¸€çš„ç¯å¢ƒä¸­æ„å»ºï¼Œé¿å…æœ¬åœ°ç¯å¢ƒé—®é¢˜\n3. **éšæ—¶éšåœ°**: åªè¦èƒ½æäº¤ä»£ç å°±èƒ½å‘å¸ƒæ–‡ç« ï¼Œç”šè‡³å¯ä»¥åœ¨ GitHub ç½‘é¡µç«¯ç›´æ¥ç¼–è¾‘\n4. **ç‰ˆæœ¬ç®¡ç†**: æºæ–‡ä»¶å’Œéƒ¨ç½²æ–‡ä»¶åˆ†ç¦»ï¼Œæºç æœ‰å®Œæ•´çš„ Git å†å²è®°å½•\n5. **å…è´¹ä½¿ç”¨**: GitHub Actions å¯¹å…¬å¼€ä»“åº“å®Œå…¨å…è´¹\n\n## å¸¸è§é—®é¢˜\n\n### Q: éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ\nA: æŸ¥çœ‹ Actions é¡µé¢çš„è¯¦ç»†æ—¥å¿—ï¼Œå¸¸è§é—®é¢˜åŒ…æ‹¬ï¼š\n- Token æƒé™ä¸è¶³æˆ–è¿‡æœŸ\n- ä»“åº“åé…ç½®é”™è¯¯\n- ä¾èµ–å®‰è£…å¤±è´¥\n\n### Q: èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸåï¼Ÿ\nA: å¯ä»¥ï¼Œåœ¨ `source` ç›®å½•ä¸‹æ·»åŠ  `CNAME` æ–‡ä»¶ï¼Œå†…å®¹ä¸ºä½ çš„åŸŸåå³å¯ã€‚\n\n### Q: æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠï¼Ÿ\nA: å¯ä»¥ä½¿ç”¨ `npm ci` ä»£æ›¿ `npm install`ï¼Œå¹¶å¯ç”¨ npm ç¼“å­˜ï¼ˆé…ç½®ä¸­å·²åŒ…å«ï¼‰ã€‚\n\n## æ€»ç»“\n\né€šè¿‡ GitHub Actionsï¼Œæˆ‘ä»¬å®ç°äº† Hexo åšå®¢çš„å…¨è‡ªåŠ¨éƒ¨ç½²ã€‚ä»æ­¤ä»¥åï¼Œå†™åšå®¢åªéœ€è¦ä¸“æ³¨äºå†…å®¹åˆ›ä½œï¼Œæäº¤ä»£ç ååç­‰è‡ªåŠ¨éƒ¨ç½²å®Œæˆå³å¯ã€‚&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Hexoåšå®¢GitHub-Actionsè‡ªåŠ¨éƒ¨ç½²é…ç½®.md&quot;],&quot;digest&quot;:[0,&quot;20743aa9e10c6ede&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;å‰è¨€\&quot;&gt;å‰è¨€&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‰è¨€\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ä½œä¸ºä¸€ä¸ªä½¿ç”¨ Hexo æ­å»ºåšå®¢çš„å¼€å‘è€…ï¼Œæ¯æ¬¡å†™å®Œæ–‡ç« éƒ½è¦æ‰‹åŠ¨æ‰§è¡Œ&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;hexo&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; clean&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; &amp;#x26;&amp;#x26; &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;hexo&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; generate&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; &amp;#x26;&amp;#x26; &lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;hexo&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; deploy&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;è¿™ä¸€ç³»åˆ—å‘½ä»¤æ˜¯ä¸æ˜¯å¾ˆéº»çƒ¦ï¼Ÿä»Šå¤©å°±æ•™å¤§å®¶å¦‚ä½•ä½¿ç”¨ GitHub Actions å®ç° Hexo åšå®¢çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä»€ä¹ˆæ˜¯-github-actions\&quot;&gt;ä»€ä¹ˆæ˜¯ GitHub Actions&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä»€ä¹ˆæ˜¯-github-actions\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;GitHub Actions æ˜¯ GitHub æä¾›çš„æŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰æœåŠ¡ã€‚å®ƒå¯ä»¥åœ¨ä»£ç ä»“åº“å‘ç”Ÿç‰¹å®šäº‹ä»¶æ—¶è‡ªåŠ¨æ‰§è¡Œé¢„å®šä¹‰çš„å·¥ä½œæµç¨‹ï¼Œæ¯”å¦‚ä»£ç æäº¤ã€PR åˆ›å»ºç­‰ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ\&quot;&gt;è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;æˆ‘ä»¬çš„æ–¹æ¡ˆæ˜¯ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;æºä»£ç ä»“åº“ï¼šå­˜æ”¾ Hexo æºæ–‡ä»¶ï¼ˆMarkdown æ–‡ç« ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰&lt;/li&gt;\n&lt;li&gt;GitHub Pages ä»“åº“ï¼šå­˜æ”¾ç¼–è¯‘åçš„é™æ€ç½‘ç«™æ–‡ä»¶&lt;/li&gt;\n&lt;li&gt;GitHub Actionsï¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²åˆ° GitHub Pages ä»“åº“&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;é…ç½®æ­¥éª¤\&quot;&gt;é…ç½®æ­¥éª¤&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é…ç½®æ­¥éª¤\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;1-åˆ›å»º-github-actions-å·¥ä½œæµ\&quot;&gt;1. åˆ›å»º GitHub Actions å·¥ä½œæµ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#1-åˆ›å»º-github-actions-å·¥ä½œæµ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨ Hexo åšå®¢æºç ä»“åº“æ ¹ç›®å½•ä¸‹åˆ›å»º &lt;code&gt;.github/workflows/deploy.yml&lt;/code&gt; æ–‡ä»¶ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;yaml\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Deploy Hexo to GitHub Pages&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;  push&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;    branches&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;main&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;    paths&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;source/_posts/**&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;source/**&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;themes/**&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;_config*.yml&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;package.json&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;  workflow_dispatch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;jobs&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;  deploy&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;    runs-on&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;ubuntu-latest&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;    steps&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Checkout source&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        uses&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;actions/checkout@v4&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        with&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          submodules&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;true&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          fetch-depth&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Setup Node.js&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        uses&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;actions/setup-node@v4&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        with&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          node-version&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;18&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          cache&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;npm&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Install dependencies&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        run&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;npm ci&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Clean and generate static files&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        run&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;|&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;          npm run clean&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;          npm run build&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      - &lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;Deploy to GitHub Pages&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        uses&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;peaceiris/actions-gh-pages@v3&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;        with&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;:&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          personal_token&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;${{ secrets.DEPLOY_TOKEN }}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          external_repository&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;ä½ çš„ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          publish_branch&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;main&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          publish_dir&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;./public&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          user_name&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;github-actions[bot]&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          user_email&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;github-actions[bot]@users.noreply.github.com&#39;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;          commit_message&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;${{ github.event.head_commit.message }}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;2-é…ç½®è§¦å‘æ¡ä»¶\&quot;&gt;2. é…ç½®è§¦å‘æ¡ä»¶&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#2-é…ç½®è§¦å‘æ¡ä»¶\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;åœ¨ä¸Šè¿°é…ç½®ä¸­ï¼Œå·¥ä½œæµä¼šåœ¨ä»¥ä¸‹æƒ…å†µè§¦å‘ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;æ¨é€åˆ° &lt;code&gt;main&lt;/code&gt; åˆ†æ”¯&lt;/li&gt;\n&lt;li&gt;ä¿®æ”¹äº† &lt;code&gt;source/_posts/**&lt;/code&gt;ã€&lt;code&gt;source/**&lt;/code&gt;ã€&lt;code&gt;themes/**&lt;/code&gt; ç›®å½•ä¸‹çš„æ–‡ä»¶&lt;/li&gt;\n&lt;li&gt;ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ &lt;code&gt;_config*.yml&lt;/code&gt; æˆ– &lt;code&gt;package.json&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;æ‰‹åŠ¨è§¦å‘ï¼ˆ&lt;code&gt;workflow_dispatch&lt;/code&gt;ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;3-åˆ›å»º-github-personal-access-token\&quot;&gt;3. åˆ›å»º GitHub Personal Access Token&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#3-åˆ›å»º-github-personal-access-token\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;è®¿é—® GitHub è®¾ç½®é¡µé¢ï¼š&lt;a href=\&quot;https://github.com/settings/tokens\&quot;&gt;https://github.com/settings/tokens&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡» â€œGenerate new tokenâ€ â†’ â€œGenerate new token (classic)â€&lt;/li&gt;\n&lt;li&gt;å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Note&lt;/strong&gt;: &lt;code&gt;Hexo Blog Deploy&lt;/code&gt;ï¼ˆæˆ–å…¶ä»–æè¿°ï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Expiration&lt;/strong&gt;: é€‰æ‹©è¿‡æœŸæ—¶é—´ï¼ˆå»ºè®® 1 year æˆ– No expirationï¼‰&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Select scopes&lt;/strong&gt;: å‹¾é€‰ &lt;strong&gt;repo&lt;/strong&gt;ï¼ˆå®Œæ•´çš„ä»“åº“æƒé™ï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡» â€œGenerate tokenâ€&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç«‹å³å¤åˆ¶ç”Ÿæˆçš„ token&lt;/strong&gt;ï¼ˆåªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œå…³é—­é¡µé¢åæ— æ³•å†æ¬¡æŸ¥çœ‹ï¼‰&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&quot;4-æ·»åŠ -secret-åˆ°æºç ä»“åº“\&quot;&gt;4. æ·»åŠ  Secret åˆ°æºç ä»“åº“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#4-æ·»åŠ -secret-åˆ°æºç ä»“åº“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;è¿›å…¥ä½ çš„ Hexo æºç ä»“åº“&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡» &lt;code&gt;Settings&lt;/code&gt; â†’ &lt;code&gt;Secrets and variables&lt;/code&gt; â†’ &lt;code&gt;Actions&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡» â€œNew repository secretâ€&lt;/li&gt;\n&lt;li&gt;å¡«å†™ï¼š\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Name&lt;/strong&gt;: &lt;code&gt;DEPLOY_TOKEN&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Secret&lt;/strong&gt;: ç²˜è´´åˆšæ‰å¤åˆ¶çš„ token&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡» â€œAdd secretâ€&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&quot;5-ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å\&quot;&gt;5. ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#5-ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å°† &lt;code&gt;deploy.yml&lt;/code&gt; ä¸­çš„ &lt;code&gt;external_repository&lt;/code&gt; æ”¹ä¸ºä½ çš„ GitHub Pages ä»“åº“åï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;yaml\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt;external_repository&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;ä½ çš„ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;ä½¿ç”¨æµç¨‹\&quot;&gt;ä½¿ç”¨æµç¨‹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä½¿ç”¨æµç¨‹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é…ç½®å®Œæˆåï¼Œä½¿ç”¨æµç¨‹å˜å¾—éå¸¸ç®€å•ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;åœ¨ &lt;code&gt;source/_posts&lt;/code&gt; ç›®å½•ä¸‹åˆ›å»ºæˆ–ä¿®æ”¹ Markdown æ–‡ç« &lt;/li&gt;\n&lt;li&gt;æäº¤ä»£ç åˆ° Git ä»“åº“ï¼š\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;git&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; add&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; .&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;git&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; commit&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -m&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; \&quot;æ–°å¢æ–‡ç« ï¼šHexo è‡ªåŠ¨éƒ¨ç½²é…ç½®\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;git&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; push&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; origin&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; main&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;GitHub Actions è‡ªåŠ¨è§¦å‘ï¼Œæ„å»ºå¹¶éƒ¨ç½²&lt;/li&gt;\n&lt;li&gt;å‡ åˆ†é’Ÿåï¼Œè®¿é—®ä½ çš„ GitHub Pages ç½‘ç«™å³å¯çœ‹åˆ°æ›´æ–°&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€\&quot;&gt;æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;è¿›å…¥æºç ä»“åº“çš„ &lt;code&gt;Actions&lt;/code&gt; é¡µé¢&lt;/li&gt;\n&lt;li&gt;æŸ¥çœ‹æœ€æ–°çš„å·¥ä½œæµè¿è¡ŒçŠ¶æ€&lt;/li&gt;\n&lt;li&gt;ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼Œæ’æŸ¥é—®é¢˜&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;ä¼˜åŠ¿æ€»ç»“\&quot;&gt;ä¼˜åŠ¿æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¼˜åŠ¿æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;çœæ—¶çœåŠ›&lt;/strong&gt;: ä¸éœ€è¦æ‰‹åŠ¨æ‰§è¡Œæ„å»ºå’Œéƒ¨ç½²å‘½ä»¤&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç¯å¢ƒä¸€è‡´&lt;/strong&gt;: åœ¨äº‘ç«¯ç»Ÿä¸€çš„ç¯å¢ƒä¸­æ„å»ºï¼Œé¿å…æœ¬åœ°ç¯å¢ƒé—®é¢˜&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;éšæ—¶éšåœ°&lt;/strong&gt;: åªè¦èƒ½æäº¤ä»£ç å°±èƒ½å‘å¸ƒæ–‡ç« ï¼Œç”šè‡³å¯ä»¥åœ¨ GitHub ç½‘é¡µç«¯ç›´æ¥ç¼–è¾‘&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;ç‰ˆæœ¬ç®¡ç†&lt;/strong&gt;: æºæ–‡ä»¶å’Œéƒ¨ç½²æ–‡ä»¶åˆ†ç¦»ï¼Œæºç æœ‰å®Œæ•´çš„ Git å†å²è®°å½•&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;å…è´¹ä½¿ç”¨&lt;/strong&gt;: GitHub Actions å¯¹å…¬å¼€ä»“åº“å®Œå…¨å…è´¹&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&quot;å¸¸è§é—®é¢˜\&quot;&gt;å¸¸è§é—®é¢˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å¸¸è§é—®é¢˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;q-éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠ\&quot;&gt;Q: éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q-éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: æŸ¥çœ‹ Actions é¡µé¢çš„è¯¦ç»†æ—¥å¿—ï¼Œå¸¸è§é—®é¢˜åŒ…æ‹¬ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Token æƒé™ä¸è¶³æˆ–è¿‡æœŸ&lt;/li&gt;\n&lt;li&gt;ä»“åº“åé…ç½®é”™è¯¯&lt;/li&gt;\n&lt;li&gt;ä¾èµ–å®‰è£…å¤±è´¥&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;q-èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸå\&quot;&gt;Q: èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸåï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q-èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸå\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: å¯ä»¥ï¼Œåœ¨ &lt;code&gt;source&lt;/code&gt; ç›®å½•ä¸‹æ·»åŠ  &lt;code&gt;CNAME&lt;/code&gt; æ–‡ä»¶ï¼Œå†…å®¹ä¸ºä½ çš„åŸŸåå³å¯ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;q-æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠ\&quot;&gt;Q: æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠï¼Ÿ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#q-æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;A: å¯ä»¥ä½¿ç”¨ &lt;code&gt;npm ci&lt;/code&gt; ä»£æ›¿ &lt;code&gt;npm install&lt;/code&gt;ï¼Œå¹¶å¯ç”¨ npm ç¼“å­˜ï¼ˆé…ç½®ä¸­å·²åŒ…å«ï¼‰ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ€»ç»“\&quot;&gt;æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é€šè¿‡ GitHub Actionsï¼Œæˆ‘ä»¬å®ç°äº† Hexo åšå®¢çš„å…¨è‡ªåŠ¨éƒ¨ç½²ã€‚ä»æ­¤ä»¥åï¼Œå†™åšå®¢åªéœ€è¦ä¸“æ³¨äºå†…å®¹åˆ›ä½œï¼Œæäº¤ä»£ç ååç­‰è‡ªåŠ¨éƒ¨ç½²å®Œæˆå³å¯ã€‚&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‰è¨€&quot;],&quot;text&quot;:[0,&quot;å‰è¨€&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä»€ä¹ˆæ˜¯-github-actions&quot;],&quot;text&quot;:[0,&quot;ä»€ä¹ˆæ˜¯ GitHub Actions&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ&quot;],&quot;text&quot;:[0,&quot;è‡ªåŠ¨éƒ¨ç½²æ–¹æ¡ˆ&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é…ç½®æ­¥éª¤&quot;],&quot;text&quot;:[0,&quot;é…ç½®æ­¥éª¤&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;1-åˆ›å»º-github-actions-å·¥ä½œæµ&quot;],&quot;text&quot;:[0,&quot;1. åˆ›å»º GitHub Actions å·¥ä½œæµ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;2-é…ç½®è§¦å‘æ¡ä»¶&quot;],&quot;text&quot;:[0,&quot;2. é…ç½®è§¦å‘æ¡ä»¶&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;3-åˆ›å»º-github-personal-access-token&quot;],&quot;text&quot;:[0,&quot;3. åˆ›å»º GitHub Personal Access Token&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;4-æ·»åŠ -secret-åˆ°æºç ä»“åº“&quot;],&quot;text&quot;:[0,&quot;4. æ·»åŠ  Secret åˆ°æºç ä»“åº“&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;5-ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å&quot;],&quot;text&quot;:[0,&quot;5. ä¿®æ”¹é…ç½®ä¸­çš„ä»“åº“å&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä½¿ç”¨æµç¨‹&quot;],&quot;text&quot;:[0,&quot;ä½¿ç”¨æµç¨‹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€&quot;],&quot;text&quot;:[0,&quot;æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä¼˜åŠ¿æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;ä¼˜åŠ¿æ€»ç»“&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å¸¸è§é—®é¢˜&quot;],&quot;text&quot;:[0,&quot;å¸¸è§é—®é¢˜&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q-éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠ&quot;],&quot;text&quot;:[0,&quot;Q: éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q-èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸå&quot;],&quot;text&quot;:[0,&quot;Q: èƒ½å¦éƒ¨ç½²åˆ°è‡ªå®šä¹‰åŸŸåï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;q-æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠ&quot;],&quot;text&quot;:[0,&quot;Q: æ„å»ºæ—¶é—´å¤ªé•¿æ€ä¹ˆåŠï¼Ÿ&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;æ€»ç»“&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Hexoåšå®¢GitHub Actionsè‡ªåŠ¨éƒ¨ç½²é…ç½®&quot;],&quot;date&quot;:[3,&quot;2025-10-18T04:00:00.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;Hexo&quot;],[0,&quot;CI/CD&quot;],[0,&quot;GitHub Actions&quot;],[0,&quot;è‡ªåŠ¨åŒ–éƒ¨ç½²&quot;]]],&quot;categories&quot;:[0,&quot;æŠ€æœ¯æ•™ç¨‹&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/12&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;nestjså…³äºå¾ªç¯ä¾èµ–&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;NestJså…³äºå¾ªç¯ä¾èµ–&quot;],&quot;date&quot;:[3,&quot;2023-11-15T21:21:35.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## æœ‰æ„Ÿè€Œå‘\n\nNestJSå¾ªç¯ä¾èµ–é—®é¢˜ï¼šè§’è‰²ä¾èµ–äº†æƒé™ï¼Œæƒé™ä¾èµ–äº†è§’è‰²æ¨¡å—ã€‚ä½¿ç”¨äº†å¾ªç¯ä¾èµ–å¯¼å…¥ã€‚\n\nä½†æ˜¯ï¼Œåœ¨è§’è‰²æ¨¡å—çš„æœåŠ¡é‡Œä½¿ç”¨æƒé™æ¨¡å—é‡Œçš„serviceæ–¹æ³•æ—¶ï¼Œå°±ä¼šæç¤ºå¯¼å…¥çš„æƒé™æ¨¡å—ä¸æ­£ç¡®ã€‚\n\nä½†æ˜¯ï¼ŒæŠŠè§’è‰²é‡Œè°ƒç”¨æƒé™æ¨¡å—çš„æ–¹æ³•é€»è¾‘åˆ äº†ï¼Œå°±æ­£å¸¸äº†ã€‚\n\nä½†æ˜¯è¿™æ®µé€»è¾‘æ”¾è§’è‰²æ§åˆ¶å™¨é‡Œè°ƒç”¨å¹¶ä¸ä¼šæŠ¥é”™ã€‚\n\nå°±å¾ˆå¥‡å¦™ï¼Œæ‰€ä»¥ï¼Œ**è¿˜æ˜¯å¾—é¿å…ä½¿ç”¨å¾ªç¯ä¾èµ–**ã€‚æˆ‘æŸ¥é˜…äº†æ–‡æ¡£åæ‰å¾—çŸ¥å®˜ç½‘ä¸æ¨èè¿™ä¹ˆåšã€‚\n\n## æ€»ç»“\n\nNestJSå¼€å‘è€…ä»¬ï¼Œå¸Œæœ›ä¸è¦å’Œæˆ‘ä¸€æ ·ã€‚**å°½é‡é¿å…å¾ªç¯ä¾èµ–å§**ï¼\n\n## ç›¸å…³æˆªå›¾\n\n![img.png](../img/img_8.png)\n![img_1.png](../img/img_9.png)\n![img_2.png](../img/img_10.png)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/NestJså…³äºå¾ªç¯ä¾èµ–.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/img_8.png&quot;],[0,&quot;../img/img_9.png&quot;],[0,&quot;../img/img_10.png&quot;]]],&quot;digest&quot;:[0,&quot;0db331e629a639de&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;æœ‰æ„Ÿè€Œå‘\&quot;&gt;æœ‰æ„Ÿè€Œå‘&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æœ‰æ„Ÿè€Œå‘\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;NestJSå¾ªç¯ä¾èµ–é—®é¢˜ï¼šè§’è‰²ä¾èµ–äº†æƒé™ï¼Œæƒé™ä¾èµ–äº†è§’è‰²æ¨¡å—ã€‚ä½¿ç”¨äº†å¾ªç¯ä¾èµ–å¯¼å…¥ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æ˜¯ï¼Œåœ¨è§’è‰²æ¨¡å—çš„æœåŠ¡é‡Œä½¿ç”¨æƒé™æ¨¡å—é‡Œçš„serviceæ–¹æ³•æ—¶ï¼Œå°±ä¼šæç¤ºå¯¼å…¥çš„æƒé™æ¨¡å—ä¸æ­£ç¡®ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æ˜¯ï¼ŒæŠŠè§’è‰²é‡Œè°ƒç”¨æƒé™æ¨¡å—çš„æ–¹æ³•é€»è¾‘åˆ äº†ï¼Œå°±æ­£å¸¸äº†ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æ˜¯è¿™æ®µé€»è¾‘æ”¾è§’è‰²æ§åˆ¶å™¨é‡Œè°ƒç”¨å¹¶ä¸ä¼šæŠ¥é”™ã€‚&lt;/p&gt;\n&lt;p&gt;å°±å¾ˆå¥‡å¦™ï¼Œæ‰€ä»¥ï¼Œ&lt;strong&gt;è¿˜æ˜¯å¾—é¿å…ä½¿ç”¨å¾ªç¯ä¾èµ–&lt;/strong&gt;ã€‚æˆ‘æŸ¥é˜…äº†æ–‡æ¡£åæ‰å¾—çŸ¥å®˜ç½‘ä¸æ¨èè¿™ä¹ˆåšã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;æ€»ç»“\&quot;&gt;æ€»ç»“&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ€»ç»“\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;NestJSå¼€å‘è€…ä»¬ï¼Œå¸Œæœ›ä¸è¦å’Œæˆ‘ä¸€æ ·ã€‚&lt;strong&gt;å°½é‡é¿å…å¾ªç¯ä¾èµ–å§&lt;/strong&gt;ï¼&lt;/p&gt;\n&lt;h2 id=\&quot;ç›¸å…³æˆªå›¾\&quot;&gt;ç›¸å…³æˆªå›¾&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ç›¸å…³æˆªå›¾\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_8.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;\n&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_9.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img_1.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;\n&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_10.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img_2.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æœ‰æ„Ÿè€Œå‘&quot;],&quot;text&quot;:[0,&quot;æœ‰æ„Ÿè€Œå‘&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ€»ç»“&quot;],&quot;text&quot;:[0,&quot;æ€»ç»“&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ç›¸å…³æˆªå›¾&quot;],&quot;text&quot;:[0,&quot;ç›¸å…³æˆªå›¾&quot;]}]]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/img_8.png&quot;],[0,&quot;../img/img_9.png&quot;],[0,&quot;../img/img_10.png&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;NestJså…³äºå¾ªç¯ä¾èµ–&quot;],&quot;date&quot;:[3,&quot;2023-11-15T21:21:35.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/img_8.png&quot;],[0,&quot;../img/img_9.png&quot;],[0,&quot;../img/img_10.png&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/11&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;å…³äºvue3å¦‚ä½•åˆ¤æ–­çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ äº†æ’æ§½&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;å…³äºVue3å¦‚ä½•åˆ¤æ–­çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ äº†æ’æ§½&quot;],&quot;date&quot;:[3,&quot;2023-08-03T15:20:21.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## é—®é¢˜èƒŒæ™¯\n\né¦–å…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç ã€‚\n\n![img.png](../img/img_5.png)\n\né‡è§äº†ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦åœ¨éƒ¨é—¨é€‰æ‹©çš„æ—¶å€™ï¼Œåç§°å‰é¢åŠ ä¸Šä¸€çº§éƒ¨é—¨ã€‚\n\nä½†æ˜¯ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½ç”¨åˆ°äº†è¿™ä¸ªå°è£…çš„ç»„ä»¶ã€‚å¦‚ä½•è®©è¿™ä¸ªåœ°æ–¹ä¼˜é›…çš„å¤„ç†æ‰ï¼Œåˆä¸å½±å“åˆ°åˆ«çš„åœ°æ–¹å‘¢?\n\n## è§£å†³æ€è·¯\n\næˆ‘æƒ³åˆ°äº†ä¸€ä¸ªç‚¹å­ã€‚å­ç»„ä»¶åˆ¤æ–­çˆ¶ç»„ä»¶æœ‰æ²¡æœ‰ä¼ é€’æ’æ§½ã€‚å¦‚æœä¼ äº†çš„è¯ï¼Œå°±ç»™elOptionä¼ é€’å¤„ç†é€‰æ‹©æ˜¾ç¤ºçš„æ’æ§½ã€‚\n\nç»è¿‡æˆ‘ä¸€ç•ªæŸ¥é˜…æ–‡æ¡£å’Œç™¾åº¦ï¼Œå‘ç°setupè¯­æ³•ç³–æ²¡æ³•å®ç°ã€‚åªèƒ½æ”¹æˆsetupåŠ returné‚£ç§ã€‚\n\nsetupå‡½æ•°é‡Œç¬¬äºŒä¸ªå‚æ•°ä¸­å»æ¥æ”¶slotæ’æ§½ã€‚ç„¶ååˆ©ç”¨jsxçš„çµæ´»æ€§å°±èƒ½å¤Ÿä¼˜é›…åœ°å®ç°éœ€æ±‚äº†ã€‚\n\n## ä¸ºä»€ä¹ˆä½¿ç”¨JSX\n\nä¸ºå•¥è¦ç”¨jsx?å› ä¸ºtemplateä¸­ç»™Eloptionä¼ é€’æ’æ§½æ²¡æ³•ç”¨å¯¹è±¡çš„æ–¹å¼ï¼Œåªè¦å¯¹åº”ä¸Šäº†æ’æ§½åEloptionå°±ä¼šæ¸²æŸ“ã€‚\n\n## ä»£ç å®ç°\n\nä»£ç è§ä¸‹å›¾ï¼š\n\n![img.png](../img/img_6.png)\n![img.png](../img/img_7.png)\n\n[ä»£ç è¯¦æƒ…](https://github.com/XueHua-s/personUntil/blob/main/Vue3Components/requesetEnumSearchSelect.vue)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/å…³äºVue3å¦‚ä½•åˆ¤æ–­çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ äº†æ’æ§½.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/img_5.png&quot;],[0,&quot;../img/img_6.png&quot;],[0,&quot;../img/img_7.png&quot;]]],&quot;digest&quot;:[0,&quot;92e3abb9744dc4e4&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;é—®é¢˜èƒŒæ™¯\&quot;&gt;é—®é¢˜èƒŒæ™¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é—®é¢˜èƒŒæ™¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;é¦–å…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_5.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;é‡è§äº†ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦åœ¨éƒ¨é—¨é€‰æ‹©çš„æ—¶å€™ï¼Œåç§°å‰é¢åŠ ä¸Šä¸€çº§éƒ¨é—¨ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æ˜¯ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½ç”¨åˆ°äº†è¿™ä¸ªå°è£…çš„ç»„ä»¶ã€‚å¦‚ä½•è®©è¿™ä¸ªåœ°æ–¹ä¼˜é›…çš„å¤„ç†æ‰ï¼Œåˆä¸å½±å“åˆ°åˆ«çš„åœ°æ–¹å‘¢?&lt;/p&gt;\n&lt;h2 id=\&quot;è§£å†³æ€è·¯\&quot;&gt;è§£å†³æ€è·¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è§£å†³æ€è·¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;æˆ‘æƒ³åˆ°äº†ä¸€ä¸ªç‚¹å­ã€‚å­ç»„ä»¶åˆ¤æ–­çˆ¶ç»„ä»¶æœ‰æ²¡æœ‰ä¼ é€’æ’æ§½ã€‚å¦‚æœä¼ äº†çš„è¯ï¼Œå°±ç»™elOptionä¼ é€’å¤„ç†é€‰æ‹©æ˜¾ç¤ºçš„æ’æ§½ã€‚&lt;/p&gt;\n&lt;p&gt;ç»è¿‡æˆ‘ä¸€ç•ªæŸ¥é˜…æ–‡æ¡£å’Œç™¾åº¦ï¼Œå‘ç°setupè¯­æ³•ç³–æ²¡æ³•å®ç°ã€‚åªèƒ½æ”¹æˆsetupåŠ returné‚£ç§ã€‚&lt;/p&gt;\n&lt;p&gt;setupå‡½æ•°é‡Œç¬¬äºŒä¸ªå‚æ•°ä¸­å»æ¥æ”¶slotæ’æ§½ã€‚ç„¶ååˆ©ç”¨jsxçš„çµæ´»æ€§å°±èƒ½å¤Ÿä¼˜é›…åœ°å®ç°éœ€æ±‚äº†ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä¸ºä»€ä¹ˆä½¿ç”¨jsx\&quot;&gt;ä¸ºä»€ä¹ˆä½¿ç”¨JSX&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¸ºä»€ä¹ˆä½¿ç”¨jsx\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ä¸ºå•¥è¦ç”¨jsx?å› ä¸ºtemplateä¸­ç»™Eloptionä¼ é€’æ’æ§½æ²¡æ³•ç”¨å¯¹è±¡çš„æ–¹å¼ï¼Œåªè¦å¯¹åº”ä¸Šäº†æ’æ§½åEloptionå°±ä¼šæ¸²æŸ“ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä»£ç å®ç°\&quot;&gt;ä»£ç å®ç°&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä»£ç å®ç°\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;ä»£ç è§ä¸‹å›¾ï¼š&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_6.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;\n&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_7.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;img.png&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;&lt;a href=\&quot;https://github.com/XueHua-s/personUntil/blob/main/Vue3Components/requesetEnumSearchSelect.vue\&quot;&gt;ä»£ç è¯¦æƒ…&lt;/a&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é—®é¢˜èƒŒæ™¯&quot;],&quot;text&quot;:[0,&quot;é—®é¢˜èƒŒæ™¯&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;è§£å†³æ€è·¯&quot;],&quot;text&quot;:[0,&quot;è§£å†³æ€è·¯&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä¸ºä»€ä¹ˆä½¿ç”¨jsx&quot;],&quot;text&quot;:[0,&quot;ä¸ºä»€ä¹ˆä½¿ç”¨JSX&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä»£ç å®ç°&quot;],&quot;text&quot;:[0,&quot;ä»£ç å®ç°&quot;]}]]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/img_5.png&quot;],[0,&quot;../img/img_6.png&quot;],[0,&quot;../img/img_7.png&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;å…³äºVue3å¦‚ä½•åˆ¤æ–­çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ äº†æ’æ§½&quot;],&quot;date&quot;:[3,&quot;2023-08-03T15:20:21.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/img_5.png&quot;],[0,&quot;../img/img_6.png&quot;],[0,&quot;../img/img_7.png&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/10&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;element-plusè¡¨æ ¼éšè—è¡Œæ•°åŠŸèƒ½&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;element-plusè¡¨æ ¼éšè—è¡Œæ•°åŠŸèƒ½&quot;],&quot;date&quot;:[3,&quot;2023-07-27T15:42:08.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;![emj](../img/img_1.png)\n\n## éœ€æ±‚èƒŒæ™¯\n\nå¦‚å›¾æ‰€ç¤ºï¼Œelement-plusä¸­æ‰€å¸¦çš„ï¼Œè¿™äº›æŠ˜å å±æŠ˜å è¡Œã€è¿™äº›åŠŸèƒ½å¯èƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚\n\næœ€è¿‘æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯è¡¨æ ¼å¦‚æœè¶…å‡ºäº†æŸè¡Œï¼Œéå°†å¤šä½™çš„è¡Œæ•°ç»™è¿›è¡ŒæŠ˜å ã€‚\n\né‚£ä¹ˆ,æœ‰ä»€ä¹ˆåŠæ³•èƒ½å¤Ÿç»™element-plusæ·»åŠ æ˜“äºç»´æŠ¤çš„æ‹“å±•ä»£ç å—?\n\næˆ‘ä¹Ÿè‡ªè¡Œç™¾åº¦è¿‡ä¸€ç•ªï¼Œä½†æ˜¯ç™¾åº¦ä¸Šçš„ç­”æ¡ˆï¼Œå¾ˆæ˜æ˜¾å¹¶ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚\n\nç»è¿‡æˆ‘ä¸€ç•ªæ€ç´¢ï¼Œæƒ³åˆ°äº†cssçš„åºå·é€‰æ‹©å™¨ã€‚åºå·é€‰æ‹©å™¨ä¸“é—¨å†™ä¸€ä¸ªå­å…ƒç´ è¶…è¿‡3éšè—çš„ç±»å‹åã€‚\n\n## CSSæ ·å¼å®ç°\n\næ ·å¼å¦‚ä¸‹ï¼š\n\n```css\n.el-folding &gt; tr:nth-child(n + 4) {\n    display: none;\n}\n.el-folding-line {\n    transition-duration: 200ms;\n    cursor: pointer;\n    border-bottom: 1px solid var(--el-table-border-color);\n}\n.el-folding-line:active {\n    background-color: #F5F6FB;\n}\n.el-folding-extends {\n    /*cursor: pointer;*/\n    transition-duration: 400ms;\n}\n.el-folding-extends.rotate {\n    cursor: pointer;\n    transform: rotate(180deg);\n}\n```\n\n## Vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°\n\nå¦‚ä½•è®©è¿™ä¸ªåŠŸèƒ½æ˜“äºä½¿ç”¨å’Œç»´æŠ¤ï¼Œæˆ‘è¿™é‡Œæƒ³åˆ°äº†ä½¿ç”¨vueçš„è‡ªå®šä¹‰æŒ‡ä»¤ï¼š\n\n```javascript\n// element-tableæŠ˜å æŒ‡ä»¤\napp.directive(&#39;elfold&#39;, (el, binding) =&gt; {\n  const elBody = el.querySelector(\&quot;.el-table__body&gt;tbody\&quot;)\n  const elBodyC = elBody.children\n  if (elBodyC.length &gt; 3) {\n    // ç»™è¡¨æ ¼æ·»åŠ åªå±•ç¤ºä¸‰è¡Œçš„ç±»å\n    if (el.querySelector(&#39;.rotate&#39;)) {\n      elBody.classList.remove(&#39;el-folding&#39;)\n    } else {\n      elBody.classList.add(&#39;el-folding&#39;)\n    }\n    // åˆ¤æ–­æœ‰æ²¡æœ‰åˆ›å»ºè¿‡é¢æ¿\n    const foldingLine = el.querySelector(&#39;.el-folding-line&#39;)\n    if (foldingLine) {\n      if (el?.removeElement) {\n        el.removeElement(foldingLine)\n      }\n    }\n    if (!foldingLine) {\n      // åˆ›å»ºæŠ˜å é¢æ¿å…ƒç´ \n      const extendsTop = document.createElement(&#39;div&#39;)\n      extendsTop.className = \&quot;flex-ct p5 el-folding-line\&quot;\n      const extendsTopButton = document.createElement(&#39;i&#39;)\n      extendsTopButton.className = \&quot;fa fa-angle-down el-folding-extends\&quot;\n      extendsTopButton.style.fontSize = \&quot;30px\&quot;\n      extendsTop.append(extendsTopButton)\n      el.append(extendsTop)\n      // æ§åˆ¶å˜é‡\n      let controller = true\n      extendsTop.addEventListener(&#39;click&#39;, () =&gt; {\n        if (controller) {\n          extendsTopButton.classList.add(&#39;rotate&#39;)\n          elBody.classList.remove(&#39;el-folding&#39;)\n        } else {\n          extendsTopButton.classList.remove(&#39;rotate&#39;)\n          elBody.classList.add(&#39;el-folding&#39;)\n        }\n        controller = !controller\n      })\n    }\n  } else {\n    elBody.classList.remove(&#39;el-folding&#39;)\n  }\n})\n```\n\n## æ•ˆæœå±•ç¤º\n\nè¯ºï¼Œæœ€åçš„æ•ˆæœå°±å¦‚å›¾æ‰€ç¤ºäº†ã€‚\n\n![emj](../img/img_2.png)\n![emj](../img/img_3.png)\n![emj](../img/img_4.png)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/element-plusè¡¨æ ¼éšè—è¡Œæ•°åŠŸèƒ½.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/img_1.png&quot;],[0,&quot;../img/img_2.png&quot;],[0,&quot;../img/img_3.png&quot;],[0,&quot;../img/img_4.png&quot;]]],&quot;digest&quot;:[0,&quot;14e29c90a34dbd86&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_1.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;\n&lt;h2 id=\&quot;éœ€æ±‚èƒŒæ™¯\&quot;&gt;éœ€æ±‚èƒŒæ™¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#éœ€æ±‚èƒŒæ™¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å¦‚å›¾æ‰€ç¤ºï¼Œelement-plusä¸­æ‰€å¸¦çš„ï¼Œè¿™äº›æŠ˜å å±æŠ˜å è¡Œã€è¿™äº›åŠŸèƒ½å¯èƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚&lt;/p&gt;\n&lt;p&gt;æœ€è¿‘æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯è¡¨æ ¼å¦‚æœè¶…å‡ºäº†æŸè¡Œï¼Œéå°†å¤šä½™çš„è¡Œæ•°ç»™è¿›è¡ŒæŠ˜å ã€‚&lt;/p&gt;\n&lt;p&gt;é‚£ä¹ˆ,æœ‰ä»€ä¹ˆåŠæ³•èƒ½å¤Ÿç»™element-plusæ·»åŠ æ˜“äºç»´æŠ¤çš„æ‹“å±•ä»£ç å—?&lt;/p&gt;\n&lt;p&gt;æˆ‘ä¹Ÿè‡ªè¡Œç™¾åº¦è¿‡ä¸€ç•ªï¼Œä½†æ˜¯ç™¾åº¦ä¸Šçš„ç­”æ¡ˆï¼Œå¾ˆæ˜æ˜¾å¹¶ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚&lt;/p&gt;\n&lt;p&gt;ç»è¿‡æˆ‘ä¸€ç•ªæ€ç´¢ï¼Œæƒ³åˆ°äº†cssçš„åºå·é€‰æ‹©å™¨ã€‚åºå·é€‰æ‹©å™¨ä¸“é—¨å†™ä¸€ä¸ªå­å…ƒç´ è¶…è¿‡3éšè—çš„ç±»å‹åã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;cssæ ·å¼å®ç°\&quot;&gt;CSSæ ·å¼å®ç°&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#cssæ ·å¼å®ç°\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;æ ·å¼å¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;css\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;.el-folding&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; &gt;&lt;/span&gt;&lt;span style=\&quot;color:#22863A;--shiki-dark:#85E89D\&quot;&gt; tr&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;:nth-child&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;n + 4&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    display&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;none&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;.el-folding-line&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    transition-duration&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;200&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;ms&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    cursor&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;pointer&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    border-bottom&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;px&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; solid&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; var&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;--el-table-border-color&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;.el-folding-line:active&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    background-color&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;#F5F6FB&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;.el-folding-extends&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    /*cursor: pointer;*/&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    transition-duration&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;400&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;ms&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;.el-folding-extends.rotate&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    cursor&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;pointer&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;    transform&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;: &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;rotate&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;180&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;deg&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;);&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°\&quot;&gt;Vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å¦‚ä½•è®©è¿™ä¸ªåŠŸèƒ½æ˜“äºä½¿ç”¨å’Œç»´æŠ¤ï¼Œæˆ‘è¿™é‡Œæƒ³åˆ°äº†ä½¿ç”¨vueçš„è‡ªå®šä¹‰æŒ‡ä»¤ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;// element-tableæŠ˜å æŒ‡ä»¤&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;app.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;directive&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;elfold&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, (&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;el&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;binding&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; elBody&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; el.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;querySelector&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;\&quot;.el-table__body&gt;tbody\&quot;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; elBodyC&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; elBody.children&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (elBodyC.&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;length&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; &gt;&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 3&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // ç»™è¡¨æ ¼æ·»åŠ åªå±•ç¤ºä¸‰è¡Œçš„ç±»å&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (el.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;querySelector&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;.rotate&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      elBody.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;remove&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;el-folding&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      elBody.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;el-folding&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;    // åˆ¤æ–­æœ‰æ²¡æœ‰åˆ›å»ºè¿‡é¢æ¿&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; foldingLine&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; el.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;querySelector&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;.el-folding-line&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (foldingLine) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (el?.removeElement) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        el.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;removeElement&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(foldingLine)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;!&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;foldingLine) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;      // åˆ›å»ºæŠ˜å é¢æ¿å…ƒç´ &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; extendsTop&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; document.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;createElement&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;div&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      extendsTop.className &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; \&quot;flex-ct p5 el-folding-line\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; extendsTopButton&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; document.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;createElement&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;i&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      extendsTopButton.className &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; \&quot;fa fa-angle-down el-folding-extends\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      extendsTopButton.style.fontSize &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; \&quot;30px\&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      extendsTop.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;append&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(extendsTopButton)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      el.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;append&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(extendsTop)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;      // æ§åˆ¶å˜é‡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; controller &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; true&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      extendsTop.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;addEventListener&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;click&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, () &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;        if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (controller) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;          extendsTopButton.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;rotate&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;          elBody.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;remove&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;el-folding&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;          extendsTopButton.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;remove&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;rotate&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;          elBody.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;add&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;el-folding&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        controller &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; !&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;controller&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      })&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    elBody.classList.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;remove&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt;&#39;el-folding&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;})&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;æ•ˆæœå±•ç¤º\&quot;&gt;æ•ˆæœå±•ç¤º&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ•ˆæœå±•ç¤º\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è¯ºï¼Œæœ€åçš„æ•ˆæœå°±å¦‚å›¾æ‰€ç¤ºäº†ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_2.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;\n&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_3.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;\n&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/img_4.png&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;éœ€æ±‚èƒŒæ™¯&quot;],&quot;text&quot;:[0,&quot;éœ€æ±‚èƒŒæ™¯&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;cssæ ·å¼å®ç°&quot;],&quot;text&quot;:[0,&quot;CSSæ ·å¼å®ç°&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°&quot;],&quot;text&quot;:[0,&quot;Vueè‡ªå®šä¹‰æŒ‡ä»¤å®ç°&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ•ˆæœå±•ç¤º&quot;],&quot;text&quot;:[0,&quot;æ•ˆæœå±•ç¤º&quot;]}]]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/img_1.png&quot;],[0,&quot;../img/img_2.png&quot;],[0,&quot;../img/img_3.png&quot;],[0,&quot;../img/img_4.png&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;element-plusè¡¨æ ¼éšè—è¡Œæ•°åŠŸèƒ½&quot;],&quot;date&quot;:[3,&quot;2023-07-27T15:42:08.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/img_1.png&quot;],[0,&quot;../img/img_2.png&quot;],[0,&quot;../img/img_3.png&quot;],[0,&quot;../img/img_4.png&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/9&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;å‰ç«¯é“¾è¡¨è¿ç”¨åœºæ™¯&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;å‰ç«¯é“¾è¡¨è¿ç”¨åœºæ™¯&quot;],&quot;date&quot;:[3,&quot;2023-06-24T13:55:42.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜\n\nçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š\n\n```javascript\nconst arr = [1, 2, 3, 4, 5]\narr.unshift(0)\n```\n\næ¯”å¦‚åƒä¸Šé¢é‚£ä¸¤è¡Œä»£ç , å¤§å®¶éƒ½çŸ¥é“æ•°ç»„æ˜¯æœ‰ä¸‹æ ‡çš„ã€‚\n\nå¦‚æœå¾€è¾“å…¥å‰é¢æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåé¢çš„æ‰€æœ‰å…ƒç´ ä¸‹æ ‡æ•´ä½“éƒ½æ˜¯ä¼šå¾€åç§»åŠ¨çš„ã€‚è¿™ä¸ªæ•°ç»„çš„ä¸‹æ ‡ç§»åŠ¨ï¼Œä¸€æ—¦æ•°æ®é‡è¿‡å¤šçš„è¯ï¼Œå°±ä¼šé€ æˆå¾ˆä¸¥é‡çš„æ€§èƒ½æŸè€—ã€‚\n\n## å®é™…åº”ç”¨åœºæ™¯\n\n### åœºæ™¯ä¸€ï¼šç‰©è”ç½‘é¡¹ç›®\n\nä¾‹å¦‚: ç‰©è”ç½‘é¡¹ç›®ï¼Œä¸€ä¸ªè®¾å¤‡çš„æ¨¡æ¿ï¼Œæ•°æ®é‡å¤§çš„å¯èƒ½æœ‰å‡ åƒä¸ªå‚æ•°ã€‚å¦‚æœæŠŠç¬¬ä¸€ä¸ªåˆ é™¤åˆ é™¤äº†ï¼Œåé¢ææ€–çš„æ•°æ®é‡çš„ä¸‹æ ‡å‰ç§»ï¼Œä¼šç»™é¡µé¢é€ æˆå¤§æ¦‚ä¸€ç§’é’Ÿçš„å¡é¡¿æ„Ÿã€‚\n\n### åœºæ™¯äºŒï¼šæ»‘åŠ¨åŠ è½½é¡µé¢\n\nå†æ¯”å¦‚ä¸€äº›æ»‘åŠ¨åŠ è½½çš„é¡µé¢ï¼Œé‚£ä¸ªé¡µé¢è¿˜å…·æœ‰ï¼Œè‡ªå·±çš„æ–‡ç« èƒ½å³æ»‘åˆ é™¤çš„åŠŸèƒ½ã€‚\n\nå¦‚æœå­˜æ”¾æ–‡ç« çš„æ•°æ®åˆ°è¾¾äº†ä¸€å®šæ•°é‡ï¼Œç”¨æˆ·å†åˆ é™¤æ–‡ç« ï¼Œå¦‚æœæˆ‘ä»¬é‡æ–°è¯·æ±‚æ¥å£ï¼ŒåŠ è½½åˆ—è¡¨ã€‚è¿™æ ·æ˜¾ç„¶ï¼Œç”¨æˆ·çš„ä½“éªŒæ˜¯æ›´ä¸å¥½çš„ã€‚ä¸€èˆ¬åœ¨æ¥å£è¯·æ±‚åˆ é™¤æˆåŠŸåï¼Œå¯¹æœ¬åœ°çš„é‚£ä¸ªæ–‡ç« åœ¨è¿›è¡Œåˆ é™¤ã€‚ä½†æ˜¯ï¼Œæ˜¾ç„¶æœ‰æ—¶å€™ä¹Ÿä¼šé€ æˆä¸å¥½çš„ä½“éªŒã€‚\n\n## è§£å†³æ–¹æ¡ˆ\n\nè¿™ä¸ªæ—¶å€™é“¾è¡¨è¿™ç§æ•°æ®ç»“æ„, å†é…åˆä¸Šes6çš„è¿­ä»£å™¨å°±å¾ˆåˆé€‚äº†ã€‚\n\nä»£ç è§ä»¥ä¸‹é“¾æ¥ï¼š\n\n[åŒç«¯å¾ªç¯é“¾è¡¨](https://github.com/XueHua-s/adt-customer/blob/main/link.js)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/å‰ç«¯é“¾è¡¨è¿ç”¨åœºæ™¯.md&quot;],&quot;digest&quot;:[0,&quot;a8a12636b257714c&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜\&quot;&gt;æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; arr&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;1&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;2&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;3&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;4&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;5&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;]&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;arr.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;unshift&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;0&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;æ¯”å¦‚åƒä¸Šé¢é‚£ä¸¤è¡Œä»£ç , å¤§å®¶éƒ½çŸ¥é“æ•°ç»„æ˜¯æœ‰ä¸‹æ ‡çš„ã€‚&lt;/p&gt;\n&lt;p&gt;å¦‚æœå¾€è¾“å…¥å‰é¢æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåé¢çš„æ‰€æœ‰å…ƒç´ ä¸‹æ ‡æ•´ä½“éƒ½æ˜¯ä¼šå¾€åç§»åŠ¨çš„ã€‚è¿™ä¸ªæ•°ç»„çš„ä¸‹æ ‡ç§»åŠ¨ï¼Œä¸€æ—¦æ•°æ®é‡è¿‡å¤šçš„è¯ï¼Œå°±ä¼šé€ æˆå¾ˆä¸¥é‡çš„æ€§èƒ½æŸè€—ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;å®é™…åº”ç”¨åœºæ™¯\&quot;&gt;å®é™…åº”ç”¨åœºæ™¯&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å®é™…åº”ç”¨åœºæ™¯\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;åœºæ™¯ä¸€ç‰©è”ç½‘é¡¹ç›®\&quot;&gt;åœºæ™¯ä¸€ï¼šç‰©è”ç½‘é¡¹ç›®&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#åœºæ™¯ä¸€ç‰©è”ç½‘é¡¹ç›®\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;ä¾‹å¦‚: ç‰©è”ç½‘é¡¹ç›®ï¼Œä¸€ä¸ªè®¾å¤‡çš„æ¨¡æ¿ï¼Œæ•°æ®é‡å¤§çš„å¯èƒ½æœ‰å‡ åƒä¸ªå‚æ•°ã€‚å¦‚æœæŠŠç¬¬ä¸€ä¸ªåˆ é™¤åˆ é™¤äº†ï¼Œåé¢ææ€–çš„æ•°æ®é‡çš„ä¸‹æ ‡å‰ç§»ï¼Œä¼šç»™é¡µé¢é€ æˆå¤§æ¦‚ä¸€ç§’é’Ÿçš„å¡é¡¿æ„Ÿã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;åœºæ™¯äºŒæ»‘åŠ¨åŠ è½½é¡µé¢\&quot;&gt;åœºæ™¯äºŒï¼šæ»‘åŠ¨åŠ è½½é¡µé¢&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#åœºæ™¯äºŒæ»‘åŠ¨åŠ è½½é¡µé¢\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;å†æ¯”å¦‚ä¸€äº›æ»‘åŠ¨åŠ è½½çš„é¡µé¢ï¼Œé‚£ä¸ªé¡µé¢è¿˜å…·æœ‰ï¼Œè‡ªå·±çš„æ–‡ç« èƒ½å³æ»‘åˆ é™¤çš„åŠŸèƒ½ã€‚&lt;/p&gt;\n&lt;p&gt;å¦‚æœå­˜æ”¾æ–‡ç« çš„æ•°æ®åˆ°è¾¾äº†ä¸€å®šæ•°é‡ï¼Œç”¨æˆ·å†åˆ é™¤æ–‡ç« ï¼Œå¦‚æœæˆ‘ä»¬é‡æ–°è¯·æ±‚æ¥å£ï¼ŒåŠ è½½åˆ—è¡¨ã€‚è¿™æ ·æ˜¾ç„¶ï¼Œç”¨æˆ·çš„ä½“éªŒæ˜¯æ›´ä¸å¥½çš„ã€‚ä¸€èˆ¬åœ¨æ¥å£è¯·æ±‚åˆ é™¤æˆåŠŸåï¼Œå¯¹æœ¬åœ°çš„é‚£ä¸ªæ–‡ç« åœ¨è¿›è¡Œåˆ é™¤ã€‚ä½†æ˜¯ï¼Œæ˜¾ç„¶æœ‰æ—¶å€™ä¹Ÿä¼šé€ æˆä¸å¥½çš„ä½“éªŒã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;è§£å†³æ–¹æ¡ˆ\&quot;&gt;è§£å†³æ–¹æ¡ˆ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è§£å†³æ–¹æ¡ˆ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è¿™ä¸ªæ—¶å€™é“¾è¡¨è¿™ç§æ•°æ®ç»“æ„, å†é…åˆä¸Šes6çš„è¿­ä»£å™¨å°±å¾ˆåˆé€‚äº†ã€‚&lt;/p&gt;\n&lt;p&gt;ä»£ç è§ä»¥ä¸‹é“¾æ¥ï¼š&lt;/p&gt;\n&lt;p&gt;&lt;a href=\&quot;https://github.com/XueHua-s/adt-customer/blob/main/link.js\&quot;&gt;åŒç«¯å¾ªç¯é“¾è¡¨&lt;/a&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜&quot;],&quot;text&quot;:[0,&quot;æ•°ç»„æ“ä½œçš„æ€§èƒ½é—®é¢˜&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å®é™…åº”ç”¨åœºæ™¯&quot;],&quot;text&quot;:[0,&quot;å®é™…åº”ç”¨åœºæ™¯&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;åœºæ™¯ä¸€ç‰©è”ç½‘é¡¹ç›®&quot;],&quot;text&quot;:[0,&quot;åœºæ™¯ä¸€ï¼šç‰©è”ç½‘é¡¹ç›®&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;åœºæ™¯äºŒæ»‘åŠ¨åŠ è½½é¡µé¢&quot;],&quot;text&quot;:[0,&quot;åœºæ™¯äºŒï¼šæ»‘åŠ¨åŠ è½½é¡µé¢&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;è§£å†³æ–¹æ¡ˆ&quot;],&quot;text&quot;:[0,&quot;è§£å†³æ–¹æ¡ˆ&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;å‰ç«¯é“¾è¡¨è¿ç”¨åœºæ™¯&quot;],&quot;date&quot;:[3,&quot;2023-06-24T13:55:42.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/8&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;å…³äºå‰ç«¯æ•°æ®åº“indexdb&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;å…³äºå‰ç«¯æ•°æ®åº“indexDB&quot;],&quot;date&quot;:[3,&quot;2023-06-23T14:25:11.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## ä¸ºä»€ä¹ˆéœ€è¦IndexDB\n\nå‰ç«¯åŠ è½½æŸäº›è¿‡å¤§çš„é™æ€æ–‡ä»¶ï¼Œè€Œä¸”è¿˜æ˜¯æ— æ³•è¢«æµè§ˆå™¨ç¼“å­˜çš„èµ„æºæ—¶ã€‚æ¯æ¬¡éƒ½è¦æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚\n\næ¯”å¦‚three.jséœ€è¦ä½¿ç”¨çš„å»ºæ¨¡æ–‡ä»¶ã€‚å¦‚æœåªæœ‰å‡ åkbï¼Œå‡ MBçš„è¯å€’è¿˜å¥½ã€‚å¦‚æœæ¨¡å‹æ–‡ä»¶åå¤šMï¼Œç”šè‡³æ˜¯å‡ ç™¾å¤šMçš„è¯ã€‚æ¯æ¬¡å…³é—­ç½‘é¡µå†é‡æ–°æ‰“å¼€ï¼Œå°±åˆé‡æ–°åŠ è½½ä¸€éã€‚é•¿æ—¶é—´çš„é‡å¤ç­‰å¾…å®åœ¨æ˜¯å€’äººèƒƒå£ã€‚\n\nè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨indexDBå°†è¿™äº›å¤§å‹æ–‡ä»¶å­˜èµ·æ¥ã€‚é¿å…é‡å¤åŠ è½½è¿™äº›èµ„æºï¼Œè€Œå€’äººèƒƒå£ã€‚\n\n## ä½¿ç”¨ä½“éªŒ\n\nå…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è‡ªå·±é’»ç ”äº†ä¸€ä¸‹ï¼Œå¹¶ä¸”å°è£…äº†ä¸€ä¸ªæ“ä½œIndexDBçš„æ–¹æ³•(è¯¦æƒ…è§æ–‡ç« ä¸‹é“¾æ¥)ã€‚\n\næœ‰ä¸€è¯´ä¸€ï¼Œè¿™ä¸ªä¸œè¥¿æ¯”MongoDBéš¾ç”¨ã€‚ä¸èƒ½å¤Ÿç›´æ¥æ–°å»ºè¡¨ï¼Œå¿…é¡»æ¯æ¬¡åœ¨å‡çº§æ•°æ®ç‰ˆæœ¬çš„æ—¶å€™ï¼Œè§¦å‘çš„å‘¨æœŸé‡Œæ‰èƒ½å»æ–°å»ºã€‚å®åœ¨æ˜¯ï¼Œå¤ªéš¾å—äº†ã€‚\n\n![emj](../img/src=http___img.nga.178.com_attachments_mon_202206_26_i2Q2q-8ns4Z1vT3cSwi-wi.jpg&amp;refer=http___img.nga.178.webp)\n\n## ç›¸å…³èµ„æº\n\n[IndexDBä½¿ç”¨æ–¹æ³•](https://github.com/XueHua-s/personUntil/blob/main/indexDB.js)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/å…³äºå‰ç«¯æ•°æ®åº“indexDB.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/src=http___img.nga.178.com_attachments_mon_202206_26_i2Q2q-8ns4Z1vT3cSwi-wi.jpg&amp;refer=http___img.nga.178.webp&quot;]]],&quot;digest&quot;:[0,&quot;71fd74995e3a8bc9&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;ä¸ºä»€ä¹ˆéœ€è¦indexdb\&quot;&gt;ä¸ºä»€ä¹ˆéœ€è¦IndexDB&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä¸ºä»€ä¹ˆéœ€è¦indexdb\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å‰ç«¯åŠ è½½æŸäº›è¿‡å¤§çš„é™æ€æ–‡ä»¶ï¼Œè€Œä¸”è¿˜æ˜¯æ— æ³•è¢«æµè§ˆå™¨ç¼“å­˜çš„èµ„æºæ—¶ã€‚æ¯æ¬¡éƒ½è¦æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚&lt;/p&gt;\n&lt;p&gt;æ¯”å¦‚three.jséœ€è¦ä½¿ç”¨çš„å»ºæ¨¡æ–‡ä»¶ã€‚å¦‚æœåªæœ‰å‡ åkbï¼Œå‡ MBçš„è¯å€’è¿˜å¥½ã€‚å¦‚æœæ¨¡å‹æ–‡ä»¶åå¤šMï¼Œç”šè‡³æ˜¯å‡ ç™¾å¤šMçš„è¯ã€‚æ¯æ¬¡å…³é—­ç½‘é¡µå†é‡æ–°æ‰“å¼€ï¼Œå°±åˆé‡æ–°åŠ è½½ä¸€éã€‚é•¿æ—¶é—´çš„é‡å¤ç­‰å¾…å®åœ¨æ˜¯å€’äººèƒƒå£ã€‚&lt;/p&gt;\n&lt;p&gt;è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨indexDBå°†è¿™äº›å¤§å‹æ–‡ä»¶å­˜èµ·æ¥ã€‚é¿å…é‡å¤åŠ è½½è¿™äº›èµ„æºï¼Œè€Œå€’äººèƒƒå£ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä½¿ç”¨ä½“éªŒ\&quot;&gt;ä½¿ç”¨ä½“éªŒ&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä½¿ç”¨ä½“éªŒ\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è‡ªå·±é’»ç ”äº†ä¸€ä¸‹ï¼Œå¹¶ä¸”å°è£…äº†ä¸€ä¸ªæ“ä½œIndexDBçš„æ–¹æ³•(è¯¦æƒ…è§æ–‡ç« ä¸‹é“¾æ¥)ã€‚&lt;/p&gt;\n&lt;p&gt;æœ‰ä¸€è¯´ä¸€ï¼Œè¿™ä¸ªä¸œè¥¿æ¯”MongoDBéš¾ç”¨ã€‚ä¸èƒ½å¤Ÿç›´æ¥æ–°å»ºè¡¨ï¼Œå¿…é¡»æ¯æ¬¡åœ¨å‡çº§æ•°æ®ç‰ˆæœ¬çš„æ—¶å€™ï¼Œè§¦å‘çš„å‘¨æœŸé‡Œæ‰èƒ½å»æ–°å»ºã€‚å®åœ¨æ˜¯ï¼Œå¤ªéš¾å—äº†ã€‚&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/src=http___img.nga.178.com_attachments_mon_202206_26_i2Q2q-8ns4Z1vT3cSwi-wi.jpg&amp;#x26;refer=http___img.nga.178.webp&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;\n&lt;h2 id=\&quot;ç›¸å…³èµ„æº\&quot;&gt;ç›¸å…³èµ„æº&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ç›¸å…³èµ„æº\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;&lt;a href=\&quot;https://github.com/XueHua-s/personUntil/blob/main/indexDB.js\&quot;&gt;IndexDBä½¿ç”¨æ–¹æ³•&lt;/a&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä¸ºä»€ä¹ˆéœ€è¦indexdb&quot;],&quot;text&quot;:[0,&quot;ä¸ºä»€ä¹ˆéœ€è¦IndexDB&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä½¿ç”¨ä½“éªŒ&quot;],&quot;text&quot;:[0,&quot;ä½¿ç”¨ä½“éªŒ&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ç›¸å…³èµ„æº&quot;],&quot;text&quot;:[0,&quot;ç›¸å…³èµ„æº&quot;]}]]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/src=http___img.nga.178.com_attachments_mon_202206_26_i2Q2q-8ns4Z1vT3cSwi-wi.jpg&amp;refer=http___img.nga.178.webp&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;å…³äºå‰ç«¯æ•°æ®åº“indexDB&quot;],&quot;date&quot;:[3,&quot;2023-06-23T14:25:11.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/src=http___img.nga.178.com_attachments_mon_202206_26_i2Q2q-8ns4Z1vT3cSwi-wi.jpg&amp;refer=http___img.nga.178.webp&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/7&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;è¡¨æ ¼æ‹–æ‹½æ–¹æ³•æ‰‹å†™&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;è¡¨æ ¼æ‹–æ‹½æ–¹æ³•æ‰‹å†™&quot;],&quot;date&quot;:[3,&quot;2023-06-22T21:31:40.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## é¡¹ç›®éœ€æ±‚\n\nè¿™å‡ å¤©å…¬å¸åšä¸€ä¸ªé¡¹ç›®ï¼Œé‡è§äº†ä¸€ä¸ªéœ€è¦æ‹–æ‹½è¡¨æ ¼é¡ºåºçš„é¡¹ç›®ã€‚\n\nä½†æ˜¯UIç”¨çš„åˆæ˜¯elementã€‚æ˜¯æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½çš„ï¼Œæ‰€ä»¥è‡ªå·±å°±æ‰‹å†™äº†ä¸€ä¸ªæ’ä»¶ã€‚\n\nå‘åœ¨äº†githubä¸Šé¢ã€‚å¦‚æœæœ‰éœ€è¦ç”¨åˆ°çš„æœ‹å‹å¯ä»¥ç§»æ­¥ä¸‹é¢ã€‚\n\n## ä»£ç åœ°å€\n\n&lt;a href=\&quot;https://github.com/XueHua-s/personUntil/blob/main/elementTableDrap.js\&quot; target=\&quot;_blank\&quot;&gt;\næ‰“å¼€githubé“¾æ¥\n&lt;/a&gt;&quot;],&quot;filePath&quot;:[0,&quot;source/posts/è¡¨æ ¼æ‹–æ‹½æ–¹æ³•æ‰‹å†™.md&quot;],&quot;digest&quot;:[0,&quot;187f30350c33ca9b&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;é¡¹ç›®éœ€æ±‚\&quot;&gt;é¡¹ç›®éœ€æ±‚&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é¡¹ç›®éœ€æ±‚\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è¿™å‡ å¤©å…¬å¸åšä¸€ä¸ªé¡¹ç›®ï¼Œé‡è§äº†ä¸€ä¸ªéœ€è¦æ‹–æ‹½è¡¨æ ¼é¡ºåºçš„é¡¹ç›®ã€‚&lt;/p&gt;\n&lt;p&gt;ä½†æ˜¯UIç”¨çš„åˆæ˜¯elementã€‚æ˜¯æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½çš„ï¼Œæ‰€ä»¥è‡ªå·±å°±æ‰‹å†™äº†ä¸€ä¸ªæ’ä»¶ã€‚&lt;/p&gt;\n&lt;p&gt;å‘åœ¨äº†githubä¸Šé¢ã€‚å¦‚æœæœ‰éœ€è¦ç”¨åˆ°çš„æœ‹å‹å¯ä»¥ç§»æ­¥ä¸‹é¢ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä»£ç åœ°å€\&quot;&gt;ä»£ç åœ°å€&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä»£ç åœ°å€\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;a href=\&quot;https://github.com/XueHua-s/personUntil/blob/main/elementTableDrap.js\&quot; target=\&quot;_blank\&quot;&gt;\næ‰“å¼€githubé“¾æ¥\n&lt;/a&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é¡¹ç›®éœ€æ±‚&quot;],&quot;text&quot;:[0,&quot;é¡¹ç›®éœ€æ±‚&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä»£ç åœ°å€&quot;],&quot;text&quot;:[0,&quot;ä»£ç åœ°å€&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;layout&quot;:[0,&quot;element&quot;],&quot;title&quot;:[0,&quot;è¡¨æ ¼æ‹–æ‹½æ–¹æ³•æ‰‹å†™&quot;],&quot;date&quot;:[3,&quot;2023-06-22T21:31:40.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/6&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;jså¾ªç¯ä¾èµ–å¯¹è±¡æ·±æ‹·è´&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;jså¾ªç¯ä¾èµ–å¯¹è±¡æ·±æ‹·è´&quot;],&quot;date&quot;:[3,&quot;2023-03-07T13:37:26.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## å¾ªç¯ä¾èµ–ç¤ºä¾‹\n\n```javascript\nlet a = {}\nlet b = { a }\na.b = b\n```\n\n## ç»éªŒåˆ†äº«\n\nè¿™æ ·çš„å¾ªç¯ä¾èµ–çš„å¯¹è±¡ï¼Œéœ€è¦æ¯æ¬¡é€’å½’çš„æ—¶å€™ä¿ç•™ä¸Šä¸€æ¬¡é€’å½’çš„å±‚çº§ã€‚\nå¹¶åˆ¤æ–­è¿™æ¬¡é€’å½’çš„å†…å®¹ä¸­ï¼Œæœ‰æ²¡æœ‰ä¸Šä¸€æ¬¡çš„å†…å®¹ã€‚\nå¦‚æœæœ‰çš„è¯ï¼Œå°±ç›´æ¥è¿”å›ä¸Šä¸€æ¬¡çš„å†…å®¹å°±è¡Œäº†ã€‚ä¸­æ–­äº†é€’å½’ã€‚\n\n## ä»£ç å®ç°\n\n```javascript\n/**\n * @param { object } obj\n * @returns { object }\n */\nconst deepCopy = (obj, stack = []) =&gt; {\n  let target = null\n  if (typeof obj === &#39;object&#39;) {\n    if(stack.includes(obj)) {\n      return obj\n    } else {\n      stack.push(obj)\n    }\n    if (Array.isArray(obj)) {\n      target = []\n      obj.forEach(item =&gt; {\n        target.push(deepCopy(item, stack))\n      })\n    } else if (obj) {\n      target = {}\n      for (const [key, value] of Object.entries(obj)) {\n        target[key] = deepCopy(obj[key], stack)\n      }\n    } else {\n      target = obj\n    }\n  } else {\n    target = obj\n  }\n  return target\n}\nexport default deepCopy\n```&quot;],&quot;filePath&quot;:[0,&quot;source/posts/jså¾ªç¯ä¾èµ–å¯¹è±¡æ·±æ‹·è´.md&quot;],&quot;digest&quot;:[0,&quot;da127793cf375128&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;å¾ªç¯ä¾èµ–ç¤ºä¾‹\&quot;&gt;å¾ªç¯ä¾èµ–ç¤ºä¾‹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å¾ªç¯ä¾èµ–ç¤ºä¾‹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; a &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; b &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; { a }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;a.b &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; b&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;ç»éªŒåˆ†äº«\&quot;&gt;ç»éªŒåˆ†äº«&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ç»éªŒåˆ†äº«\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;è¿™æ ·çš„å¾ªç¯ä¾èµ–çš„å¯¹è±¡ï¼Œéœ€è¦æ¯æ¬¡é€’å½’çš„æ—¶å€™ä¿ç•™ä¸Šä¸€æ¬¡é€’å½’çš„å±‚çº§ã€‚\nå¹¶åˆ¤æ–­è¿™æ¬¡é€’å½’çš„å†…å®¹ä¸­ï¼Œæœ‰æ²¡æœ‰ä¸Šä¸€æ¬¡çš„å†…å®¹ã€‚\nå¦‚æœæœ‰çš„è¯ï¼Œå°±ç›´æ¥è¿”å›ä¸Šä¸€æ¬¡çš„å†…å®¹å°±è¡Œäº†ã€‚ä¸­æ–­äº†é€’å½’ã€‚&lt;/p&gt;\n&lt;h2 id=\&quot;ä»£ç å®ç°\&quot;&gt;ä»£ç å®ç°&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#ä»£ç å®ç°\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; * &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;@param&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; { object }&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; * &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;@returns&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; { object }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; */&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;obj&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;stack&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; []) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; null&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;typeof&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;object&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(stack.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;includes&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      stack.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (Array.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;isArray&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; []&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      obj.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;forEach&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;item&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        target.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(item, stack))&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      })&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (obj) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      for&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;key&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;value&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;of&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; Object.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;entries&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        target[key] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj[key], stack)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; target&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;export&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; default&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; deepCopy&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å¾ªç¯ä¾èµ–ç¤ºä¾‹&quot;],&quot;text&quot;:[0,&quot;å¾ªç¯ä¾èµ–ç¤ºä¾‹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ç»éªŒåˆ†äº«&quot;],&quot;text&quot;:[0,&quot;ç»éªŒåˆ†äº«&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ä»£ç å®ç°&quot;],&quot;text&quot;:[0,&quot;ä»£ç å®ç°&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;jså¾ªç¯ä¾èµ–å¯¹è±¡æ·±æ‹·è´&quot;],&quot;date&quot;:[3,&quot;2023-03-07T13:37:26.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/5&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;jså¯¹è±¡æ•°ç»„æ·±æ‹·è´&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;JSå¯¹è±¡æ•°ç»„æ·±æ‹·è´&quot;],&quot;date&quot;:[3,&quot;2023-02-08T21:52:20.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;```javascript\n/**\n * @param { object } obj\n * @returns { object }\n */\nconst deepCopy = (obj) =&gt; {\n  let target = null\n  if (typeof obj === &#39;object&#39;) {\n    if (Array.isArray(obj)) {\n      target = []\n      obj.forEach(item =&gt; {\n        target.push(deepCopy(item))\n      })\n    } else if (obj) {\n      target = {}\n      for (const [key, value] of Object.entries(obj)) {\n        target[key] = deepCopy(obj[key])\n      }\n    } else {\n      target = obj\n    }\n  } else {\n    target = obj\n  }\n  return target\n}\n```&quot;],&quot;filePath&quot;:[0,&quot;source/posts/JSå¯¹è±¡æ•°ç»„æ·±æ‹·è´.md&quot;],&quot;digest&quot;:[0,&quot;81324560e5f70a7f&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;javascript\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; * &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;@param&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; { object }&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; * &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;@returns&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; { object }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt; */&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;obj&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  let&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; null&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;typeof&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;===&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; &#39;object&#39;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;    if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (Array.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;isArray&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; []&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      obj.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;forEach&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#E36209;--shiki-dark:#FFAB70\&quot;&gt;item&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; =&gt;&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        target.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;push&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(item))&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      })&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt; if&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (obj) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {}&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;      for&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; (&lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;const&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; [&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;key&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;, &lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt;value&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;of&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; Object.&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;entries&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj)) {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;        target[key] &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt; deepCopy&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;(obj[key])&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;      target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  } &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;else&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; {&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;    target &lt;/span&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;=&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; obj&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;  }&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#D73A49;--shiki-dark:#F97583\&quot;&gt;  return&lt;/span&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt; target&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#24292E;--shiki-dark:#E1E4E8\&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;JSå¯¹è±¡æ•°ç»„æ·±æ‹·è´&quot;],&quot;date&quot;:[3,&quot;2023-02-08T21:52:20.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/4&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;cenos-7-6æ­å»ºpptpæœåŠ¡&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;CenOS-7.6æ­å»ºpptpæœåŠ¡&quot;],&quot;date&quot;:[3,&quot;2023-02-05T10:36:58.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;body&quot;:[0,&quot;## å‚è€ƒæ•™ç¨‹\n\n&lt;a href=\&quot;https://help.aliyun.com/document_detail/41345.html\&quot; target=\&quot;_blank\&quot;&gt;è§é˜¿é‡Œäº‘æ•™ç¨‹&lt;/a&gt;\n\n## é˜²ç«å¢™é…ç½®é—®é¢˜\n\næŒ‰ç…§é˜¿é‡Œäº‘æ­¥éª¤èµ°å®Œï¼Œå¦‚æœæé†’è¿œç¨‹è¿æ¥è®¡ç®—æœºç«¯å£å·²å…³é—­çš„è¯ã€‚å¯èƒ½æ˜¯æ²¡å¼€æ”¾ç«¯å£ã€‚\n\néœ€è¦æ›´æ”¹é˜²ç«å¢™çš„ç­–ç•¥ã€‚\n\n```bash\n# æŸ¥çœ‹é˜²ç«å¢™å½“å‰é…ç½®\niptables -L -n\n\n# å…è®¸æ‰€æœ‰è¯·æ±‚\niptables -P INPUT ACCEPT\n\n# æ¸…ç©ºé»˜è®¤æ‰€æœ‰è§„åˆ™\niptables -F\n\n# æ¸…ç©ºè‡ªå®šä¹‰æ‰€æœ‰è§„åˆ™\niptables -X\n\n# è®¡æ•°å™¨ç½®0\niptables -Z\n\n# å…è®¸127.0.0.1è®¿é—®æœ¬åœ°æœåŠ¡\niptables -A INPUT -i lo -j ACCEPT\n\n# å…è®¸è®¿é—®å¤–éƒ¨æœåŠ¡\niptables -A INPUT -m state --state ESTABLISHED -j ACCEPT\n\n# å…è®¸ ping\niptables -A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT\n\n# å¼€å¯ ssh ç«¯å£\niptables -A INPUT -p tcp --dport 22 -j ACCEPT\n\n# å¼€å¯ pptpd ç«¯å£\niptables -A INPUT -p tcp --dport 1723 -j ACCEPT\n```\n\n## æ³¨æ„äº‹é¡¹\n\nå“å˜¿,æ˜¨å¤©æˆ‘æäº†åŠå¤©è¿ä¸ä¸Šã€‚åæ¥çœ‹äº†å¾ˆå¤šæ•™ç¨‹ã€‚æ‰çŸ¥é“æ˜¯æˆ‘é˜²ç«å¢™æœªæ”¾è¡Œã€‚\n\nå¾ˆå¤šç½‘ä¸Šçš„æ•™ç¨‹å¹¶æœªæåŠé˜²ç«å¢™æ”¾è¡Œè¿™ä¸€æ­¥æ­¥éª¤ã€‚\n\n### è¡¥å……è¯´æ˜\n\næ¯æ¬¡å¦‚æœæ›´æ”¹äº†DNSå’Œipæ®µé…ç½®åã€‚éƒ½è¦è¿è¡Œè¿™ä¸ªå‘½ä»¤æ¥ç”Ÿæ•ˆå“¦ï¼š\n\n```bash\nsysctl -p              # ç”Ÿæ•ˆé…ç½®\nservice iptables save  # ä¿å­˜é˜²ç«å¢™é…ç½®\nservice iptables restart  # é‡å¯é˜²ç«å¢™\n```\n\nå¦‚æœæ›´æ”¹ï¼Œæˆ–æ·»åŠ pptpdè´¦å·ã€‚ä¹Ÿæ˜¯éœ€è¦é‡å¯pptpçš„ã€‚\n\n```bash\nservice pptpd restart  # é‡å¯pptp\n```&quot;],&quot;filePath&quot;:[0,&quot;source/posts/CenOS-7-6æ­å»ºpptpæœåŠ¡.md&quot;],&quot;digest&quot;:[0,&quot;a05f5af800f47570&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h2 id=\&quot;å‚è€ƒæ•™ç¨‹\&quot;&gt;å‚è€ƒæ•™ç¨‹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#å‚è€ƒæ•™ç¨‹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;&lt;a href=\&quot;https://help.aliyun.com/document_detail/41345.html\&quot; target=\&quot;_blank\&quot;&gt;è§é˜¿é‡Œäº‘æ•™ç¨‹&lt;/a&gt;&lt;/p&gt;\n&lt;h2 id=\&quot;é˜²ç«å¢™é…ç½®é—®é¢˜\&quot;&gt;é˜²ç«å¢™é…ç½®é—®é¢˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#é˜²ç«å¢™é…ç½®é—®é¢˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;æŒ‰ç…§é˜¿é‡Œäº‘æ­¥éª¤èµ°å®Œï¼Œå¦‚æœæé†’è¿œç¨‹è¿æ¥è®¡ç®—æœºç«¯å£å·²å…³é—­çš„è¯ã€‚å¯èƒ½æ˜¯æ²¡å¼€æ”¾ç«¯å£ã€‚&lt;/p&gt;\n&lt;p&gt;éœ€è¦æ›´æ”¹é˜²ç«å¢™çš„ç­–ç•¥ã€‚&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# æŸ¥çœ‹é˜²ç«å¢™å½“å‰é…ç½®&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -L&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -n&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å…è®¸æ‰€æœ‰è¯·æ±‚&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -P&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# æ¸…ç©ºé»˜è®¤æ‰€æœ‰è§„åˆ™&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -F&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# æ¸…ç©ºè‡ªå®šä¹‰æ‰€æœ‰è§„åˆ™&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -X&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# è®¡æ•°å™¨ç½®0&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -Z&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å…è®¸127.0.0.1è®¿é—®æœ¬åœ°æœåŠ¡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -A&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -i&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; lo&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -j&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å…è®¸è®¿é—®å¤–éƒ¨æœåŠ¡&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -A&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -m&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; state&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; --state&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ESTABLISHED&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -j&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å…è®¸ ping&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -A&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -p&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; icmp&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -m&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; icmp&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; --icmp-type&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 8&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -j&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å¼€å¯ ssh ç«¯å£&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -A&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -p&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; tcp&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; --dport&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 22&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -j&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;# å¼€å¯ pptpd ç«¯å£&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;iptables&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -A&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; INPUT&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -p&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; tcp&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; --dport&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; 1723&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -j&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; ACCEPT&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;æ³¨æ„äº‹é¡¹\&quot;&gt;æ³¨æ„äº‹é¡¹&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#æ³¨æ„äº‹é¡¹\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;p&gt;å“å˜¿,æ˜¨å¤©æˆ‘æäº†åŠå¤©è¿ä¸ä¸Šã€‚åæ¥çœ‹äº†å¾ˆå¤šæ•™ç¨‹ã€‚æ‰çŸ¥é“æ˜¯æˆ‘é˜²ç«å¢™æœªæ”¾è¡Œã€‚&lt;/p&gt;\n&lt;p&gt;å¾ˆå¤šç½‘ä¸Šçš„æ•™ç¨‹å¹¶æœªæåŠé˜²ç«å¢™æ”¾è¡Œè¿™ä¸€æ­¥æ­¥éª¤ã€‚&lt;/p&gt;\n&lt;h3 id=\&quot;è¡¥å……è¯´æ˜\&quot;&gt;è¡¥å……è¯´æ˜&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#è¡¥å……è¯´æ˜\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;æ¯æ¬¡å¦‚æœæ›´æ”¹äº†DNSå’Œipæ®µé…ç½®åã€‚éƒ½è¦è¿è¡Œè¿™ä¸ªå‘½ä»¤æ¥ç”Ÿæ•ˆå“¦ï¼š&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;sysctl&lt;/span&gt;&lt;span style=\&quot;color:#005CC5;--shiki-dark:#79B8FF\&quot;&gt; -p&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;              # ç”Ÿæ•ˆé…ç½®&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;service&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; iptables&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; save&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  # ä¿å­˜é˜²ç«å¢™é…ç½®&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;service&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; iptables&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; restart&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  # é‡å¯é˜²ç«å¢™&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;å¦‚æœæ›´æ”¹ï¼Œæˆ–æ·»åŠ pptpdè´¦å·ã€‚ä¹Ÿæ˜¯éœ€è¦é‡å¯pptpçš„ã€‚&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;bash\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span style=\&quot;color:#6F42C1;--shiki-dark:#B392F0\&quot;&gt;service&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; pptpd&lt;/span&gt;&lt;span style=\&quot;color:#032F62;--shiki-dark:#9ECBFF\&quot;&gt; restart&lt;/span&gt;&lt;span style=\&quot;color:#6A737D;--shiki-dark:#6A737D\&quot;&gt;  # é‡å¯pptp&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;å‚è€ƒæ•™ç¨‹&quot;],&quot;text&quot;:[0,&quot;å‚è€ƒæ•™ç¨‹&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;é˜²ç«å¢™é…ç½®é—®é¢˜&quot;],&quot;text&quot;:[0,&quot;é˜²ç«å¢™é…ç½®é—®é¢˜&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;æ³¨æ„äº‹é¡¹&quot;],&quot;text&quot;:[0,&quot;æ³¨æ„äº‹é¡¹&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;è¡¥å……è¯´æ˜&quot;],&quot;text&quot;:[0,&quot;è¡¥å……è¯´æ˜&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;CenOS-7.6æ­å»ºpptpæœåŠ¡&quot;],&quot;date&quot;:[3,&quot;2023-02-05T10:36:58.000Z&quot;],&quot;tags&quot;:[0,&quot;æŠ€æœ¯åˆ†äº«&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/3&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;date&quot;:[3,&quot;2023-02-04T21:09:52.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;body&quot;:[0,&quot;&lt;p&gt;è·ç¦»SRSè¿˜æœ‰12å¤©å¤§æ¦‚çš„æ ·å­å§ã€‚å¦‚æœä¸å‡ºæ„å¤–çš„è¯ã€‚&lt;/p&gt;\n&lt;p&gt;è¯´å®è¯ä¸ªäººæ„Ÿè§‰æŒºæ…Œçš„&lt;/p&gt;\n&lt;p&gt;æœ¯å‰ç´§å¼ ã€‚è‚¯å®šæœ‰çš„ã€‚å®³!!&lt;/p&gt;\n&lt;p&gt;ä½†æ„¿æœªæ¥èƒ½å¤Ÿä¸€åˆ‡é¡ºåˆ©å§&lt;/p&gt;\n\n![emj](../img/QQå›¾ç‰‡20230204211241.jpg)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]],&quot;digest&quot;:[0,&quot;04770aeaaedfdf6c&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;è·ç¦»SRSè¿˜æœ‰12å¤©å¤§æ¦‚çš„æ ·å­å§ã€‚å¦‚æœä¸å‡ºæ„å¤–çš„è¯ã€‚&lt;/p&gt;\n&lt;p&gt;è¯´å®è¯ä¸ªäººæ„Ÿè§‰æŒºæ…Œçš„&lt;/p&gt;\n&lt;p&gt;æœ¯å‰ç´§å¼ ã€‚è‚¯å®šæœ‰çš„ã€‚å®³!!&lt;/p&gt;\n&lt;p&gt;ä½†æ„¿æœªæ¥èƒ½å¤Ÿä¸€åˆ‡é¡ºåˆ©å§&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/QQå›¾ç‰‡20230204211241.jpg&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;date&quot;:[3,&quot;2023-02-04T21:09:52.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/2&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´&quot;],&quot;date&quot;:[3,&quot;2023-01-18T00:06:04.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;body&quot;:[0,&quot;&lt;p&gt;\n æ²¡è½¦ç¥¨ï¼Œé»„ç‰›ç¥¨å¤ªè´µã€‚ä¸å¤ªæƒ³å›å»è¿‡å¹´ã€‚è€Œä¸”ï¼Œæœ€è¿‘çš„çƒ¦å¿ƒäº‹çœŸçš„æ˜¯å¥½å¤šã€‚ä»Šå¹´ä¸‰æœˆã€å››æœˆå¯èƒ½è¦è¿›è¡ŒSRSğŸ¥ï¼Œè¦å‘å…¬å¸è¯·ä¸€ä¸ªæœˆå‡ï¼Œå°±éå¸¸åœ°å¤´ç–¼ã€‚\n&lt;/p&gt;\n\n![emj](../img/u=3523309784,1268457401&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG.webp)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/u=3523309784,1268457401&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG.webp&quot;]]],&quot;digest&quot;:[0,&quot;1592ef77e31722b1&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;\n æ²¡è½¦ç¥¨ï¼Œé»„ç‰›ç¥¨å¤ªè´µã€‚ä¸å¤ªæƒ³å›å»è¿‡å¹´ã€‚è€Œä¸”ï¼Œæœ€è¿‘çš„çƒ¦å¿ƒäº‹çœŸçš„æ˜¯å¥½å¤šã€‚ä»Šå¹´ä¸‰æœˆã€å››æœˆå¯èƒ½è¦è¿›è¡ŒSRSğŸ¥ï¼Œè¦å‘å…¬å¸è¯·ä¸€ä¸ªæœˆå‡ï¼Œå°±éå¸¸åœ°å¤´ç–¼ã€‚\n&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/u=3523309784,1268457401&amp;#x26;fm=253&amp;#x26;fmt=auto&amp;#x26;app=138&amp;#x26;f=JPEG.webp&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/u=3523309784,1268457401&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG.webp&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´&quot;],&quot;date&quot;:[3,&quot;2023-01-18T00:06:04.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/u=3523309784,1268457401&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG.webp&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/1&quot;]}]]],&quot;currentPostSlug&quot;:[0,&quot;ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´&quot;],&quot;prevPostItem&quot;:[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;date&quot;:[3,&quot;2023-02-04T21:09:52.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;body&quot;:[0,&quot;&lt;p&gt;è·ç¦»SRSè¿˜æœ‰12å¤©å¤§æ¦‚çš„æ ·å­å§ã€‚å¦‚æœä¸å‡ºæ„å¤–çš„è¯ã€‚&lt;/p&gt;\n&lt;p&gt;è¯´å®è¯ä¸ªäººæ„Ÿè§‰æŒºæ…Œçš„&lt;/p&gt;\n&lt;p&gt;æœ¯å‰ç´§å¼ ã€‚è‚¯å®šæœ‰çš„ã€‚å®³!!&lt;/p&gt;\n&lt;p&gt;ä½†æ„¿æœªæ¥èƒ½å¤Ÿä¸€åˆ‡é¡ºåˆ©å§&lt;/p&gt;\n\n![emj](../img/QQå›¾ç‰‡20230204211241.jpg)&quot;],&quot;filePath&quot;:[0,&quot;source/posts/ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†.md&quot;],&quot;assetImports&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]],&quot;digest&quot;:[0,&quot;04770aeaaedfdf6c&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;p&gt;è·ç¦»SRSè¿˜æœ‰12å¤©å¤§æ¦‚çš„æ ·å­å§ã€‚å¦‚æœä¸å‡ºæ„å¤–çš„è¯ã€‚&lt;/p&gt;\n&lt;p&gt;è¯´å®è¯ä¸ªäººæ„Ÿè§‰æŒºæ…Œçš„&lt;/p&gt;\n&lt;p&gt;æœ¯å‰ç´§å¼ ã€‚è‚¯å®šæœ‰çš„ã€‚å®³!!&lt;/p&gt;\n&lt;p&gt;ä½†æ„¿æœªæ¥èƒ½å¤Ÿä¸€åˆ‡é¡ºåˆ©å§&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;figure class=\&quot;markdown-image-wrapper\&quot;&gt;&lt;img __ASTRO_IMAGE_=\&quot;{&amp;#x22;src&amp;#x22;:&amp;#x22;../img/QQå›¾ç‰‡20230204211241.jpg&amp;#x22;,&amp;#x22;alt&amp;#x22;:&amp;#x22;emj&amp;#x22;,&amp;#x22;loading&amp;#x22;:&amp;#x22;lazy&amp;#x22;,&amp;#x22;decoding&amp;#x22;:&amp;#x22;async&amp;#x22;,&amp;#x22;class&amp;#x22;:&amp;#x22;markdown-image&amp;#x22;,&amp;#x22;index&amp;#x22;:0}\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[]],&quot;localImagePaths&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†&quot;],&quot;date&quot;:[3,&quot;2023-02-04T21:09:52.000Z&quot;],&quot;tags&quot;:[0,&quot;ç¢ç¢å¿µ&quot;]}],&quot;imagePaths&quot;:[1,[[0,&quot;../img/QQå›¾ç‰‡20230204211241.jpg&quot;]]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/2&quot;]}],&quot;nextPostItem&quot;:[0,null]}" ssr client="load" opts="{&quot;name&quot;:&quot;HomeSiderPanel&quot;,&quot;value&quot;:true}" await-children><link rel="preload" as="image" href="/img/724d7fb480c8ac0db472ca5c7e36d239.jpg" fetchPriority="high"/><div class="cursor-pointer rounded-sm bg-black/8 p-1 font-semibold backdrop-blur-lg select-none my-4 flex w-full justify-between text-sm/6"><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs opacity-50 grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM15.8329 7.33748C16.0697 7.17128 16.3916 7.19926 16.5962 7.40381C16.8002 7.60784 16.8267 7.92955 16.6587 8.16418C14.479 11.2095 13.2796 12.8417 13.0607 13.0607C12.4749 13.6464 11.5251 13.6464 10.9393 13.0607C10.3536 12.4749 10.3536 11.5251 10.9393 10.9393C11.3126 10.5661 12.9438 9.36549 15.8329 7.33748ZM17.5 11C18.0523 11 18.5 11.4477 18.5 12C18.5 12.5523 18.0523 13 17.5 13C16.9477 13 16.5 12.5523 16.5 12C16.5 11.4477 16.9477 11 17.5 11ZM6.5 11C7.05228 11 7.5 11.4477 7.5 12C7.5 12.5523 7.05228 13 6.5 13C5.94772 13 5.5 12.5523 5.5 12C5.5 11.4477 5.94772 11 6.5 11ZM8.81802 7.40381C9.20854 7.79433 9.20854 8.4275 8.81802 8.81802C8.4275 9.20854 7.79433 9.20854 7.40381 8.81802C7.01328 8.4275 7.01328 7.79433 7.40381 7.40381C7.79433 7.01328 8.4275 7.01328 8.81802 7.40381ZM12 5.5C12.5523 5.5 13 5.94772 13 6.5C13 7.05228 12.5523 7.5 12 7.5C11.4477 7.5 11 7.05228 11 6.5C11 5.94772 11.4477 5.5 12 5.5Z"></path></svg></span></div><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs text-primary-foreground grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5.75024 3.5H4.71733L3.25 3.89317V5.44582L4.25002 5.17782L4.25018 8.5H3V10H7V8.5H5.75024V3.5ZM10 4H21V6H10V4ZM10 11H21V13H10V11ZM10 18H21V20H10V18ZM2.875 15.625C2.875 14.4514 3.82639 13.5 5 13.5C6.17361 13.5 7.125 14.4514 7.125 15.625C7.125 16.1106 6.96183 16.5587 6.68747 16.9167L6.68271 16.9229L5.31587 18.5H7V20H3.00012L2.99959 18.8786L5.4717 16.035C5.5673 15.9252 5.625 15.7821 5.625 15.625C5.625 15.2798 5.34518 15 5 15C4.67378 15 4.40573 15.2501 4.37747 15.5688L4.3651 15.875H2.875V15.625Z"></path></svg></span><span class="overflow-hidden whitespace-nowrap" style="width:auto;opacity:1">æ–‡ç« ç›®å½•</span><div class="bg-gradient-shoka-button absolute inset-0 -z-10 rounded-sm" style="will-change:transform"></div></div><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs opacity-50 grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM7 6H11V10H7V6ZM7 12H17V14H7V12ZM7 16H17V18H7V16ZM13 7H17V9H13V7Z"></path></svg></span></div></div><div class="vertical-scrollbar pt-10 scroll-gutter-stable relative block w-full flex-1 min-h-0 overflow-x-hidden overflow-y-auto md:pt-4 md:pl-3" data-type="post" data-default-type="directory"><div class="sider-slot" data-slot-type="info"><div class="flex flex-col items-center"><div class="h-40 w-40 rounded-full"><img class="shadow-card-darker hover:animate-shake h-full w-full rounded-full transition" src="/img/724d7fb480c8ac0db472ca5c7e36d239.jpg" alt="snow avatar" loading="eager" fetchPriority="high"/></div><p class="mt-2">snow</p><p class="text-muted-foreground mt-3 text-center">ACG / å…»çŒ«äºº / èœé€¼ / å‰ç«¯ä»€é”¦</p><div class="mt-2 grid grid-cols-3 gap-2"><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#191717" data-platform="github" href="https://github.com/XueHua-s" title="GitHub" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="GitHub"><i class="fa-brands fa-github social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#4b9ae4" data-platform="x" href="https://x.com/xiaoxueljx?s=21" title="X (æ¨ç‰¹)" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="X (æ¨ç‰¹)"><i class="fa-brands fa-x-twitter social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#55acd5" data-platform="email" href="mailto:xuehualjx@gmail.com" title="Email" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="Email"><i class="fa-regular fa-envelope social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div></div><div class="text-muted-foreground mt-3 flex justify-center text-center text-sm/4 whitespace-nowrap select-none dark:text-white/80"><a href="/blog" class="hover:text-blue flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">23</span>æ–‡ç« </a><div class="bg-muted-foreground mx-3 w-px"></div><a href="/blog/categories" aria-label="åˆ†ç±»" class="hover:text-blue"><p class="flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">5</span>åˆ†ç±»</p></a><div class="bg-muted-foreground mx-3 w-px"></div><a href="/blog/tags" class="hover:text-blue flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">38</span>æ ‡ç­¾</a></div><div class="mt-6 flex w-full flex-col items-center gap-2.5"><a href="/blog" aria-label="é¦–é¡µ" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-house-chimney" aria-hidden="true"></i>é¦–é¡µ</a><div class="bg-foreground/10 flex w-40 flex-col rounded-xl opacity-75 transition-all duration-300 hover:opacity-100" data-collapsible="true"><button class="flex-center hover:bg-foreground/5 h-12 w-full cursor-pointer rounded-xl transition-colors" aria-expanded="false" aria-controls="_r15R_a_-collapse-1" aria-label="æ–‡ç« èœå•" type="button"><i class="mr-1.5 fa-solid fa-pen-nib" aria-hidden="true"></i>æ–‡ç« <i class="fa-solid fa-caret-down ml-2 text-base transition-transform duration-300" aria-hidden="true"></i></button><div id="_r15R_a_-collapse-1" class="collapse-content collapse-hidden" data-collapse-content="true"><div class="flex flex-col items-center"><a href="/blog/categories" aria-label="åˆ†ç±»" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-layer-group" aria-hidden="true"></i>åˆ†ç±»</a><a href="/blog/tags" aria-label="æ ‡ç­¾" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-tags" aria-hidden="true"></i>æ ‡ç­¾</a></div></div></div><a href="/blog/friends" aria-label="å‹é“¾" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-link" aria-hidden="true"></i>å‹é“¾</a><a href="/blog/about" aria-label="å…³äº" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-regular fa-circle-user" aria-hidden="true"></i>å…³äº</a></div></div></div><div class="sider-slot hidden" data-slot-type="directory"></div><div class="sider-slot hidden" data-slot-type="series"><div class="flex flex-col gap-1"><a href="/blog/post/22" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">Rust æ ‘ç»“æ„ä¸­ Rc ä¸ Weak çš„é…åˆä½¿ç”¨</span></a><a href="/blog/post/21" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">Rust Cowï¼ˆClone-On-Writeï¼‰å­¦ä¹ ç¬”è®°ï¼šç†è§£ Borrowed çŠ¶æ€</span></a><a href="/blog/post/17" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">Electron çƒ­æ›´æ–°åå¯åŠ¨æ€§èƒ½ä¼˜åŒ–ï¼šV8 ç¼“å­˜ä¸ä»£ç æ‹†åŒ…å®æˆ˜</span></a><a href="/blog/post/15" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">é…ç½® Codex è‡ªå®šä¹‰ä¸‰æ–¹API</span></a><a href="/blog/post/14" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">React Effect ä¾èµ–ä¼˜åŒ–æœ€ä½³å®è·µ</span></a><a href="/blog/post/12" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">Hexoåšå®¢GitHub Actionsè‡ªåŠ¨éƒ¨ç½²é…ç½®</span></a><a href="/blog/post/11" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">NestJså…³äºå¾ªç¯ä¾èµ–</span></a><a href="/blog/post/10" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">å…³äºVue3å¦‚ä½•åˆ¤æ–­çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ äº†æ’æ§½</span></a><a href="/blog/post/9" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">element-plusè¡¨æ ¼éšè—è¡Œæ•°åŠŸèƒ½</span></a><a href="/blog/post/8" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">å‰ç«¯é“¾è¡¨è¿ç”¨åœºæ™¯</span></a><a href="/blog/post/7" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">å…³äºå‰ç«¯æ•°æ®åº“indexDB</span></a><a href="/blog/post/6" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">è¡¨æ ¼æ‹–æ‹½æ–¹æ³•æ‰‹å†™</span></a><a href="/blog/post/5" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">jså¾ªç¯ä¾èµ–å¯¹è±¡æ·±æ‹·è´</span></a><a href="/blog/post/4" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">JSå¯¹è±¡æ•°ç»„æ·±æ‹·è´</span></a><a href="/blog/post/3" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">CenOS-7.6æ­å»ºpptpæœåŠ¡</span></a><a href="/blog/post/2" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†</span></a><a href="/blog/post/1" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50 text-primary font-medium"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-primary"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-primary">ä¸çŸ¥é“æ€ä¹ˆè¿‡å¹´</span></a></div></div></div><div class="border-border mt-4 flex flex-col gap-3 border-t pt-4 md:mt-0 md:pt-2 w-full px-2"><div class="flex items-center justify-between gap-2"><a href="/blog/post/2" class="group flex items-center gap-1.5 rounded-md px-2 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary max-w-[45%] min-w-0 flex-1" title="ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4 shrink-0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"></path></svg><span class="truncate text-xs">ä¸åˆ°åŠä¸ªæœˆå°±è¦å˜çŒ«äº†</span></a><div class="max-w-[45%] flex-1"></div></div><div class="flex justify-center gap-2"><button class="flex items-center justify-center gap-1.5 rounded-md px-3 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary text-xs" title="å›åˆ°é¡¶éƒ¨" aria-label="å›åˆ°é¡¶éƒ¨"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.9999 10.8284L7.0502 15.7782L5.63599 14.364L11.9999 8L18.3639 14.364L16.9497 15.7782L11.9999 10.8284Z"></path></svg>å›åˆ°é¡¶éƒ¨</button><button class="flex items-center justify-center gap-1.5 rounded-md px-3 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary text-xs" title="æ»šåˆ°åº•éƒ¨" aria-label="æ»šåˆ°åº•éƒ¨"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"></path></svg>æ»šåˆ°åº•éƒ¨</button></div></div><div class="mt-auto w-full rounded-full pt-4 sticky bottom-0"><div class="bg-primary h-1 origin-left rounded-full scale-x-0"></div></div><!--astro:end--></astro-island> </div> </astro-slot></div></div><!--astro:end--></astro-island> <!-- é®ç½©å±‚ --><div id="search-overlay" data-state="closed" class="fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-opacity duration-200 data-[state=closed]:hidden" role="presentation" aria-hidden="true"></div> <!-- æœç´¢å¯¹è¯æ¡† --> <div id="search-dialog" data-state="closed" class="fixed inset-0 z-50 grid place-items-center px-4 data-[state=closed]:hidden" role="dialog" aria-label="æœç´¢æ–‡ç« " aria-modal="true"> <div id="search-dialog-content" class="bg-gradient-start shadow-box w-full max-w-3xl overflow-auto rounded-xl opacity-0 transition-all duration-200"> <div class="relative p-6 md:p-3"> <div class="search-dialog"> <!-- Header --> <div class="relative mb-4 flex items-center justify-between"> <h2 class="flex items-center gap-2 text-lg font-semibold md:text-base"> <i class="fa-solid fa-magnifying-glass text-base md:text-sm" aria-hidden="true"></i>
æœç´¢æ–‡ç« 
</h2> <button id="search-dialog-close" class="flex size-8 items-center justify-center rounded-full bg-black/5 transition-colors duration-300 hover:bg-black/10 md:size-7 dark:bg-white/10 dark:hover:bg-white/20" aria-label="å…³é—­æœç´¢"> <i class="fa-solid fa-xmark text-base md:text-sm" aria-hidden="true"></i> </button> </div> <div id="search-empty-hint" class="search-empty-hint absolute inset-x-0 top-32 text-center text-sm opacity-60 md:top-28"> <p>è¾“å…¥å…³é”®è¯æœç´¢åšå®¢æ–‡ç« </p> <p class="mt-1 text-xs">
æŒ‰ <kbd class="rounded bg-black/10 px-1.5 py-0.5 font-mono dark:bg-white/10">ESC</kbd> å…³é—­
</p> </div> <!-- Search Content Area --> <div class="vertical-scrollbar scroll-feather-mask -mx-6 h-[calc(80dvh-140px)] overflow-auto scroll-smooth px-6 pb-10 md:-mx-3 md:h-[calc(80dvh-120px)] md:px-3"> <!-- Search Container --> <div id="search-dialog-container"></div> </div> </div> <!-- Keyboard hints --> <div class="bg-background/2 absolute inset-x-0 bottom-0 z-10 flex items-center justify-center gap-4 px-4 pt-2 pb-4 text-xs text-black/50 dark:border-white/10 dark:text-white/50"> <span><kbd class="kbd">â†‘â†“</kbd> é€‰æ‹©</span> <span><kbd class="kbd">Enter</kbd> æ‰“å¼€</span> <span><kbd class="kbd">ESC</kbd> å…³é—­</span> </div> </div> </div> </div> <script type="module" src="/_astro/SearchDialog.astro_astro_type_script_index_0_lang.rdAe_kv8.js"></script>  <!-- é®ç½©å±‚ --><div id="code-fullscreen-overlay" data-state="closed" class="fixed inset-0 z-40 bg-black/80 opacity-0 backdrop-blur-sm transition-opacity duration-200 data-[state=closed]:hidden" role="presentation" aria-hidden="true"></div> <!-- ä»£ç å…¨å±å¯¹è¯æ¡† --> <div id="code-fullscreen-dialog" data-state="closed" class="fixed inset-0 z-50 grid place-items-center px-4 data-[state=closed]:hidden" role="dialog" aria-label="ä»£ç å…¨å±é¢„è§ˆ" aria-modal="true"> <div id="code-fullscreen-content" class="bg-background relative flex h-[85vh] w-[90vw] max-w-6xl flex-col overflow-hidden rounded-xl opacity-0 shadow-2xl transition-opacity duration-200 md:max-w-[90vw]"> <!-- Toolbar --> <div class="border-border bg-muted/50 flex shrink-0 items-center justify-between border-b px-4 py-3 backdrop-blur-sm"> <div class="flex items-center gap-3"> <div class="flex gap-2"> <span class="h-3 w-3 rounded-full bg-[#ff5f56]"></span> <span class="h-3 w-3 rounded-full bg-[#ffbd2e]"></span> <span class="h-3 w-3 rounded-full bg-[#27c93f]"></span> </div> <span id="code-fullscreen-language" class="text-muted-foreground font-mono text-xs font-medium tracking-wider uppercase">
text
</span> </div> <div class="flex items-center gap-1"> <button id="code-fullscreen-copy" class="text-muted-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-2 rounded-md px-3 py-1.5 transition-colors"> <!-- Copy icon --> <svg id="code-fullscreen-copy-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 448 512" fill="currentColor"> <path d="M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"></path> </svg> <!-- Checkmark icon (hidden by default) --> <svg id="code-fullscreen-check-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" class="hidden"> <mask id="checkmark-anim-fullscreen"> <g fill="none" stroke="#fff" stroke-dasharray="24" stroke-dashoffset="24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"> <path d="M2 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.4s" values="24;0"></animate> </path> <path stroke="#000" stroke-width="6" d="M7.5 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="24;0"></animate> </path> <path d="M7.5 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="24;0"></animate> </path> </g> </mask> <rect width="24" height="24" fill="currentColor" mask="url(#checkmark-anim-fullscreen)"></rect> </svg> <span id="code-fullscreen-copy-text" class="text-sm">å¤åˆ¶</span> </button> <button id="code-fullscreen-close" class="text-muted-foreground hover:bg-accent hover:text-accent-foreground rounded-md p-2 transition-colors" aria-label="å…³é—­"> <i class="fa-solid fa-xmark text-base" aria-hidden="true"></i> </button> </div> </div> <!-- Code Content --> <div class="scroll-feather-mask flex-1 overflow-auto"> <pre id="code-fullscreen-pre" class="p-4"><code id="code-fullscreen-code"></code></pre> </div> </div> </div> <script type="module" src="/_astro/CodeBlockFullscreen.astro_astro_type_script_index_0_lang.DlZ7j563.js"></script> <!-- Overlay --><div id="mermaid-fullscreen-overlay" data-state="closed" class="fixed inset-0 z-40 bg-black/80 opacity-0 backdrop-blur-sm transition-opacity duration-200 data-[state=closed]:hidden" role="presentation" aria-hidden="true"></div> <!-- Mermaid Fullscreen Dialog --> <div id="mermaid-fullscreen-dialog" data-state="closed" class="fixed inset-0 z-50 grid place-items-center px-4 data-[state=closed]:hidden" role="dialog" aria-label="Mermaid diagram fullscreen" aria-modal="true"> <div id="mermaid-fullscreen-content" class="bg-background relative flex h-[85vh] w-[90vw] max-w-6xl flex-col overflow-hidden rounded-xl opacity-0 shadow-2xl transition-opacity duration-200 md:max-w-[90vw]"> <!-- Toolbar --> <div class="border-border bg-muted/50 flex shrink-0 items-center justify-between border-b px-4 py-3 backdrop-blur-sm"> <div class="flex items-center gap-3"> <div class="flex gap-2"> <span class="h-3 w-3 rounded-full bg-[#ff5f56]"></span> <span class="h-3 w-3 rounded-full bg-[#ffbd2e]"></span> <span class="h-3 w-3 rounded-full bg-[#27c93f]"></span> </div> <span class="text-muted-foreground font-mono text-xs font-medium tracking-wider uppercase"> mermaid </span> </div> <div class="flex items-center gap-1"> <!-- Zoom info --> <span id="mermaid-zoom-level" class="text-muted-foreground mr-2 text-sm">100%</span> <!-- Reset zoom button --> <button id="mermaid-fullscreen-reset" class="text-muted-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-2 rounded-md px-3 py-1.5 transition-colors" title="Reset zoom"> <i class="fa-solid fa-rotate-right text-sm" aria-hidden="true"></i> </button> <!-- Copy button --> <button id="mermaid-fullscreen-copy" class="text-muted-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-2 rounded-md px-3 py-1.5 transition-colors"> <svg id="mermaid-fullscreen-copy-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 448 512" fill="currentColor"> <path d="M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"></path> </svg> <svg id="mermaid-fullscreen-check-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" class="hidden"> <mask id="checkmark-anim-mermaid-fullscreen"> <g fill="none" stroke="#fff" stroke-dasharray="24" stroke-dashoffset="24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"> <path d="M2 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.4s" values="24;0"></animate> </path> <path stroke="#000" stroke-width="6" d="M7.5 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="24;0"></animate> </path> <path d="M7.5 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="24;0"></animate> </path> </g> </mask> <rect width="24" height="24" fill="currentColor" mask="url(#checkmark-anim-mermaid-fullscreen)"></rect> </svg> <span id="mermaid-fullscreen-copy-text" class="text-sm">Copy</span> </button> <!-- Close button --> <button id="mermaid-fullscreen-close" class="text-muted-foreground hover:bg-accent hover:text-accent-foreground rounded-md p-2 transition-colors" aria-label="Close"> <i class="fa-solid fa-xmark text-base" aria-hidden="true"></i> </button> </div> </div> <!-- SVG Container with zoom/pan --> <div id="mermaid-fullscreen-viewport" class="flex flex-1 cursor-grab items-center justify-center overflow-hidden active:cursor-grabbing"> <div id="mermaid-fullscreen-svg" class="mermaid-svg-container origin-center transition-transform duration-100"></div> </div> </div> </div> <script type="module" src="/_astro/MermaidFullscreen.astro_astro_type_script_index_0_lang.1oZJ2I3k.js"></script> </div> </body></html>